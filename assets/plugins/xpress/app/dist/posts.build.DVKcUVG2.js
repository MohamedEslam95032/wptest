import{r as h,o as tt,y as st,u as _e,E as ne,c as Z,O as ve,b as a,d as s,m as ee,F as B,n as q,j as e,H as fe,A as ze,z as Ue,I as $e,f as n,$ as nt,B as Ie,l as u,g as S,k as D,_ as T,W as qe,t as g,R as Ve,a as te,w as je,p as at,J as Ae,Y as he,e as ae,K as Ee,V as ht,D as O,C as se,T as lt,h as re,a0 as He,G as xt,i as et,a1 as mt,S as _t,s as bt,v as wt,x as yt,P as kt}from"./assets/_plugin-vue_export-helper-y4Xv5kKr.js";import{_ as zt,L as $t}from"./assets/index-C_FNz6s0.js";import{_ as ot}from"./assets/index-B-3JnImM.js";import{_ as Ye,M as Ct}from"./assets/index-DghDHKPv.js";import{_ as We}from"./assets/index-9hv1rT8S.js";import{_ as Ce}from"./assets/index-C-cYCD9B.js";import{i as Xe}from"./assets/inSearch-uRPV3sBV.js";import{_ as St}from"./assets/index-CeMQa9Zn.js";import{_ as Oe}from"./assets/index-64rmHcpw.js";import{_ as Vt}from"./assets/index-BaxaBONX.js";import{_ as Pt}from"./assets/index-BKyH2sbb.js";import{H as Tt}from"./assets/vue-datepicker-DwGI8PcW.js";import{u as At}from"./assets/useColorScheme-CSURGKQC.js";import{V as Mt}from"./assets/vue-draggable-next.esm-bundler-BRtBwvW6.js";import"./assets/index-xR3ssTK5.js";import"./assets/checkbox-OW0WsXcV.js";import"./assets/formatDateString-CpJBBOOJ.js";function Ut(){const t=h(!1);let p=null;const v=()=>{t.value=document.body.classList.contains("dark")};return tt(()=>{v(),p=new MutationObserver(d=>{d.forEach(c=>{c.type==="attributes"&&c.attributeName==="class"&&v()})}),p.observe(document.body,{attributes:!0,attributeFilter:["class"]})}),st(()=>{p&&p.disconnect()}),{isDark:t}}const K=h([]),ye=h([]),Te=h(!1),pe=h("all"),ue=h([]),it=h({}),rt=h([]),oe=h({}),Je=h(null),Re=h(null),P=h({search:"",per_page:10,page:1,pages:0,total:0,orderby:"date",order:"DESC",post_type:"post",dateRange:null,categories:[]}),Be=h({}),Pe=h([]),me=h(!1),ke=h({all:{value:"all",count:0,current:!0,label:(0,window.wp.i18n.__)("All","uixpress"),query_params:[]},draft:{value:"draft",count:0,current:!0,label:(0,window.wp.i18n.__)("Drafts","uixpress"),query_params:[]}});let we;const Y=async t=>{we||(we=_e()),Be.value=[],we.updateState("loading",!0),Re.value=!0,t||(Te.value=!0);const p=new URL(`${we.state.adminUrl}admin.php`);p.searchParams.append("page","uixpress-posts-data"),p.searchParams.append("_wpnonce",we.state.restNonce),p.searchParams.append("post_type",P.value.post_type),p.searchParams.append("per_page",P.value.per_page),p.searchParams.append("paged",P.value.page),p.searchParams.append("orderby",P.value.orderby),p.searchParams.append("order",P.value.order),p.searchParams.append("s",P.value.search),p.searchParams.append("categories",P.value.categories.join(",")),Array.isArray(P.value.dateRange)&&(p.searchParams.append("start_date",formatDate(P.value.dateRange[0])),p.searchParams.append("end_date",formatDate(P.value.dateRange[1])));const v=new URLSearchParams(window.location.search);v.get("post_status")&&p.searchParams.append("post_status",v.get("post_status")),v.get("author")&&p.searchParams.append("author",v.get("author"));const d=ke.value[pe.value];d&&Object.entries(d.query_params).forEach(([x,y])=>{Array.isArray(y)?p.searchParams.append(x,y.join(",")):p.searchParams.append(x,y)});const c=await fetch(p,{headers:{"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});we.updateState("loading",!1);const _=await c.text(),w=new DOMParser().parseFromString(_,"text/html").getElementById("uixpress-posts-data");if(!w)throw Te.value=!1,Re.value=!1,new Error("Posts data not found");const E=JSON.parse(w.textContent);ue.value.length||(ue.value=Object.values(E.columns)),it.value=E.column_classes,ye.value=E.items,rt.value=E.custom_styles,ke.value=E.views,P.value.pages=E.pages,P.value.total=E.total,It(),Te.value=!1,Re.value=!1},It=()=>{const t=new URLSearchParams(window.location.search);t.get("post_status")&&ke.value[t.get("post_status")]&&(pe.value=t.get("post_status")),t.get("author")&&we.state.userID==t.get("author")&&(pe.value="mine")},Dt=async t=>{const p={endpoint:`wp/v2/${t.rest_base}/${t.id}`,params:{context:"edit"}},v=await ne(p);if(v)return v.data},ge=Z(()=>{const t=p=>{let v=[];return p.forEach(d=>{var c;v.push(d),(Pe.value.includes(d.id)||me.value)&&((c=d.children)==null?void 0:c.length)>0&&(v=v.concat(t(d.children)))}),v};return t(ye.value)}),Ne=h(!1),Lt=async()=>{if(K.value.length){Ne.value=!0;for(let t of K.value){const p=ge.value.find(k=>k.id==t),v=await Dt(p);if(!p||!v)continue;const d=`${v.title.raw} (copy)`,c={...v};delete c.id,delete c.date,delete c.date_gmt,delete c.title,c.title=d,c.status="draft";const _={endpoint:`wp/v2/${p.rest_base}`,params:{},type:"POST",data:c};await ne(_)}Ne.value=!1,ve({type:"success",title:(0,window.wp.i18n.__)("Items duplicated","uixpress")}),Y(!0),K.value=[]}},Fe=h(!1),Rt=async()=>{if(!(!K.value.length||!await Je.value.show({title:(0,window.wp.i18n.__)("Are you sure?","uixpress"),message:(0,window.wp.i18n.__)("Are you sure you want to delete these items? This action cannot be undone.","uixpress"),okButton:(0,window.wp.i18n.__)("Yes delete them","uixpress")}))){Fe.value=!0;for(let p of K.value){const v=ge.value.find(_=>_.id==p);if(!v)continue;const d={endpoint:`wp/v2/${v.rest_base}/${v.id}`,params:{force:v.single_status=="trash"},type:"DELETE"};await ne(d)}Fe.value=!1,ve({type:"success",title:(0,window.wp.i18n.__)("Items deleted","uixpress")}),Y(!0),K.value=[]}},Ke=h(!1),jt=async()=>{if(!(!K.value.length||!await Je.value.show({title:(0,window.wp.i18n.__)("Are you sure?","uixpress"),message:(0,window.wp.i18n.__)("Are you sure you want to publish these items?","uixpress"),okButton:(0,window.wp.i18n.__)("Yes publish them","uixpress")}))){Ke.value=!0;for(let p of K.value){const v=ge.value.find(_=>_.id==p);if(!v)continue;const d={endpoint:`wp/v2/${v.rest_base}/${v.id}`,params:{},data:{status:"publish"},type:"POST"};await ne(d)}Ke.value=!1,ve({type:"success",title:(0,window.wp.i18n.__)("Items published","uixpress")}),Y(!0),K.value=[]}},Et=async(t,p)=>{if(!p)return;const v=t.target.innerHTML.trim();if(ge.value.find(b=>b.id==p).title.value===v||!v)return;const c={endpoint:`wp/v2/${oe.value.rest_base}/${p}`,params:{},data:{title:v},type:"POST"};await ne(c)&&ve({type:"success",title:(0,window.wp.i18n.__)("Item title updated","uixpress")})},dt=async t=>{if(!t||!t.author.id)return;const p={endpoint:`wp/v2/${oe.value.rest_base}/${t.id}`,params:{},data:{author:t.author.id},type:"POST"};await ne(p)&&(ve({type:"success",title:(0,window.wp.i18n.__)("Item author updated","uixpress")}),Y(!0))},ct=async(t,p)=>{if(!t||!p)return;const v={endpoint:`wp/v2/${oe.value.rest_base}/${t.id}`,params:{},data:{status:p.value},type:"POST"};await ne(v)&&(ve({type:"success",title:(0,window.wp.i18n.__)("Item status updated","uixpress")}),Y(!0))},Ht={__name:"index",props:{rows:{type:[Number]},columns:{type:[Number]}},setup(t){return(p,v)=>(s(!0),a(B,null,ee(t.rows,d=>(s(),a("tr",{class:"animate-pulse",key:`loader-${d}`},[(s(!0),a(B,null,ee(t.columns,c=>(s(),a("td",{class:q(["px-3 py-3",c===2?"w-1/2":""])},[...v[0]||(v[0]=[e("div",{class:"h-11 bg-zinc-100 dark:bg-zinc-800 rounded-xl"},null,-1)])],2))),256))]))),128))}},Ot={class:"relative inline-flex"},Bt=["value"],Nt={key:0,class:"absolute inset-0 flex flex-col place-content-center pointer-events-none"},Ft={__name:"index",props:fe(["value"],{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const p=ze(t,"modelValue"),v=Ue();return(d,c)=>(s(),a("div",Ot,[$e(e("input",Ie({type:"checkbox","onUpdate:modelValue":c[0]||(c[0]=_=>p.value=_),value:t.value,class:"appearance-none w-4 h-4 text-indigo-600 bg-zinc-100 border-zinc-300 rounded focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:ring-offset-zinc-800 focus:ring-2 dark:bg-zinc-700 dark:border-zinc-600 checked:bg-indigo-500 border border-zinc-200 dark:border-zinc-700"},u(v)),null,16,Bt),[[nt,p.value]]),n(qe,null,{default:S(()=>[p.value.includes(t.value)?(s(),a("div",Nt,[n(T,{icon:"tick",class:"text-white mx-auto"})])):D("",!0)]),_:1})]))}},Kt={class:"flex flex-col gap-6 items-center p-16 mx-auto w-[460px]"},qt={class:"text-zinc-900 text-3xl text-center font-semibold"},Yt={class:"text-zinc-500 text-lg text-center"},Wt={class:"place-content-between flex gap-6 flex-row"},Xt={__name:"index",props:["title","description"],setup(t){return(p,v)=>(s(),a("div",Kt,[n(T,{icon:"folder-open",class:"w-24"}),e("span",qt,g(t.title)+" :(",1),e("span",Yt,g(t.description),1),e("div",Wt,[Ve(p.$slots,"links")])]))}},Jt={class:"flex flex-col gap-6"},Gt={class:"flex flex-row gap-4 items-center w-full"},Qt={class:"flex-grow"},Zt={class:"relative max-w-[50%]"},es=["placeholder"],ts={key:0,class:"p-1 rounded-lg border border-zinc-200 dark:border-zinc-700 dark:border-zinc-700 absolute right-2 top-1/2 translate-y-[-50%]"},ss={class:"flex gap-3 items-center"},ns={class:"max-w-full overflow-x-auto"},as={class:"text-left font-medium"},ls={key:0,class:"font-normal text-zinc-400 w-1 p-4 border-t border-b border-zinc-200 dark:border-zinc-700/80 sticky left-0 bg-white dark:bg-zinc-900 z-[1]"},os=["onClick"],is={class:"flex flex-row items-center gap-1"},rs=["innerHTML"],ds={key:0},cs={key:0},us=["colspan"],ps={key:"emptydata"},fs=["colspan"],gs={key:"emptyquery"},vs=["colspan"],hs={key:2},xs=["colspan"],ms=["onContextmenu"],_s=["onClick"],bs={key:0,class:"flex flex-row gap-6 place-content-between items-center p-4 w-full"},ws={class:"text-zinc-400 text-sm"},ys={class:"flex gap-2 items-center"},ks={class:"text-zinc-400 text-sm"},zs={__name:"index",props:fe({columns:{default:()=>[],type:Array},data:{default:()=>[],type:Array},rowRightClick:{type:Function},rowClick:{type:Function},pagination:{type:Object},fetching:{type:Boolean},defaultMode:{default:()=>"list",type:String},onlyMode:{type:String},hideSelect:{type:Boolean},hasBorders:{type:Boolean},searchPlaceHolder:{type:String,default:"Search..."},loading:{type:Boolean,default:!1}},{selected:{default:[]},selectedModifiers:{}}),emits:fe(["previous","next","search","selected","griddragenter","griddragover","griddragleave","griddrop"],["update:selected"]),setup(t,{expose:p,emit:v}){const d=_e(),c=v,_=t,b=h(_.defaultMode),k=h(!1),w=ze(t,"selected"),E=h(null),x=Z(()=>_.columns.filter(A=>A.active)),y=Z(()=>(_.pagination.page-1)*_.pagination.per_page+1),z=Z(()=>{const A=_.pagination.page*_.pagination.per_page;return Math.min(A,_.pagination.total)});te(w,(A,M)=>{c("selected",A)},{deep:!0}),je(()=>{Array.isArray(w.value)||(w.value=[])});const f=(A,M,L)=>{let F=_.hideSelect&&M===0?["group-hover:rounded-l-xl"]:[];return M==x.value.length-1&&F.push("group-hover:rounded-r-xl"),M==x.value.length-1&&w.value.includes(L.id)&&F.push("rounded-r-xl"),_.hasBorders&&(F=[...F,"border-b","border-zinc-200 dark:border-zinc-700"]),M===0&&(F=[...F,"sticky","left-[42px]","z-[1]","group-hover:bg-none","dark:group-hover:bg-none"]),M===0&&w.value.includes(L.id)&&_.hideSelect&&(F=[...F,"group-hover:rounded-l-xl"]),M===0&&!w.value.includes(L.id)&&(F=[...F,"bg-gradient-to-r","from-white","via-white","via-white","via-white","via-white","dark:from-zinc-900","dark:via-zinc-900","dark:via-zinc-900","dark:via-zinc-900","dark:via-zinc-900"]),F.join(" ")},l=A=>{if(_.data.length===w.value.length)w.value=[];else{const M=[];_.data.forEach(L=>{M.push(L.id)}),w.value=M}},r=A=>{let M=A/30;return M=M>.6?.6:M,`${M.toFixed(3)}s`},V=(A,M)=>{_.rowRightClick&&(A.preventDefault(),_.rowRightClick(A,M))},W=(A,M)=>{_.rowClick&&(A.preventDefault(),_.rowClick(A,M))},o=A=>{if(A.width)return`width:${A.width}`},j=A=>{A.sort_key&&(_.pagination.orderby==A.sort_key&&(_.pagination.order=_.pagination.order=="DESC"?"ASC":"DESC"),_.pagination.orderby=A.sort_key,c("search"))},U=Z(()=>b.value),G=Z(()=>E.value);return je(()=>{let A=[];k.value=!0;for(let M of w.value){const L=_.data.find(F=>F.id==M);A.push(L)}d.updateState("selected",A),at(()=>{k.value=!1})}),te(()=>d.state.selected,()=>{if(k.value)return;let A=d.state.selected.map(M=>M.id);w.value=A},{deep:!0}),p({returnMode:U,returnTable:G}),(A,M)=>(s(),a("div",Jt,[e("div",Gt,[e("div",Qt,[e("div",Zt,[n(T,{icon:"search",class:"text-zinc-400 absolute left-4 top-1/2 translate-y-[-50%] text-lg"}),$e(e("input",{"onUpdate:modelValue":M[0]||(M[0]=L=>t.pagination.search=L),onKeyup:M[1]||(M[1]=he(L=>c("search"),["enter"])),type:"text",class:"py-2 px-0 pl-16 bg-transparent border border-transparent w-full items-center transition-all outline-none focus:outline-none",placeholder:t.searchPlaceHolder},null,40,es),[[Ae,t.pagination.search]]),n(qe,null,{default:S(()=>[t.pagination.search?(s(),a("div",ts,[n(T,{icon:"return",class:"text-zinc-400 text-lg"})])):D("",!0)]),_:1})])]),e("div",ss,[Ve(A.$slots,"right-actions")])]),e("div",ns,[e("table",{class:"table-auto w-full border-separate border-spacing-0 wp-list-table",ref_key:"table",ref:E},[e("thead",null,[e("tr",as,[t.hideSelect?D("",!0):(s(),a("th",ls,[n(We,{onClick:l,checked:w.value.length===t.data.length&&!t.loading&&t.data.length>0},null,8,["checked"])])),(s(!0),a(B,null,ee(x.value,(L,F)=>(s(),a("th",{key:L.key,class:q(["font-normal text-zinc-400 p-4 border-t border-b border-zinc-200 dark:border-zinc-700 text-sm",[{"sticky left-[42px] z-[1] bg-gradient-to-r from-white via-white via-white via-white via-white dark:from-zinc-900 dark:from-zinc-900 dark:via-zinc-900 dark:via-zinc-900":F===0},{"cursor-pointer hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors":L.sort_key},L.column_classes]]),style:Ee(o(L)),onClick:le=>j(L)},[Ve(A.$slots,"head-"+L.key,{column:L},()=>[e("div",is,[e("span",{innerHTML:L.label,class:q(["whitespace-nowrap transition-colors",L.sort_key&&t.pagination.orderby==L.sort_key?"text-zinc-900 dark:text-zinc-100":""])},null,10,rs),L.sort_key&&t.pagination.orderby==L.sort_key?(s(),ae(T,{key:0,icon:t.pagination.order=="DESC"?"arrow_downward":"arrow_upward"},null,8,["icon"])):D("",!0)])])],14,os))),128))])]),t.fetching?(s(),a("tbody",ds,[t.hasBorders?D("",!0):(s(),a("tr",cs,[e("td",{colspan:x.value.length},[...M[7]||(M[7]=[e("div",{class:"h-4"},null,-1)])],8,us)])),n(Ht,{columns:x.value.length+1,rows:10},null,8,["columns"])])):(s(),ae(ht,{key:1,tag:"tbody",name:"tableitem",css:!1},{default:S(()=>[!t.data.length&&!t.pagination.search.length&&!t.fetching?(s(),a("tr",ps,[e("td",{colspan:x.value.length},[Ve(A.$slots,"empty")],8,fs)])):D("",!0),!t.data.length&&t.pagination.search.length&&!t.fetching?(s(),a("tr",gs,[e("td",{colspan:x.value.length},[n(Xt,{title:"Nothing found",description:`Nothing found for search term: '${t.pagination.search}'`},null,8,["description"])],8,vs)])):D("",!0),t.hasBorders?D("",!0):(s(),a("tr",hs,[e("td",{colspan:x.value.length},[...M[8]||(M[8]=[e("div",{class:"h-4"},null,-1)])],8,xs)])),(s(!0),a(B,null,ee(t.data,(L,F)=>(s(),a("tr",{key:L.id?L.id:F,style:Ee(`transition-delay:${r(F)}`),onContextmenu:le=>V(le,F),class:"group"},[t.hideSelect?D("",!0):(s(),a("td",{key:0,class:q(["px-4 py-3 group-hover:bg-zinc-100 dark:group-hover:bg-zinc-800 transition-all cursor-pointer group-hover:rounded-l-xl sticky left-0 z-[1] bg-white border-b border-zinc-100 dark:border-zinc-800",w.value.includes(L.id)?"bg-zinc-100 dark:bg-zinc-800 rounded-l-xl":"dark:bg-zinc-900"])},[n(Ft,{value:L.id,modelValue:w.value,"onUpdate:modelValue":M[2]||(M[2]=le=>w.value=le)},null,8,["value","modelValue"])],2)),(s(!0),a(B,null,ee(x.value,(le,m)=>{var C;return s(),a("td",{onClick:I=>W(I,F),class:q(["px-4 py-3 group-hover:bg-zinc-100 dark:group-hover:bg-zinc-800 transition-all cursor-pointer border-b border-zinc-100 dark:border-zinc-800",[`${f(le,m,L)} ${le.classes} ${(C=L==null?void 0:L.cell_classes)==null?void 0:C[le.key].join(" ")}`,w.value.includes(L.id)?"bg-zinc-100 dark:bg-zinc-800":""]]),key:le.key},[Ve(A.$slots,"row-"+le.key,{row:L,index:F})],10,_s)}),128))],44,ms))),128))]),_:3}))],512)]),t.pagination&&t.data.length&&t.pagination.pages>1?(s(),a("div",bs,[e("span",ws,g(y.value)+" - "+g(z.value)+" of "+g(t.pagination.total),1),e("div",ys,[e("span",ks,g(t.pagination.page)+" of "+g(t.pagination.pages),1),n(O,{disabled:t.pagination.page===1,onClick:M[3]||(M[3]=L=>c("first")),type:"transparent"},{default:S(()=>[n(T,{icon:"first_page"})]),_:1},8,["disabled"]),n(O,{disabled:t.pagination.page===1,onClick:M[4]||(M[4]=L=>c("previous")),type:"transparent"},{default:S(()=>[n(T,{icon:"chevron_left"})]),_:1},8,["disabled"]),n(O,{onClick:M[5]||(M[5]=L=>c("next")),disabled:t.pagination.page===t.pagination.pages,type:"transparent"},{default:S(()=>[n(T,{icon:"chevron_right"})]),_:1},8,["disabled"]),n(O,{disabled:t.pagination.page===t.pagination.pages,onClick:M[6]||(M[6]=L=>c("last")),type:"transparent"},{default:S(()=>[n(T,{icon:"last_page"})]),_:1},8,["disabled"])])])):D("",!0)]))}},$s={class:"flex flex-col gap-1"},Cs=["href"],Ss=["onClick"],Vs={key:2,class:"border-t border-zinc-200 dark:border-zinc-700 w-full my-1"},ut={__name:"post-actions",props:["post"],emits:["refresh"],setup(t,{expose:p,emit:v}){const d=h(null),c=t,_=h(null),b=[{title:(0,window.wp.i18n.__)("Edit","uixpress"),icon:"edit",type:"link",url:decodeURIComponent(c.post.edit_url),condition:()=>c.post.is_editable},{title:(0,window.wp.i18n.__)("View","uixpress"),icon:"visibility",type:"link",url:decodeURIComponent(c.post.view_url),condition:()=>!0},{title:(0,window.wp.i18n.__)("Duplicate","uixpress"),icon:"copy",action:()=>E(),condition:()=>c.post.is_editable},{title:(0,window.wp.i18n.__)("Restore","uixpress"),icon:"update",id:"restore",action:()=>y(),condition:()=>c.post.single_status=="trash"&&c.post.is_editable},{type:"divider",condition:()=>c.post.is_editable},{title:(0,window.wp.i18n.__)("Delete","uixpress"),icon:"delete",danger:!0,action:()=>x(),condition:()=>c.post.is_editable}],k=Z(()=>{if(!c.post.row_actions.length)return b;let f=b,l=f.findIndex(r=>r.id=="restore");f.splice(l,0,{type:"divider",condition:()=>!0}),l++;for(let r of c.post.row_actions)f.splice(l,0,{title:r.text,icon:"link",type:"link",url:r.url,condition:()=>!0}),l++;return f}),w=async()=>{const f={endpoint:`wp/v2/${c.post.rest_base}/${c.post.id}`,params:{context:"edit"}},l=await ne(f);if(l)return l.data},E=async()=>{const f=await w();if(!f)return;const l=`${f.title.raw} (copy)`,r={...f};delete r.id,delete r.date,delete r.date_gmt,delete r.title,r.title=l,r.status="draft";const V={endpoint:`wp/v2/${c.post.rest_base}`,params:{},type:"POST",data:r};await ne(V)&&(ve({type:"success",title:(0,window.wp.i18n.__)("Item duplicated","uixpress")}),Y(!0))},x=async()=>{if(!await _.value.show({title:(0,window.wp.i18n.__)("Are you sure?","uixpress"),message:(0,window.wp.i18n.__)("Are you sure you want to delete this item? This action cannot be undone.","uixpress"),okButton:(0,window.wp.i18n.__)("Yes delete it","uixpress")}))return;d.value.close();const l={endpoint:`wp/v2/${c.post.rest_base}/${c.post.id}`,params:{force:c.post.single_status=="trash"},type:"DELETE"};await ne(l)&&(ve({type:"success",title:(0,window.wp.i18n.__)("Item deleted","uixpress")}),Y(!0))},y=async()=>{const f={endpoint:`wp/v2/${c.post.rest_base}/${c.post.id}`,params:{},data:{status:"draft"},type:"POST"};await ne(f)&&(ve({type:"success",title:(0,window.wp.i18n.__)("Item restored","uixpress")}),Y(!0))};return p({show:f=>{d.value.show(f)}}),(f,l)=>(s(),a("div",null,[n(O,{type:"transparent"},{default:S(()=>[n(T,{icon:"more_vert",class:"text-lg",onClick:l[0]||(l[0]=se(r=>d.value.show(r),["stop","prevent"]))})]),_:1}),n(Ce,{ref_key:"contextmenu",ref:d},{default:S(()=>[e("div",$s,[(s(!0),a(B,null,ee(k.value,r=>(s(),a(B,null,[r.type=="link"&&r.condition()?(s(),a("a",{key:0,href:r.url,onClick:l[1]||(l[1]=se(()=>{},["stop"])),class:q(["px-2 py-1 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors hover:text-zinc-900 dark:hover:text-zinc-100 flex flex-row place-content-between gap-6 items-center cursor-pointer whitespace-nowrap",r.danger?"text-rose-500 hover:text-rose-700 dark:hover:text-rose-300":""])},[e("span",null,g(r.title),1),n(T,{icon:r.icon,class:"text-lg"},null,8,["icon"])],10,Cs)):r.type!="divider"&&r.condition()?(s(),a("div",{key:1,class:q(["px-2 py-1 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors hover:text-zinc-900 dark:hover:text-zinc-100 flex flex-row place-content-between gap-6 items-center cursor-pointer whitespace-nowrap",r.danger?"text-rose-500 hover:text-rose-700 dark:hover:text-rose-300":""]),onClick:se(r.action,["stop"])},[e("span",null,g(r.title),1),n(T,{icon:r.icon,class:"text-lg"},null,8,["icon"])],10,Ss)):r.type=="divider"&&r.condition()?(s(),a("div",Vs)):D("",!0)],64))),256))])]),_:1},512),n(Ye,{ref_key:"confirm",ref:_},null,512)]))}},Ps={class:"w-5 aspect-square bg-zinc-700 dark:bg-indigo-700 text-white rounded-full font-semibold flex items-center justify-center shrink-0 relative overflow-hidden border border-zinc-200 dark:border-zinc-700"},Ts={class:"lowercase relative text-sm font-medium leading-none mb-0.5"},As=["src"],Ms=["innerHTML"],Us={class:"flex flex-col gap-3 w-[260px]"},Is={class:"font-semibold mb-1"},Ds={class:"relative flex"},Ls=["placeholder"],Rs={class:"absolute top-0 left-0 h-full flex flex-col place-content-center px-2 py-1"},js={class:"flex flex-col max-h-80 overflow-auto"},Es={key:0,class:"flex flex-col gap-2 animate-pulse p-2"},Hs=["onClick"],Os={key:0,class:"flex flex-row place-content-end items-center gap-1"},Ge={__name:"inline-user-select",props:fe(["post"],{modelValue:{},modelModifiers:{}}),emits:fe(["updated"],["update:modelValue"]),setup(t,{emit:p}){const v=Ue(),d=ze(t,"modelValue"),c=p,_=h(!1),b=h(""),k=h(null),w=h(null),E=t,x=h({per_page:10,page:1,pages:0,total:0}),y=h([]);h([]),(0,window.wp.i18n.__)("Users","uixpress"),(0,window.wp.i18n.__)("Roles","uixpress");const z=h("roles"),f=async U=>{E.post.is_editable&&(w.value.show(U,r()),await l())},l=async()=>{_.value=!0;const U={endpoint:"wp/v2/users",params:{...x.value,search:b.value}},G=await ne(U);_.value=!1,G&&(y.value=G.data,x.value.pages=G.totalPages,x.value.total=G.totalItems)},r=U=>{const A=k.value.getBoundingClientRect();return{clientY:A.bottom+10,clientX:A.left}},V=U=>d.value.id==U.id,W=U=>{V(U)?d.value={}:(d.value={id:U.id,name:U.name||U.slug,gravatar:U.avatar_urls[24]||U.avatar_urls[38]||U.avatar_urls[96]},c("updated"))},o=()=>{x.value.page--,l()},j=()=>{x.value.page++,l()};return(U,G)=>(s(),a(B,null,[e("div",Ie({onClick:se(f,["stop"])},u(v),{ref_key:"parent",ref:k,class:"flex flex-row items-center gap-2 text-zinc-500 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors cursor-pointer"}),[e("div",Ps,[e("span",Ts,g(d.value.name?d.value.name.charAt(0):"u"),1),d.value.gravatar?(s(),a("img",{key:0,src:d.value.gravatar,class:"absolute w-full h-full"},null,8,As)):D("",!0)]),e("span",{class:"truncate",innerHTML:d.value.name||U.__("Unknown user","uixpress")},null,8,Ms)],16),n(Ce,{ref_key:"contextmenu",ref:w},{default:S(()=>[e("div",Us,[e("div",Is,g(U.__("Update author","uixpress")),1),e("div",Ds,[$e(e("input",{"onUpdate:modelValue":G[0]||(G[0]=A=>b.value=A),class:"px-2 py-2 pl-8 border border-zinc-200 dark:border-zinc-700 rounded-lg w-full transition-all outline outline-transparent outline-offset-[-2px] focus:outline-indigo-300 dark:focus:outline-indigo-700 focus:shadow-xs text-sm dark:bg-transparent",placeholder:U.__("Search","uixpress"),onKeyup:he(l,["enter"])},null,40,Ls),[[Ae,b.value]]),e("div",Rs,[n(T,{icon:"search",class:"text-lg text-zinc-400"})])]),e("div",js,[_.value?(s(),a("div",Es,[...G[1]||(G[1]=[e("div",{class:"rounded-lg h-4 w-2/3 bg-zinc-100 dark:bg-zinc-800"},null,-1),e("div",{class:"rounded-lg h-4 w-3/4 bg-zinc-100 dark:bg-zinc-800"},null,-1),e("div",{class:"rounded-lg h-4 w-1/2 bg-zinc-100 dark:bg-zinc-800"},null,-1),e("div",{class:"rounded-lg h-4 w-2/3 bg-zinc-100 dark:bg-zinc-800"},null,-1)])])):(s(!0),a(B,{key:1},ee(y.value,A=>(s(),a("div",{class:"flex flex-row items-center gap-3 p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors rounded-lg cursor-pointer",onClick:M=>W(A)},[n(We,{checked:!!V(A)},null,8,["checked"]),e("div",null,g(A.slug),1)],8,Hs))),256))]),z.value=="users"?(s(),a("div",Os,[n(O,{type:"default",disabled:x.value.page==1,onClick:o},{default:S(()=>[n(T,{icon:"chevron_left"})]),_:1},8,["disabled"]),n(O,{type:"default",disabled:x.value.page>=x.value.pages,onClick:j},{default:S(()=>[n(T,{icon:"chevron_right"})]),_:1},8,["disabled"])])):D("",!0)])]),_:1},512)],64))}},Bs=["innerHTML"],Ns={class:"flex flex-col gap-3 w-[260px]"},Fs={class:"font-semibold mb-1"},Ks={class:"relative flex"},qs=["placeholder"],Ys={class:"absolute top-0 left-0 h-full flex flex-col place-content-center px-2 py-1"},Ws={class:"flex flex-col max-h-80 overflow-auto"},Xs=["onClick"],Js=["innerHTML"],pt={__name:"inline-status-select",props:fe(["post"],{modelValue:{},modelModifiers:{}}),emits:fe(["updated"],["update:modelValue"]),setup(t,{emit:p}){const v=_e(),d=Ue(),c=ze(t,"modelValue"),_=p,b=h(""),k=h(null),w=h(null),E=t,x=async f=>{E.post.is_editable&&w.value.show(f,y())},y=f=>{const r=k.value.getBoundingClientRect();return{clientY:r.bottom+10,clientX:r.left}},z=f=>{c.value=f,_("updated",f)};return(f,l)=>(s(),a(B,null,[e("div",Ie({onClick:se(x,["stop"])},u(d),{ref_key:"parent",ref:k,class:"flex flex-row items-center gap-2 text-zinc-500 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors cursor-pointer"}),[e("div",{class:q(["uix-status whitespace-nowrap",`uix-status-${c.value.value}`]),innerHTML:c.value.label},null,10,Bs)],16),n(Ce,{ref_key:"contextmenu",ref:w},{default:S(()=>[e("div",Ns,[e("div",Fs,g(f.__("Update status","uixpress")),1),e("div",Ks,[$e(e("input",{"onUpdate:modelValue":l[0]||(l[0]=r=>b.value=r),class:"px-2 py-2 pl-8 border border-zinc-200 dark:border-zinc-700 rounded-lg w-full transition-all outline outline-transparent outline-offset-[-2px] focus:outline-indigo-300 dark:focus:outline-indigo-700 focus:shadow-xs text-sm dark:bg-transparent",placeholder:f.__("Search","uixpress")},null,8,qs),[[Ae,b.value]]),e("div",Ys,[n(T,{icon:"search",class:"text-lg text-zinc-400"})])]),e("div",Ws,[(s(!0),a(B,null,ee(u(v).state.postStatuses,r=>(s(),a(B,null,[u(Xe)(b.value,r.label,r.value)?(s(),a("div",{key:0,class:"flex flex-row items-center gap-3 p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors rounded-lg cursor-pointer",onClick:V=>z(r)},[n(We,{checked:r.value==c.value.value},null,8,["checked"]),e("div",{innerHTML:r.label},null,8,Js)],8,Xs)):D("",!0)],64))),256))])])]),_:1},512)],64))}},Gs=["src"],Qs={__name:"inline-image-select",props:fe(["post","teleportArea"],{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const p=ze(t,"modelValue"),v=t,d=h(null),c=async()=>{if(!v.post.is_editable)return;const b=await d.value.select({single:!0,selected:[]});if(!Array.isArray(b)||!b.length)return;const{title:k,id:w,source_url:E,mime_type:x}=b[0];x.includes("image")&&(p.value.image_url=E,p.value.image_id=w,_())},_=async()=>{if(!v.post||!p.value.image_id)return;const b={endpoint:`wp/v2/${v.post.rest_base}/${v.post.id}`,params:{},data:{featured_media:p.value.image_id},type:"POST"};await ne(b)&&ve({type:"success",title:(0,window.wp.i18n.__)("Featured image updated","uixpress")})};return(b,k)=>(s(),a(B,null,[e("div",{onClick:se(c,["stop"]),class:"h-10 w-10 rounded-lg bg-zinc-100 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 overflow-hidden flex flex-col items-center justify-center shrink-0"},[p.value.image_url?(s(),a("img",{key:0,src:p.value.image_url,class:"object-cover object-center h-full w-full"},null,8,Gs)):(s(),ae(T,{key:1,icon:"image",class:"text-xl"}))]),(s(),ae(lt,{disabled:!t.teleportArea,to:t.teleportArea},[n(St,{onClick:k[0]||(k[0]=se(()=>{},["stop"])),ref_key:"medialibrary",ref:d},null,512)],8,["disabled","to"]))],64))}},Zs={class:"flex items-center display-none"},en={class:"relative flex items-center rounded-full cursor-pointer",htmlFor:"checkbox"},ft={__name:"index",props:["value"],emits:["updated"],setup(t,{emit:p}){const v=t,d=h(v.value),c=p;return te(d,(_,b)=>{c("updated",d.value)}),te(()=>v.value,(_,b)=>{d.value=v.value}),(_,b)=>(s(),a("div",Zs,[e("label",en,[$e(e("input",{type:"checkbox",class:"before:content[''] peer relative h-5 w-5 cursor-pointer appearance-none rounded-md border border-zinc-300 dark:border-zinc-700 transition-all before:absolute before:top-2/4 before:left-2/4 before:block before:h-12 before:w-12 before:-translate-y-2/4 before:-translate-x-2/4 before:rounded-full before:bg-zinc-500 before:opacity-0 before:transition-opacity checked:border-zinc-900 checked:bg-zinc-900 checked:before:bg-zinc-900 hover:before:opacity-10",id:"checkbox","onUpdate:modelValue":b[0]||(b[0]=k=>d.value=k)},null,512),[[nt,d.value]]),b[1]||(b[1]=e("span",{class:"absolute text-white transition-opacity opacity-0 pointer-events-none top-2/4 left-2/4 -translate-y-2/4 -translate-x-2/4 peer-checked:opacity-100"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3.5 w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1))])]))}},tn={class:"flex flex-row flex-wrap gap-1 flex-grow"},sn={class:"text-sm rounded-lg pl-2 pr-1 border border-zinc-200 dark:border-zinc-700 flex gap-1 items-center bg-zinc-50 dark:bg-zinc-800"},nn=["placeholder"],an={key:1,class:"animate-spin text-indigo-500 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ln={class:"flex flex-col w-80 min-h-[100px] max-h-[400px] overflow-auto"},on={class:"flex flex-row place-content-between mb-3"},rn={class:"font-semibold text-zinc-900 dark:text-zinc-100"},dn={key:0,class:"w-full flex flex-col gap-2 animate-pulse"},cn=["onClick"],un={class:"flex-grow overflow-hidden text-ellipsis whitespace-nowrap"},pn={key:2,class:"px-3 py-2 bg-zinc-100 text-sm rounded-lg w-full text-zinc-500"},fn={key:3,class:"px-3 py-2 bg-zinc-100 text-sm rounded-lg w-full text-zinc-500"},gt={__name:"category-select",props:fe(["single","restrict","placeholder"],{modelValue:{},modelModifiers:{}}),emits:fe(["updated"],["update:modelValue"]),setup(t,{emit:p}){const v=t,d=ze(t,"modelValue"),c=h(null),_=h(null),b=h([]),k=h([]),w=h(!1),E=h(null),x=h(""),y=h(!1),z=h(0),f=Z(()=>b.value.filter(m=>Xe(x.value,m.name,m.slug,m.description))),l=Z(()=>k.value||[]),r=()=>{const m=f.value.length-1;z.value>m&&(z.value=m)},V=async()=>{w.value=!0;const m={endpoint:"wp/v2/categories",params:{per_page:"100",search:x.value}},C=await ne(m);w.value=!1,C&&(b.value=C.data)},W=async()=>{if(!d.value.length)return;w.value=!0;const m={endpoint:"wp/v2/categories",params:{per_page:"100",search:"",include:d.value}},C=await ne(m);w.value=!1,C&&(k.value=C.data)},o=()=>{z.value===0?z.value=f.value.length-1:z.value--},j=()=>{z.value>=f.value.length-1?z.value=0:z.value++},U=(m,C)=>{let I=m.id===m.slug?"bg-zinc-100":"";return C===z.value&&(I+=" bg-zinc-100 text-zinc-900  dark:bg-zinc-800 dark:text-zinc-100"),I},G=m=>{x.value.length===0&&k.value.pop()},A=m=>{const C=k.value.findIndex(I=>I.id===m);C>=0&&k.value.splice(C,1)},M=(m,C,I)=>{L(m.id)?A(m.id):v.single?k.value=[m]:k.value.push(m)},L=m=>!!k.value.find(I=>I.id==m),F=m=>{if(E.value.focus(),c.value.isOpen())return c.value.close();const C=le();c.value.show(m,C),V()},le=m=>{const I=_.value.getBoundingClientRect();return{clientY:I.bottom+10,clientX:I.left-303}};return te(()=>x.value,()=>{r(),V()}),te(()=>k.value,()=>{d.value=k.value.map(m=>m.id)},{deep:!0}),W(),(m,C)=>(s(),a("div",{ref_key:"trigger",ref:_,onClick:C[1]||(C[1]=se(I=>F(I),["prevent","stop"])),class:"flex flex-row gap-2 w-full cursor-pointer p-1 border border-zinc-200 dark:border-zinc-700 rounded-lg w-full transition-all outline outline-transparent outline-offset-[-2px] focus:outline-indigo-300 focus:shadow-xs"},[e("div",tn,[(s(!0),a(B,null,ee(l.value,(I,de)=>(s(),a("div",sn,[e("span",null,g(I.name),1),n(O,{onClick:se(xe=>A(I.id),["prevent","stop"]),type:"transparent",class:"text-xs"},{default:S(()=>[n(T,{icon:"close"})]),_:1},8,["onClick"])]))),256)),y.value?(s(),a("svg",an,[...C[2]||(C[2]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):$e((s(),a("input",{key:0,ref_key:"searchbox",ref:E,"onUpdate:modelValue":C[0]||(C[0]=I=>x.value=I),type:"text",class:"flex-grow min-w-6 w-6 outline-0 bg-transparent",placeholder:t.placeholder,onKeydown:he(G,["delete"]),onKeyup:[he(j,["down"]),he(o,["up"])]},null,40,nn)),[[Ae,x.value]])]),n(O,{type:"transparent"},{default:S(()=>[n(T,{icon:"unfold"})]),_:1}),n(Ce,{ref_key:"contextmenu",ref:c},{default:S(()=>[e("div",ln,[e("div",on,[e("div",rn,g(m.__("Categories","uixpress")),1),n(O,{type:"transparent",onClick:se(c.value.close,["stop"])},{default:S(()=>[n(T,{icon:"close"})]),_:1},8,["onClick"])]),w.value?(s(),a("div",dn,[...C[3]||(C[3]=[e("div",{class:"rounded-lg bg-zinc-100 dark:bg-zinc-800 h-4 w-2/3"},null,-1),e("div",{class:"rounded-lg bg-zinc-100 dark:bg-zinc-800 h-4 w-3/4"},null,-1),e("div",{class:"rounded-lg bg-zinc-100 dark:bg-zinc-800 h-4 w-1/2"},null,-1)])])):(s(!0),a(B,{key:1},ee(f.value,(I,de)=>(s(),ae(O,{class:q(["w-full text-left",U(I,de)]),type:"transparent"},{default:S(()=>[e("div",{class:"flex flex-row items-center place-content-between w-full gap-3 relative",onClick:xe=>M(I,xe,de)},[n(ft,{value:L(I.id)},null,8,["value"]),e("span",un,g(I.name),1),de==z.value?(s(),a(B,{key:0},[n(T,{icon:"arrow_upward",class:"text-zinc-400"}),n(T,{icon:"arrow_downward",class:"text-zinc-400"})],64)):D("",!0)],8,cn)]),_:2},1032,["class"]))),256)),!f.value.length&&!w.value&&x.value.length?(s(),a("div",pn,g(m.__("No products found","uixpress")),1)):D("",!0),!f.value.length&&!w.value&&!x.value.length?(s(),a("div",fn,g(m.__("No products found","uixpress")),1)):D("",!0)])]),_:1},512)],512))}},gn={class:"flex flex-row flex-wrap gap-1 flex-grow"},vn={class:"text-sm rounded-lg pl-2 pr-1 border border-zinc-200 dark:border-zinc-700 flex gap-1 items-center bg-zinc-50 dark:bg-zinc-800"},hn=["placeholder"],xn={key:1,class:"animate-spin text-indigo-500 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},mn={class:"flex flex-col w-80 min-h-[100px] max-h-[400px] overflow-auto"},_n={class:"flex flex-row place-content-between mb-3"},bn={class:"font-semibold text-zinc-900 dark:text-zinc-100"},wn={key:0,class:"w-full flex flex-col gap-2"},yn=["onClick"],kn={class:"flex-grow overflow-hidden text-ellipsis whitespace-nowrap"},zn={key:2,class:"px-3 py-2 bg-zinc-100 text-sm rounded-lg w-full text-zinc-500"},$n={key:3,class:"px-3 py-2 bg-zinc-100 text-sm rounded-lg w-full text-zinc-500"},Cn={__name:"tag-select",props:fe(["single","restrict","placeholder"],{modelValue:{},modelModifiers:{}}),emits:fe(["updated"],["update:modelValue"]),setup(t,{emit:p}){const v=t,d=ze(t,"modelValue"),c=h(null),_=h(null),b=h([]),k=h([]),w=h(!1),E=h(null),x=h(""),y=h(!1),z=h(0),f=Z(()=>b.value.filter(m=>Xe(x.value,m.name,m.slug,m.description))),l=Z(()=>k.value||[]),r=()=>{const m=f.value.length-1;z.value>m&&(z.value=m)},V=async()=>{w.value=!0;const m={endpoint:"wp/v2/tags",params:{per_page:"100",search:x.value}},C=await ne(m);w.value=!1,C&&(b.value=C.data)},W=async()=>{if(!d.value.length)return;w.value=!0;const m={endpoint:"wp/v2/tags",params:{per_page:"100",search:"",include:d.value}},C=await ne(m);w.value=!1,C&&(k.value=C.data)},o=()=>{z.value===0?z.value=f.value.length-1:z.value--},j=()=>{z.value>=f.value.length-1?z.value=0:z.value++},U=(m,C)=>{let I=m.id===m.slug?"bg-zinc-100":"";return C===z.value&&(I+=" bg-zinc-100 text-zinc-900  dark:bg-zinc-800 dark:text-zinc-100"),I},G=m=>{x.value.length===0&&k.value.pop()},A=m=>{const C=k.value.findIndex(I=>I.id===m);C>=0&&k.value.splice(C,1)},M=(m,C,I)=>{L(m.id)?A(m.id):v.single?k.value=[m]:k.value.push(m)},L=m=>!!k.value.find(I=>I.id==m),F=m=>{if(E.value.focus(),c.value.isOpen())return c.value.close();const C=le();c.value.show(m,C),V()},le=m=>{const I=_.value.getBoundingClientRect();return{clientY:I.bottom+10,clientX:I.left-303}};return te(()=>x.value,()=>{r(),V()}),te(()=>k.value,()=>{d.value=k.value.map(m=>m.id)},{deep:!0}),W(),(m,C)=>(s(),a("div",{ref_key:"trigger",ref:_,onClick:C[1]||(C[1]=se(I=>F(I),["prevent","stop"])),class:"flex flex-row gap-2 w-full cursor-pointer p-1 border border-zinc-200 dark:border-zinc-700 rounded-lg w-full transition-all outline outline-transparent outline-offset-[-2px] focus:outline-indigo-300 focus:shadow-xs"},[e("div",gn,[(s(!0),a(B,null,ee(l.value,(I,de)=>(s(),a("div",vn,[e("span",null,g(I.name),1),n(O,{onClick:se(xe=>A(I.id),["prevent","stop"]),type:"transparent",class:"text-xs"},{default:S(()=>[n(T,{icon:"close"})]),_:1},8,["onClick"])]))),256)),y.value?(s(),a("svg",xn,[...C[2]||(C[2]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):$e((s(),a("input",{key:0,ref_key:"searchbox",ref:E,"onUpdate:modelValue":C[0]||(C[0]=I=>x.value=I),type:"text",class:"flex-grow min-w-6 w-6 outline-0 bg-transparent",placeholder:t.placeholder,onKeydown:he(G,["delete"]),onKeyup:[he(j,["down"]),he(o,["up"])]},null,40,hn)),[[Ae,x.value]])]),n(O,{type:"transparent"},{default:S(()=>[n(T,{icon:"unfold"})]),_:1}),n(Ce,{ref_key:"contextmenu",ref:c},{default:S(()=>[e("div",mn,[e("div",_n,[e("div",bn,g(m.__("Tags","uixpress")),1),n(O,{type:"transparent",onClick:se(c.value.close,["stop"])},{default:S(()=>[n(T,{icon:"close"})]),_:1},8,["onClick"])]),w.value?(s(),a("div",wn,[...C[3]||(C[3]=[e("div",{class:"rounded-lg bg-zinc-100 dark:bg-zinc-800 h-4 w-2/3"},null,-1),e("div",{class:"rounded-lg bg-zinc-100 dark:bg-zinc-800 h-4 w-3/4"},null,-1),e("div",{class:"rounded-lg bg-zinc-100 dark:bg-zinc-800 h-4 w-1/2"},null,-1)])])):(s(!0),a(B,{key:1},ee(f.value,(I,de)=>(s(),ae(O,{class:q(["w-full text-left",U(I,de)]),type:"transparent"},{default:S(()=>[e("div",{class:"flex flex-row items-center place-content-between w-full gap-3 relative",onClick:xe=>M(I,xe,de)},[n(ft,{value:L(I.id)},null,8,["value"]),e("span",kn,g(I.name),1),de==z.value?(s(),a(B,{key:0},[n(T,{icon:"arrow_upward",class:"text-zinc-400"}),n(T,{icon:"arrow_downward",class:"text-zinc-400"})],64)):D("",!0)],8,yn)]),_:2},1032,["class"]))),256)),!f.value.length&&!w.value&&x.value.length?(s(),a("div",zn,g(m.__("No products found","uixpress")),1)):D("",!0),!f.value.length&&!w.value&&!x.value.length?(s(),a("div",$n,g(m.__("No products found","uixpress")),1)):D("",!0)])]),_:1},512)],512))}},Sn={class:"p-6 flex flex-col gap-6 w-[500px] max-w-full"},Vn={class:"font-semibold text-zinc-900 dark:text-zinc-100"},Pn={class:"grid grid-cols-3 gap-4 pl-3"},Tn={class:"flex flex-col justify-center"},An={class:"col-span-2"},Mn={class:"flex flex-col justify-center"},Un={class:"col-span-2"},In={class:"flex flex-col justify-center"},Dn={class:"col-span-2"},Ln={class:"flex flex-col justify-center"},Rn={class:"col-span-2"},jn={class:"flex flex-row gap-3 place-content-end"},En={__name:"batch-edit",props:["selected","posts","fetchPostsData","postType"],setup(t){const p=_e(),v=t,d=h(null),c=h(!1),_=h(!1),b=h({categories:[],tags:[],author:{},status:""}),k=async()=>{if(!v.selected.length||!await _.value.show({title:(0,window.wp.i18n.__)("Publish changes?","uixpress"),message:(0,window.wp.i18n.__)("Are you sure you want to batch update these items?","uixpress"),okButton:(0,window.wp.i18n.__)("Yes update them","uixpress")}))return;c.value=!0;const y={...b.value};y.author.id?y.author=y.author.id:delete y.author,y.status||delete y.status,y.categories.length||delete y.categories,y.tags.length||delete y.tags;for(let z of v.selected){const f={endpoint:`wp/v2/${v.postType.rest_base}/${z}`,params:{},data:y,type:"POST"};await ne(f)}c.value=!1,ve({type:"success",title:(0,window.wp.i18n.__)("Items updated","uixpress")}),v.fetchPostsData(!0),d.value.close()},w=x=>{b.value={categories:[],tags:[],author:{},status:""},d.value.show(x)},E=()=>{d.value.close()};return(x,y)=>(s(),a(B,null,[n(O,{type:"default",class:"text-sm",onClick:w,disabled:!t.selected.length},{default:S(()=>[re(g(x.__("Batch edit","uixpress")),1)]),_:1},8,["disabled"]),n(Ct,{ref_key:"batchmodal",ref:d,position:"top"},{default:S(()=>[e("div",Sn,[e("div",Vn,g(x.__("Batch edit","uixpress")),1),e("div",Pn,[u(p).state.supports_categories?(s(),a(B,{key:0},[e("div",Tn,[e("span",null,g(x.__("Categories","uixpress")),1)]),e("div",An,[n(gt,{modelValue:b.value.categories,"onUpdate:modelValue":y[0]||(y[0]=z=>b.value.categories=z)},null,8,["modelValue"])])],64)):D("",!0),u(p).state.supports_tags?(s(),a(B,{key:1},[e("div",Mn,[e("span",null,g(x.__("Tags","uixpress")),1)]),e("div",Un,[n(Cn,{modelValue:b.value.tags,"onUpdate:modelValue":y[1]||(y[1]=z=>b.value.tags=z)},null,8,["modelValue"])])],64)):D("",!0),e("div",In,[e("span",null,g(x.__("Status","uixpress")),1)]),e("div",Dn,[n(Oe,{modelValue:b.value.status,"onUpdate:modelValue":y[2]||(y[2]=z=>b.value.status=z),options:u(p).state.postStatuses},null,8,["modelValue","options"])]),e("div",Ln,[e("span",null,g(x.__("Author","uixpress")),1)]),e("div",Rn,[n(Ge,{modelValue:b.value.author,"onUpdate:modelValue":y[3]||(y[3]=z=>b.value.author=z),post:{is_editable:!0}},null,8,["modelValue"])])]),e("div",jn,[n(O,{type:"default",class:"text-sm",onClick:se(E,["stop"])},{default:S(()=>[re(g(x.__("Cancel","uixpress")),1)]),_:1}),n(O,{type:"primary",class:"text-sm",onClick:k,loading:c.value},{default:S(()=>[re(g(x.__("Update","uixpress")),1)]),_:1},8,["loading"])]),n(Ye,{ref_key:"confirm",ref:_},null,512)])]),_:1},512)],64))}},Hn={class:"relative"},On=["value","placeholder"],Bn={class:"absolute p-2 left-0 top-0 bottom-0 flex flex-col justify-center place-content-center items-center"},Nn={class:"flex flex-col gap-1"},Fn={class:"flex flex-row items-centers p-3 gap-3"},Kn={__name:"index",props:["value","minDate"],emits:["updated"],setup(t,{emit:p}){const{prefersDark:v}=At(),d=p,c=t,_=Ue();h(null);const b=h(""),k=h(null);c.value&&(b.value=c.value);const w=y=>{k.value.show(y)},E=Z(()=>Array.isArray(c.value)?`${x(c.value[0])} - ${x(c.value[1])}`:""),x=y=>{if(!y)return"";const z=Date.parse(y);y=new Date(z);const f=y.getUTCFullYear(),l=String(y.getUTCMonth()+1).padStart(2,"0"),r=String(y.getUTCDate()).padStart(2,"0");return String(y.getUTCHours()).padStart(2,"0"),`${f}-${l}-${r}`};return(y,z)=>(s(),a(B,null,[e("div",Hn,[e("input",Ie({type:"text",value:E.value,class:"px-2 py-2 border border-zinc-200 dark:border-zinc-700 rounded-lg w-full transition-all outline outline-transparent outline-offset-[-2px] focus:outline-indigo-300 dark:focus:outline-indigo-700 focus:shadow-xs text-sm col-span-2 pl-8 min-w-60 dark:bg-transparent",onClick:w},u(_),{placeholder:y.__("Select date","uixpress")}),null,16,On),e("div",Bn,[n(T,{icon:"calendar_today",class:"text-lg text-zinc-500 dark:text-zinc-400"})])]),n(Ce,{ref_key:"contextmenu",ref:k},{default:S(()=>[e("div",Nn,[n(u(Tt),{modelValue:b.value,"onUpdate:modelValue":z[0]||(z[0]=f=>b.value=f),"auto-apply":"",teleport:!0,inline:"","min-date":t.minDate,"enable-time-picker":!1,range:{},dark:u(v)},null,8,["modelValue","min-date","dark"]),e("div",Fn,[n(O,{type:"default",onClick:z[1]||(z[1]=f=>k.value.close())},{default:S(()=>[re(g(y.__("Cancel","uixpress")),1)]),_:1}),n(O,{type:"primary",disabled:!b.value,onClick:z[2]||(z[2]=f=>{d("updated",b.value),k.value.close()}),class:"grow"},{default:S(()=>[re(g(y.__("Set date","uixpress")),1)]),_:1},8,["disabled"])])])]),_:1},512)],64))}},qn={class:"flex flex-col gap-6 p-3"},Yn={class:"font-semibold"},Wn={class:"w-[340px] grid grid-cols-3 gap-3 pl-3"},Xn={class:"text-zinc-400 dark:text-zinc-400 flex flex-col place-content-center"},Jn={class:"text-zinc-400 dark:text-zinc-400 flex flex-col place-content-center"},Gn={class:"font-semibold"},Qn={class:"w-[340px] grid grid-cols-3 gap-2 pl-3"},Zn={class:"text-zinc-400 dark:text-zinc-400 flex flex-col place-content-center"},ea={class:"text-zinc-400 dark:text-zinc-400 flex flex-col place-content-center"},ta={class:"text-zinc-400 dark:text-zinc-400 flex flex-col place-content-center"},sa={class:"text-zinc-400 dark:text-zinc-400 flex flex-col place-content-center"},na={class:"col-span-2"},aa={class:"text-zinc-400 dark:text-zinc-400 flex flex-col pt-1"},la={class:"col-span-2 flex flex-col gap-2 pl-2 pt-2"},oa={key:0,class:"flex flex-row gap-2"},ia=["onClick"],ra=["innerHTML"],da={__name:"table-filters",setup(t){const p=_e(),v=h(null),d=h(null),c=h(null),_=[{label:(0,window.wp.i18n.__)("Ascending","vendbase"),value:"ASC"},{label:(0,window.wp.i18n.__)("Descending","vendbase"),value:"DESC"}],b=f=>`uixpress_${P.value.post_type}_${f}`,k=()=>{try{const f=localStorage.getItem(b("expand_all"));f!==null&&(me.value=JSON.parse(f));const l=localStorage.getItem(b("columns"));if(l){const r=JSON.parse(l);ue.value.forEach((V,W)=>{const o=r.find(j=>j.key===V.key);if(o){V.active=o.active;const j=r.findIndex(U=>U.key===V.key);if(j!==-1&&j!==W){const[U]=ue.value.splice(W,1);ue.value.splice(j,0,U)}}})}}catch(f){console.error("Error loading settings from localStorage:",f)}},w=()=>{try{localStorage.setItem(b("expand_all"),JSON.stringify(me.value));const f=ue.value.map(l=>({key:l.key,active:l.active}));localStorage.setItem(b("columns"),JSON.stringify(f))}catch{}},E=Z(()=>ue.value.filter(f=>f.sort_key).map(f=>({value:f.sort_key,label:f.label})));te(()=>me.value,w),te(()=>ue.value,()=>{c.value&&w()},{deep:!0});const x=je(()=>{ue.value.length&&(k(),c.value=!0,x())}),y=f=>{const r=v.value.getBoundingClientRect();return{clientY:r.bottom+10,clientX:r.left-340+r.width}},z=f=>{d.value.show(f,y())};return(f,l)=>(s(),a(B,null,[e("div",{ref_key:"filtertrigger",ref:v},[n(O,{type:"default",class:"text-sm",onClick:z},{default:S(()=>[re(g(f.__("Settings","uixpress")),1)]),_:1})],512),n(Ce,{ref_key:"contextmenu",ref:d},{default:S(()=>[e("div",qn,[e("div",Yn,g(f.__("Filters","uixpress")),1),e("div",Wn,[u(p).state.supports_categories?(s(),a(B,{key:0},[e("div",Xn,[e("span",null,g(f.__("Categories","uixpress")),1)]),n(gt,{modelValue:u(P).categories,"onUpdate:modelValue":l[0]||(l[0]=r=>u(P).categories=r),class:"col-span-2 w-full",placeholder:f.__("Search","uixpress")},null,8,["modelValue","placeholder"])],64)):D("",!0),e("div",Jn,[e("span",null,g(f.__("Date range","uixpress")),1)]),n(Kn,{value:u(P).dateRange,onUpdated:l[1]||(l[1]=r=>u(P).dateRange=r),class:"col-span-2 w-full"},null,8,["value"])]),e("div",Gn,g(f.__("Table settings","uixpress")),1),e("div",Qn,[e("div",Zn,[e("span",null,g(f.__("Per page","uixpress")),1)]),n(Vt,{type:"number",min:1,max:100,modelValue:u(P).per_page,"onUpdate:modelValue":l[2]||(l[2]=r=>u(P).per_page=r),class:"col-span-2"},null,8,["modelValue"]),e("div",ea,[e("span",null,g(f.__("Order","uixpress")),1)]),n(Oe,{modelValue:u(P).order,"onUpdate:modelValue":l[3]||(l[3]=r=>u(P).order=r),options:_,class:"col-span-2"},null,8,["modelValue"]),e("div",ta,[e("span",null,g(f.__("Order by","uixpress")),1)]),n(Oe,{modelValue:u(P).orderby,"onUpdate:modelValue":l[4]||(l[4]=r=>u(P).orderby=r),options:E.value,class:"col-span-2"},null,8,["modelValue","options"]),e("div",sa,[e("span",null,g(f.__("Expand all posts","uixpress")),1)]),e("div",na,[n(ot,{modelValue:u(me),"onUpdate:modelValue":l[5]||(l[5]=r=>He(me)?me.value=r:null)},null,8,["modelValue"])]),e("div",aa,[e("span",null,g(f.__("Columns","uixpress")),1)]),e("div",la,[Array.isArray(u(ue))?(s(),ae(u(Mt),{key:0,class:"contents",group:{name:"columns",pull:!1,put:!1,revertClone:!1},list:u(ue),animation:"300",sort:!0,handle:".dragger"},{default:S(()=>[(s(!0),a(B,null,ee(u(ue),(r,V)=>(s(),a(B,{key:V},[r.key!="post_actions"?(s(),a("div",oa,[e("div",{class:"flex flex-row items-center gap-2 cursor-pointer grow",onClick:W=>r.active=!r.active},[n(Pt,{modelValue:r.active,"onUpdate:modelValue":W=>r.active=W},null,8,["modelValue","onUpdate:modelValue"]),e("span",{class:q(["transition-opacity",r.active?"":"opacity-60"]),innerHTML:r.label.includes("<")?r.key:r.label},null,10,ra)],8,ia),n(O,{type:"transparent",class:"dragger"},{default:S(()=>[n(T,{icon:"drag_indicator"})]),_:1})])):D("",!0)],64))),128))]),_:1},8,["list"])):D("",!0)])])])]),_:1},512)],64))}},ca={class:"py-2 flex flex-col gap-1"},ua=["onClick"],pa={class:"flex-shrink-0 relative"},fa=["onClick"],ga={class:"w-10 h-10 bg-zinc-200 dark:bg-zinc-700 rounded-lg overflow-hidden flex items-center justify-center"},va=["src","alt"],ha={class:"flex-1 min-w-0"},xa={class:"flex items-center gap-2 mb-0.5"},ma=["title"],_a={class:"flex items-center gap-2 text-xs text-zinc-500 dark:text-zinc-400 truncate"},ba={key:0},wa={key:1},ya={key:2},ka={key:3,class:"ml-1 text-zinc-400 dark:text-zinc-500"},za={class:"flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity"},$a={__name:"posts-list",props:{posts:{type:Array,default:()=>[]},selectedPosts:{type:Array,default:()=>[]},selectedPostId:{type:[Number,String],default:null}},emits:["selectPost","toggleSelection"],setup(t,{emit:p}){const v=t,d=p,c=(l,r)=>{r.target.closest(".post-checkbox")||d("selectPost",l)},_=(l,r)=>{r.stopPropagation(),d("toggleSelection",l,r)},b=l=>v.selectedPosts.includes(l.id),k=l=>{if(!l)return"";const r=document.createElement("div");r.innerHTML=l;const V=r.textContent||r.innerText||"";return V||new Date(l).toLocaleDateString()},w=l=>l.status?typeof l.status=="object"&&l.status.value?l.status.value:typeof l.status=="string"?l.status:"":"",E=l=>l.status?typeof l.status=="object"&&l.status.label?l.status.label:typeof l.status=="string"?l.status:"":"",x=l=>{const r={publish:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300",draft:"bg-zinc-100 dark:bg-zinc-800 text-zinc-700 dark:text-zinc-300",pending:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300",trash:"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300",private:"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300"};return r[l]||r.draft},y=l=>l.author?typeof l.author=="object"&&l.author.name?l.author.name:typeof l.author=="string"?l.author:"":"",z=l=>l.title&&typeof l.title=="object"&&l.title.image?l.title.image:null,f=l=>{if(!l.title)return"";if(typeof l.title=="object"&&l.title.value){const r=document.createElement("div");return r.innerHTML=l.title.value,r.textContent||r.innerText||""}if(typeof l.title=="string"){const r=document.createElement("div");return r.innerHTML=l.title,r.textContent||r.innerText||""}return""};return(l,r)=>(s(),a("div",ca,[(s(!0),a(B,null,ee(t.posts,V=>(s(),a("div",{key:V.id,onClick:W=>c(V,W),class:q(["flex items-center gap-3 px-4 py-3 cursor-pointer transition-colors hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-xl transition-all group -mx-3 relative",t.selectedPostId==V.id?"bg-zinc-100 dark:bg-zinc-800/60":""])},[e("div",pa,[e("div",{class:q(["absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-10 transition-opacity duration-200 post-checkbox cursor-pointer",b(V)?"opacity-100":"opacity-0 group-hover:opacity-100"]),onClick:se(W=>_(V,W),["stop"])},[e("div",{class:q(["w-5 h-5 rounded border-2 flex items-center justify-center transition-colors",b(V)?"bg-zinc-900 dark:bg-zinc-100 border-zinc-900 dark:border-zinc-100":"bg-white dark:bg-zinc-800 border-zinc-300 dark:border-zinc-600"])},[b(V)?(s(),ae(T,{key:0,icon:"check",class:"text-xs text-white dark:text-zinc-900"})):D("",!0)],2)],10,fa),e("div",ga,[z(V)?(s(),a("img",{key:0,src:z(V),alt:f(V),class:"w-full h-full object-cover"},null,8,va)):(s(),ae(T,{key:1,icon:"article",class:"text-zinc-500 dark:text-zinc-400"}))])]),e("div",ha,[e("div",xa,[e("span",{class:q(["font-medium text-sm text-zinc-900 dark:text-zinc-200 truncate",t.selectedPostId==V.id?"text-zinc-900 dark:text-white":"text-zinc-600 dark:text-zinc-400"]),title:f(V)},g(f(V)||l.__("Untitled","uixpress")),11,ma),w(V)?(s(),a("span",{key:0,class:q(["px-2 py-0.5 text-[10px] font-medium rounded-md whitespace-nowrap",x(w(V))])},g(E(V)),3)):D("",!0)]),e("div",_a,[y(V)?(s(),a("span",ba,g(y(V)),1)):D("",!0),V.date&&y(V)?(s(),a("span",wa,"")):D("",!0),V.date?(s(),a("span",ya,g(k(V.date)),1)):D("",!0),V.children&&V.children.length>0?(s(),a("span",ka,"  "+g(V.children.length)+" "+g(V.children.length===1?l.__("child","uixpress"):l.__("children","uixpress")),1)):D("",!0)])]),e("div",za,[n(T,{icon:"more_vert",class:"text-zinc-400 dark:text-zinc-500 text-sm"})])],10,ua))),128))]))}},Ca={key:0,class:"flex-1 flex items-center justify-center h-full"},Sa={class:"text-center"},Va={class:"w-16 h-16 bg-zinc-100 dark:bg-zinc-800 rounded-2xl flex items-center justify-center mx-auto mb-4"},Pa={class:"text-lg font-medium text-zinc-900 dark:text-zinc-100 mb-2"},Ta={class:"text-sm text-zinc-500 dark:text-zinc-400 mb-4"},Aa={key:1,class:"flex-1 overflow-auto p-6 custom-scrollbar"},Ma={key:0,class:"mb-6 rounded-xl overflow-hidden bg-zinc-100 dark:bg-zinc-800"},Ua=["src","alt"],Ia={class:"mb-6"},Da={class:"flex items-start justify-between gap-4 mb-4"},La={class:"text-2xl font-semibold text-zinc-900 dark:text-zinc-100 flex-1"},Ra={class:"flex flex-wrap items-center gap-3 text-sm text-zinc-500 dark:text-zinc-400"},ja={class:"flex items-center gap-1.5"},Ea={key:0,class:"flex items-center gap-1.5"},Ha={class:"flex items-center gap-2 mb-6 pb-6 border-b border-zinc-200 dark:border-zinc-700"},Oa={class:"space-y-6"},Ba={key:0},Na={class:"block text-xs uppercase tracking-wider font-semibold text-zinc-500 dark:text-zinc-400 mb-2"},Fa={key:1},Ka={class:"block text-xs uppercase tracking-wider font-semibold text-zinc-500 dark:text-zinc-400 mb-2"},qa={key:2},Ya={class:"block text-xs uppercase tracking-wider font-semibold text-zinc-500 dark:text-zinc-400 mb-2"},Wa={class:"flex flex-wrap gap-1.5"},Xa=["href","innerHTML"],Ja={key:3},Ga={class:"block text-xs uppercase tracking-wider font-semibold text-zinc-500 dark:text-zinc-400 mb-2"},Qa={class:"flex flex-wrap gap-1.5"},Za=["href","innerHTML"],el={key:4},tl={class:"block text-xs uppercase tracking-wider font-semibold text-zinc-500 dark:text-zinc-400 mb-2"},sl=["href"],nl={key:1,class:"mt-8 pt-8 border-t border-zinc-200 dark:border-zinc-700"},al={class:"block text-xs uppercase tracking-wider font-semibold text-zinc-500 dark:text-zinc-400 mb-4"},ll={class:"relative rounded-xl overflow-hidden bg-zinc-100 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800"},ol=["src"],il={__name:"post-preview",props:{post:{type:Object,default:null}},emits:["updated"],setup(t,{emit:p}){const v=_e(),d=t,c=p;h(!1);const _=h(null),b=Z(()=>d.post&&d.post.title&&typeof d.post.title=="object"&&d.post.title.image?d.post.title.image:null),k=Z(()=>{if(!d.post)return"";if(d.post.title&&typeof d.post.title=="object"&&d.post.title.value){const o=document.createElement("div");return o.innerHTML=d.post.title.value,o.textContent||o.innerText||""}if(d.post.title&&typeof d.post.title=="string"){const o=document.createElement("div");return o.innerHTML=d.post.title,o.textContent||o.innerText||""}return""}),w=o=>{if(!o)return"";const j=document.createElement("div");j.innerHTML=o;const U=j.textContent||j.innerText||"";return U||new Date(o).toLocaleDateString()},E=o=>!o||!o.status?"":typeof o.status=="object"&&o.status.value?o.status.value:typeof o.status=="string"?o.status:"",x=o=>!o||!o.status?"":typeof o.status=="object"&&o.status.label?o.status.label:typeof o.status=="string"?o.status:"",y=o=>{const j={publish:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300",draft:"bg-zinc-100 dark:bg-zinc-800 text-zinc-700 dark:text-zinc-300",pending:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300",trash:"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300",private:"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300"};return j[o]||j.draft},z=o=>!o||!o.author?"":typeof o.author=="object"&&o.author.name?o.author.name:typeof o.author=="string"?o.author:"",f=o=>{if(!o)return null;if(typeof o=="string"&&o.includes("<img")){const j=o.match(/src=['"]([^'"]+)['"]/);return j?j[1]:null}return o},l=Z({get(){if(!d.post||!d.post.author)return null;const o=d.post.author;return o.id&&o.name&&(o.gravatar||o.avatar)?{id:o.id,name:o.name,gravatar:o.gravatar||f(o.avatar)}:typeof o=="object"&&o.id&&o.name?{id:o.id,name:o.name,gravatar:f(o.avatar)}:o},set(o){d.post&&o&&(d.post.author=o)}}),r=Z({get(){var j;if(!d.post||!d.post.status)return null;const o=d.post.status;return typeof o=="object"&&o.value&&o.label?o:typeof o=="string"?((j=v.state.postStatuses)==null?void 0:j.find(G=>G.value===o))||{value:o,label:o}:o},set(o){d.post&&o&&(d.post.status=o)}}),V=()=>{var o,j;(o=d.post)!=null&&o.is_editable&&((j=d.post)!=null&&j.edit_url)&&(window.location.href=d.post.edit_url)},W=()=>{var o;(o=d.post)!=null&&o.view_url&&window.open(d.post.view_url,"_blank")};return te(()=>d.post,o=>{o?_.value={...o}:_.value=null},{immediate:!0}),(o,j)=>t.post?(s(),a("div",Aa,[b.value?(s(),a("div",Ma,[e("img",{src:b.value,alt:k.value,class:"w-full h-auto max-h-96 object-cover"},null,8,Ua)])):D("",!0),e("div",Ia,[e("div",Da,[e("h1",La,g(k.value||o.__("Untitled","uixpress")),1),n(ut,{post:t.post},null,8,["post"])]),e("div",Ra,[e("div",ja,[n(T,{icon:"schedule",class:"text-base"}),e("span",null,g(w(t.post.date)),1)]),z(t.post)?(s(),a("span",Ea,[n(T,{icon:"person",class:"text-base"}),e("span",null,g(z(t.post)),1)])):D("",!0),E(t.post)?(s(),a("span",{key:1,class:q(["px-2 py-1 text-xs font-medium rounded-md",y(E(t.post))])},g(x(t.post)),3)):D("",!0)])]),e("div",Ha,[t.post.is_editable?(s(),ae(O,{key:0,type:"primary",onClick:V,class:"text-sm"},{default:S(()=>[n(T,{icon:"edit",class:"text-base mr-1"}),re(" "+g(o.__("Edit","uixpress")),1)]),_:1})):D("",!0),t.post.view_url?(s(),ae(O,{key:1,type:"default",onClick:W,class:"text-sm"},{default:S(()=>[n(T,{icon:"visibility",class:"text-base mr-1"}),re(" "+g(o.__("View","uixpress")),1)]),_:1})):D("",!0)]),e("div",Oa,[t.post.status!==void 0?(s(),a("div",Ba,[e("label",Na,g(o.__("Status","uixpress")),1),n(pt,{modelValue:r.value,"onUpdate:modelValue":j[0]||(j[0]=U=>r.value=U),post:t.post,onUpdated:j[1]||(j[1]=U=>{u(ct)(t.post,U),c("updated")})},null,8,["modelValue","post"])])):D("",!0),t.post.author!==void 0?(s(),a("div",Fa,[e("label",Ka,g(o.__("Author","uixpress")),1),n(Ge,{post:t.post,modelValue:l.value,"onUpdate:modelValue":j[2]||(j[2]=U=>l.value=U),onUpdated:j[3]||(j[3]=()=>{u(dt)(t.post),c("updated")})},null,8,["post","modelValue"])])):D("",!0),t.post.categories&&Array.isArray(t.post.categories)&&t.post.categories.length>0?(s(),a("div",qa,[e("label",Ya,g(o.__("Categories","uixpress")),1),e("div",Wa,[(s(!0),a(B,null,ee(t.post.categories,U=>(s(),a("a",{key:U.id,href:U.url,class:"inline-flex items-center px-2 py-1 text-xs font-medium rounded-md whitespace-nowrap transition-all duration-200 hover:scale-105 bg-indigo-50 text-indigo-700 hover:bg-indigo-100 border border-indigo-200 dark:bg-indigo-950 dark:text-indigo-300 dark:hover:bg-indigo-900 dark:border-indigo-800",innerHTML:U.title},null,8,Xa))),128))])])):D("",!0),t.post.tags&&Array.isArray(t.post.tags)&&t.post.tags.length>0?(s(),a("div",Ja,[e("label",Ga,g(o.__("Tags","uixpress")),1),e("div",Qa,[(s(!0),a(B,null,ee(t.post.tags,U=>(s(),a("a",{key:U.id,href:U.url,class:"inline-flex items-center px-2 py-1 text-xs font-medium rounded-md whitespace-nowrap transition-all duration-200 hover:scale-105 bg-indigo-50 text-indigo-700 hover:bg-indigo-100 border border-indigo-200 dark:bg-indigo-950 dark:text-indigo-300 dark:hover:bg-indigo-900 dark:border-indigo-800",innerHTML:U.title},null,8,Za))),128))])])):D("",!0),t.post.view_url?(s(),a("div",el,[e("label",tl,g(o.__("URL","uixpress")),1),e("a",{href:t.post.view_url,target:"_blank",class:"text-sm text-indigo-600 dark:text-indigo-400 hover:underline break-all"},g(t.post.view_url),9,sl)])):D("",!0)]),t.post.view_url?(s(),a("div",nl,[e("label",al,g(o.__("Preview","uixpress")),1),e("div",ll,[e("iframe",{src:t.post.view_url,class:"w-full h-[600px] border-0",frameborder:"0",allowfullscreen:"",loading:"lazy"},null,8,ol)])])):D("",!0)])):(s(),a("div",Ca,[e("div",Sa,[e("div",Va,[n(T,{icon:"article",class:"text-2xl text-zinc-400"})]),e("h3",Pa,g(o.__("Post Details","uixpress")),1),e("p",Ta,g(o.__("Select a post from the list to view details and edit properties.","uixpress")),1)])]))}},rl=xt(il,[["__scopeId","data-v-164af6e9"]]),dl={class:"translate-x-0"},cl=["id","href"],ul={class:"flex h-full text-zinc-900 dark:text-zinc-100 font-sans max-h-full overflow-hidden gap-6 max-md:gap-0"},pl={class:"md:w-96 w-full flex flex-col rounded-3xl bg-white dark:bg-zinc-800/30 border border-zinc-200/40 dark:border-zinc-700/30 h-full max-h-full overflow-hidden"},fl={class:"px-6 pt-6 pb-4"},gl={class:"flex items-center justify-between mb-4"},vl={class:"text-xl font-medium text-zinc-900 dark:text-zinc-100"},hl={class:"flex items-center gap-2"},xl=["title"],ml=["href","title"],_l={class:"relative"},bl=["value","placeholder"],wl={class:"px-6 pb-3"},yl={class:"flex items-center gap-2"},kl={class:"flex-1 flex items-center gap-1.5 overflow-x-auto hide-scrollbar"},zl=["onClick"],$l={class:"flex flex-row place-content-between items-center px-6 pr-4 pb-3"},Cl={class:"py-2 text-[10px] uppercase tracking-wider font-semibold text-zinc-400 dark:text-zinc-500"},Sl={class:"flex flex-row items-center"},Vl={class:"text-xs text-zinc-500 dark:text-zinc-500 mr-2"},Pl={key:0},Tl={class:"flex-1 overflow-auto px-6 pb-6 custom-scrollbar relative"},Al={key:0,class:"p-8 text-center"},Ml={class:"w-12 h-12 bg-zinc-100 dark:bg-zinc-800 rounded-full flex items-center justify-center mx-auto mb-3"},Ul={class:"text-sm text-zinc-500 dark:text-zinc-400"},Il={key:1,class:"p-8 text-center"},Dl={class:"w-12 h-12 bg-zinc-100 dark:bg-zinc-800 rounded-full flex items-center justify-center mx-auto mb-3"},Ll={class:"text-sm text-zinc-500 dark:text-zinc-400 mb-2"},Rl=["href","title"],jl={class:"flex-1 flex flex-col rounded-3xl bg-white dark:bg-zinc-800/30 border border-zinc-200/40 dark:border-zinc-700/30 h-full max-h-full overflow-hidden"},El={class:"flex flex-row place-content-between col-span-3 items-center mb-6"},Hl={class:"text-2xl font-semibold text-zinc-900 dark:text-zinc-100"},Ol={class:"flex flex-row place-content-between items-center"},Bl={class:"flex items-center gap-2"},Nl=["title"],Fl={class:"flex flex-row gap-3 items-stretch"},Kl=["href","title"],ql={class:"flex flex-col gap-2 p-12 items-center"},Yl={class:"font-bold text-xl text-zinc-900 dark:text-zinc-100"},Wl={class:"text-zinc-400 mb-6"},Xl=["href","title"],Jl={key:0},Gl={key:1},Ql=["innerHTML"],Zl={key:2},eo={key:1,class:"h-full border-r border-zinc-200 dark:border-zinc-700 absolute translate-x-6"},to={class:"flex flex-col"},so=["innerHTML","onBlur"],no={key:0,class:"text-sm text-zinc-500 font-normal"},ao={key:1,class:"text-sm text-zinc-500 font-normal"},lo={key:5,class:"flex flex-wrap gap-1.5"},oo=["href","title","data-id","innerHTML"],io=["innerHTML"],ro={class:"fixed bottom-6 left-1/2 -translate-x-1/2 z-[101] bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 rounded-xl shadow-lg px-4 py-3 flex items-center gap-4"},co={class:"text-sm font-medium text-zinc-700 dark:text-zinc-300 whitespace-nowrap"},uo={class:"flex items-center gap-2"},po={__name:"index",setup(t){const p=_e(),{isDark:v}=Ut(),c=new URLSearchParams(window.location.search).get("post_type");oe.value=p.state.postTypes.post,c&&(oe.value=p.state.postTypes[c]?p.state.postTypes[c]:oe.value),P.value.post_type=oe.value.name,P.value.post_type==="page"&&(P.value.orderby="title",P.value.order="ASC");const _=h(new CSSStyleSheet);h([]);const b=h(!1),w=h((()=>{if(typeof window>"u")return"table";try{const i=localStorage.getItem("uixpress-posts-view-mode");return i==="sidebar"||i==="table"?i:"table"}catch{return"table"}})()),E=h(null),x=h(typeof window<"u"?window.innerWidth:0),y=()=>{let i=document.querySelector("#uixpress-posts-css");if(!i)i=f(),i.onload=()=>{const $=i.sheet;for(const H of[...$.cssRules].reverse())_.value.insertRule(H.cssText)};else{const $=i.sheet;for(const H of[...$.cssRules].reverse())_.value.insertRule(H.cssText)}},z=Z(()=>{const i=$=>{let H=0;return $.forEach(X=>{var Q;H++,((Q=X.children)==null?void 0:Q.length)>0&&(H+=i(X.children))}),H};return i(ye.value)}),f=()=>{var i=document.createElement("link");return i.rel="stylesheet",i.href=`${p.state.pluginBase}app/dist/assets/styles/posts.css`,document.head.appendChild(i),i},l=Z(()=>ue.value.filter(({key:i})=>i!=="cb").map(({key:i,label:$,active:H,sort_key:X})=>{var Q,ce;return{key:i,label:$,active:H,sort_key:X,classes:`${i} column-${i}`,column_classes:((ce=(Q=it.value)==null?void 0:Q[i])==null?void 0:ce.join(" "))??""}})),r=(i,$)=>{const H=ye.value[$];if(!H)return;const X=H.is_editable?H.edit_url:H.view_url;if(i.metaKey||i.ctrlKey)window.open(X,"_blank");else if(i.shiftKey)if(K.value.includes(H.id)){const Q=K.value.findIndex(ce=>ce==H.id);K.value.splice(Q,1)}else K.value.push(H.id);else i.altKey?(window.open(X,"_blank").blur(),window.focus()):window.location.href=X},V=i=>{i&&(E.value=i.id)},W=(i,$)=>{if(!i)return;const H=ge.value.findIndex(X=>X.id===i.id);if($!=null&&$.shiftKey&&K.value.length>0){const X=K.value[K.value.length-1],Q=ge.value.findIndex(ce=>ce.id===X);if(Q!==-1){const ce=Math.min(Q,H),Me=Math.max(Q,H);ge.value.slice(ce,Me+1).map(be=>be.id).forEach(be=>{K.value.includes(be)||K.value.push(be)})}}else{const X=K.value.findIndex(Q=>Q===i.id);X>-1?K.value.splice(X,1):K.value.push(i.id)}},o=i=>{if(!(typeof window>"u"))try{localStorage.setItem("uixpress-posts-view-mode",i)}catch($){console.warn("Failed to save view mode to localStorage:",$)}},j=i=>{w.value=i,o(i)},U=()=>{x.value=window.innerWidth,x.value<1024&&w.value==="sidebar"&&j("table")},G=()=>{P.value.page=1,Y(!0)},A=()=>{P.value.page>1&&(P.value.page--,Y(!0))},M=()=>{P.value.page<P.value.pages&&(P.value.page++,Y(!0))},L=()=>{P.value.page=P.value.pages,Y(!0)},F=Z(()=>c?`?post_type=${c}`:""),le=(i,$)=>{const H=ye.value[$];H&&Be.value[H.id].show(i)},m=(i,$,H)=>{i&&(Be.value[H]=i)},C=async()=>{var $;P.value.page=1;const i=new URL(window.location);return i.search="",pe.value!=="all"&&(($=ke.value)!=null&&$[pe.value])&&await I(i),de(i),await at(),Y()},I=async i=>{const $=ke.value[pe.value];if(!($!=null&&$.query_params))return;const H=new URLSearchParams;Object.entries($.query_params).forEach(([X,Q])=>{const ce=Array.isArray(Q)?Q.join(","):Q;H.set(X,ce)}),i.search=H.toString()},de=i=>{window.history.replaceState({path:i.toString()},"",i)},xe=i=>Pe.value.includes(i.id),vt=i=>{if(xe(i)){const H=Pe.value.findIndex(X=>X==i.id);Pe.value.splice(H,1)}else Pe.value.push(i.id)},Se=i=>{if(!i||!i.children||!Array.isArray(i.children))return 0;let $=i.children.length;for(const H of i.children)$+=Se(H);return $};return te(()=>P.value.search,(i,$)=>{!i&&$&&Y()}),te(()=>P.value.per_page,Y),te(()=>P.value.order,Y),te(()=>P.value.orderby,Y),te(()=>P.value.dateRange,Y),te(()=>P.value.categories,Y),te(()=>pe.value,C),te(()=>w.value,i=>{o(i)}),tt(()=>{x.value=window.innerWidth,window.addEventListener("resize",U)}),st(()=>{window.removeEventListener("resize",U)}),Y(),y(),(i,$)=>(s(),a(B,null,[(s(),ae(et("style"),null,{default:S(()=>[...$[9]||($[9]=[re(" html{font-size:14px;}#wpcontent{padding:0}",-1)])]),_:1})),n(u(_t),{tag:"div","adopted-style-sheets":[_.value],class:"uipx-normalize"},{default:S(()=>{var H,X,Q,ce,Me,De,Le,be;return[n(zt),e("div",dl,[n(u($t),{height:3})]),(s(!0),a(B,null,ee(u(rt),R=>(s(),a("link",{rel:"stylesheet",id:`${R.handle}-css`,href:R.src,media:"all"},null,8,cl))),256)),w.value==="sidebar"?(s(),ae(lt,{key:0,to:"body"},[(s(),ae(et("style"),null,{default:S(()=>[...$[10]||($[10]=[re(" #wpcontent{ background: rgb(var(--uix-base-50) / var(--tw-bg-opacity, 1)) !important; border: none !important; } .dark #wpcontent{ background: rgb(var(--uix-base-950) / var(--tw-bg-opacity, 1)) !important; } ",-1)])]),_:1}))])):D("",!0),w.value==="sidebar"?(s(),a("div",{key:1,class:q(["overflow-hidden uipx-normalize font-sans h-[var(--uixp-body-height)] max-h-[var(--uixp-body-height)]",u(v)?"dark":""]),id:"uixpress-posts-wrap"},[e("div",ul,[e("div",pl,[e("div",fl,[e("div",gl,[e("h1",vl,g(((X=(H=u(oe))==null?void 0:H.labels)==null?void 0:X.name)||i.__("Posts","uixpress")),1),e("div",hl,[e("button",{onClick:$[0]||($[0]=R=>j("table")),class:q(["p-2 rounded-md transition-colors","bg-zinc-100 dark:bg-zinc-800 hover:bg-zinc-200 dark:hover:bg-zinc-700"]),title:i.__("Table View","uixpress")},[n(T,{icon:"table_chart",class:"text-sm text-zinc-600 dark:text-zinc-400"})],8,xl),e("a",{href:`${u(p).state.adminUrl}post-new.php${F.value}`,title:i.__("New post","uixpress")},[n(O,{type:"primary",class:"text-sm"},{default:S(()=>[n(T,{icon:"add",class:"text-base"})]),_:1})],8,ml)])]),e("div",_l,[n(T,{icon:"search",class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-zinc-400 dark:text-zinc-500 text-base pointer-events-none"}),e("input",{value:u(P).search,onInput:$[1]||($[1]=R=>{u(P).search=R.target.value,u(Y)()}),type:"text",placeholder:((ce=(Q=u(oe))==null?void 0:Q.labels)==null?void 0:ce.search_items)||i.__("Search posts...","uixpress"),class:"w-full bg-zinc-50 dark:bg-zinc-900 border-0 rounded-lg pl-10 pr-3 py-2.5 text-sm placeholder-zinc-400 dark:placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-zinc-900 dark:focus:ring-zinc-100 transition-shadow"},null,40,bl)])]),e("div",wl,[e("div",yl,[e("div",kl,[(s(!0),a(B,null,ee(u(ke),(R,ie)=>(s(),a("button",{key:ie,onClick:N=>pe.value=ie,class:q(["px-3 py-1.5 text-xs font-medium rounded-md whitespace-nowrap transition-colors",u(pe)===ie?"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900":"bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-700"])},g(R.label),11,zl))),128))])])]),e("div",$l,[e("div",Cl,g(u(P).total)+" "+g(u(P).total===1?i.__("item","uixpress"):i.__("items","uixpress")),1),e("div",Sl,[e("div",Vl,[re(g(i.__("Page","uixpress"))+" "+g(u(P).page)+" ",1),u(P).pages>0?(s(),a("span",Pl," / "+g(u(P).pages),1)):D("",!0)]),n(O,{type:"transparent",disabled:u(P).page<=1,onClick:A,title:i.__("Previous","uixpress")},{default:S(()=>[n(T,{icon:"chevron_left"})]),_:1},8,["disabled","title"]),n(O,{type:"transparent",disabled:u(P).page>=u(P).pages,onClick:M,title:i.__("Next","uixpress")},{default:S(()=>[n(T,{icon:"chevron_right"})]),_:1},8,["disabled","title"])])]),e("div",Tl,[u(Te)&&!u(ye).length?(s(),a("div",Al,[e("div",Ml,[n(T,{icon:"article",class:"text-zinc-400 text-xl animate-pulse"})]),e("p",Ul,g(i.__("Loading posts...","uixpress")),1)])):u(ge).length===0?(s(),a("div",Il,[e("div",Dl,[n(T,{icon:"article",class:"text-zinc-400 text-xl"})]),e("p",Ll,g(i.__("No posts found","uixpress")),1),e("a",{href:`${u(p).state.adminUrl}post-new.php${F.value}`,title:i.__("New post","uixpress")},[n(O,{type:"primary",class:"text-sm mt-4"},{default:S(()=>{var R,ie;return[re(g(((ie=(R=u(oe))==null?void 0:R.labels)==null?void 0:ie.new_item)||i.__("Add new","uixpress")),1)]}),_:1})],8,Rl)])):(s(),ae($a,{key:2,posts:u(ge),"selected-posts":u(K),"selected-post-id":E.value,onSelectPost:V,onToggleSelection:W},null,8,["posts","selected-posts","selected-post-id"]))])]),e("div",jl,[n(rl,{post:u(ge).find(R=>R.id===E.value)||null,onUpdated:u(Y)},null,8,["post","onUpdated"])])])],2)):(s(),a("div",{key:2,class:q(["@container bg-white dark:bg-zinc-900 uipx-normalize font-sans dark:bg-zinc-900 bg-white p-6 flex flex-col gap-6 text-zinc-500 dark:text-zinc-400",u(v)?"dark":""]),style:{"min-height":"calc(100dvh - var(--wp-admin--admin-bar--height))"},id:"uixpress-posts-wrap"},[e("div",El,[e("div",Hl,g(((De=(Me=u(oe))==null?void 0:Me.labels)==null?void 0:De.name)||i.__("Posts","uixpress")),1)]),e("div",Ol,[n(ot,{options:u(ke),modelValue:u(pe),"onUpdate:modelValue":$[2]||($[2]=R=>He(pe)?pe.value=R:null),class:"w-auto",style:{width:"auto"}},null,8,["options","modelValue"]),e("div",Bl,[e("button",{onClick:$[3]||($[3]=R=>j(w.value==="table"?"sidebar":"table")),class:q(["p-2 rounded-md transition-colors","bg-zinc-100 dark:bg-zinc-800 hover:bg-zinc-200 dark:hover:bg-zinc-700"]),title:w.value==="table"?i.__("Sidebar View","uixpress"):i.__("Table View","uixpress")},[n(T,{icon:w.value==="table"?"view_list":"table_chart",class:"text-sm text-zinc-600 dark:text-zinc-400"},null,8,["icon"])],8,Nl)])]),n(zs,{pagination:u(P),columns:l.value,data:u(ge),fetching:u(Te),searchPlaceHolder:((be=(Le=u(oe))==null?void 0:Le.labels)==null?void 0:be.search_items)||i.__("Search posts","uixpress"),rowClick:r,selected:u(K),"onUpdate:selected":$[7]||($[7]=R=>He(K)?K.value=R:null),rowRightClick:le,onSearch:u(Y),onPrevious:A,onNext:M,onFirst:G,onLast:L},mt({"right-actions":S(()=>[e("div",Fl,[n(En,{selected:u(K),fetchPostsData:u(Y),postType:u(oe)},null,8,["selected","fetchPostsData","postType"]),n(da),e("a",{href:`${u(p).state.adminUrl}post-new.php${F.value}`,title:i.__("New post","uixpress")},[n(O,{type:"primary",onClick:i.newMenu,class:"text-sm"},{default:S(()=>{var R,ie;return[re(g(((ie=(R=u(oe))==null?void 0:R.labels)==null?void 0:ie.new_item)||i.__("Add new","uixpress")),1)]}),_:1},8,["onClick"])],8,Kl)])]),empty:S(()=>[e("div",ql,[n(T,{icon:"folder_open",style:{"font-size":"60px"}}),e("div",Yl,g(i.__("Nothing found","uixpress")),1),e("div",Wl,g(i.__("When you create new items they will show up here.","uixpress")),1),e("a",{href:`${u(p).state.adminUrl}post-new.php${F.value}`,title:i.__("New post","uixpress")},[n(O,{type:"primary",onClick:i.newMenu,class:"text-sm"},{default:S(()=>{var R,ie;return[re(g(((ie=(R=u(oe))==null?void 0:R.labels)==null?void 0:ie.new_item)||i.__("Add new","uixpress")),1)]}),_:1},8,["onClick"])],8,Xl)])]),_:2},[ee(l.value,(R,ie)=>({name:`row-${R.key}`,fn:S(({row:N})=>{var Ze;return[R.key==="post_actions"?(s(),a("div",Jl,[n(ut,{ref:J=>m(J,ie,N.id),post:N,"data-id":N.id},null,8,["post","data-id"])])):R.key==="date"?(s(),a("div",Gl,[e("div",{class:"text-sm whitespace-nowrap",innerHTML:N[R.key]},null,8,Ql)])):R.key==="status"?(s(),a("div",Zl,[n(pt,{modelValue:N[R.key],"onUpdate:modelValue":J=>N[R.key]=J,post:N,onUpdated:J=>u(ct)(N,J)},null,8,["modelValue","onUpdate:modelValue","post","onUpdated"])])):R.key==="author"?(s(),ae(Ge,{key:3,post:N,modelValue:N[R.key],"onUpdate:modelValue":J=>N[R.key]=J,onUpdated:J=>u(dt)(N)},null,8,["post","modelValue","onUpdate:modelValue","onUpdated"])):R.key=="title"?(s(),a("div",{key:4,class:"flex flex-row items-center gap-4 relative",style:Ee(`padding-left:${N.depth*32}px`)},[((Ze=u(oe))==null?void 0:Ze.name)=="page"&&u(ye).length+1<=z.value?(s(),ae(O,{key:0,type:"transparent",onClick:se(J=>vt(N),["stop"]),disabled:!N.children.length,class:q([N.children.length?"":"opacity-0","text-lg"])},{default:S(()=>[n(T,{icon:xe(N)||u(me)?"expand_more":"chevron_right"},null,8,["icon"])]),_:2},1032,["onClick","disabled","class"])):D("",!0),N.depth&&!N.children.length?(s(),a("div",eo)):D("",!0),n(Qs,{modelValue:N[R.key],"onUpdate:modelValue":J=>N[R.key]=J,post:N,teleportArea:b.value},null,8,["modelValue","onUpdate:modelValue","post","teleportArea"]),e("div",to,[e("div",{onClick:$[4]||($[4]=se(()=>{},["stop"])),class:"",innerHTML:N[R.key].value,contenteditable:!0,onBlur:J=>u(Et)(J,N.id),onKeydown:$[5]||($[5]=he(se(J=>J.target.blur(),["prevent"]),["enter"]))},null,40,so),Se(N)>1?(s(),a("div",no,g(i.sprintf(i.__("%s child items","uixpress"),Se(N))),1)):D("",!0),Se(N)===1?(s(),a("div",ao,g(i.sprintf(i.__("%s child item","uixpress"),Se(N))),1)):D("",!0)])],4)):Array.isArray(N[R.key])?(s(),a("div",lo,[(s(!0),a(B,null,ee(N[R.key],J=>(s(),a("a",{key:J.id,onClick:$[6]||($[6]=se(()=>{},["stop"])),href:J.url,title:J.title,"data-id":J.id,class:q(["inline-flex items-center px-2 py-1 text-xs font-medium rounded-md whitespace-nowrap transition-all duration-200 hover:scale-105",(R.key==="categories","bg-indigo-50 text-indigo-700 hover:bg-indigo-100 border border-indigo-200 dark:bg-indigo-950 dark:text-indigo-300 dark:hover:bg-indigo-900 dark:border-indigo-800")]),innerHTML:J.title},null,10,oo))),128))])):(s(),a("div",{key:6,class:"",innerHTML:N[R.key]},null,8,io))]})}))]),1032,["pagination","columns","data","fetching","searchPlaceHolder","selected","onSearch"]),n(Ye,{ref_key:"confirm",ref:Je},null,512),e("div",{ref_key:"teleportArea",ref:b},null,512)],2)),n(qe,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 translate-y-4","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-300 ease-in","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-4"},{default:S(()=>[u(K).length?(s(),a("div",{key:0,class:q(u(v)?"dark":"")},[e("div",ro,[e("div",co,g(u(K).length)+" "+g(u(K).length===1?i.__("item selected","uixpress"):i.__("items selected","uixpress")),1),$[11]||($[11]=e("div",{class:"h-6 w-px bg-zinc-200 dark:bg-zinc-700"},null,-1)),e("div",uo,[n(O,{type:"transparent",onClick:u(jt),loading:u(Ke),title:i.__("Publish items","uixpress")},{default:S(()=>[n(T,{icon:"publish",class:"text-lg"})]),_:1},8,["onClick","loading","title"]),n(O,{type:"transparent",onClick:u(Lt),loading:u(Ne),title:i.__("Duplicate items","uixpress")},{default:S(()=>[n(T,{icon:"copy",class:"text-lg"})]),_:1},8,["onClick","loading","title"]),n(O,{type:"transparent",onClick:u(Rt),loading:u(Fe),title:i.__("Delete items","uixpress")},{default:S(()=>[n(T,{icon:"delete",class:"text-rose-600 text-lg"})]),_:1},8,["onClick","loading","title"]),n(O,{type:"transparent",onClick:$[8]||($[8]=R=>K.value=[])},{default:S(()=>[n(T,{icon:"close",class:"text-lg"})]),_:1})])])],2)):D("",!0)]),_:1})]}),_:1},8,["adopted-style-sheets"])],64))}},Qe=bt(po),fo=wt();Qe.use(fo);const go=_e();yt(go,"#uipc-script","#uipc-posts-script");kt(Qe);Qe.mount("#uix-posts-page");
//# sourceMappingURL=posts.build.DVKcUVG2.js.map
