const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./assets/user-details-view-CU66auw-.js","./assets/vue-router-mJSwnJkd.js","./assets/_plugin-vue_export-helper-y4Xv5kKr.js","./assets/styles/vue-router.css","./assets/index-BaxaBONX.js","./assets/index-xR3ssTK5.js","./assets/index-B-3JnImM.js","./assets/index-Be1QSod0.js"])))=>i.map(i=>d[i]);
import{_ as Ge}from"./assets/preload-helper-Dp1pzeXC.js";import{r as n,o as Ee,y as De,u as ye,Q as ze,b as f,d as c,e as ce,f as r,g as V,h as M,i as _e,j as e,n as re,l as ie,S as Je,F as J,k as G,m as ae,C as he,_ as P,t as a,K as Pe,c as X,a as ge,I as ke,$ as Ue,D as B,O,E as Y,G as Ke,J as Qe,W as Xe,s as Ye,v as Ze,x as et,P as tt}from"./assets/_plugin-vue_export-helper-y4Xv5kKr.js";import{a as Re,u as Le,D as xe,c as st,b as lt}from"./assets/vue-router-mJSwnJkd.js";import{_ as at,L as rt}from"./assets/index-C_FNz6s0.js";import{_ as le}from"./assets/index-BaxaBONX.js";import{_ as be}from"./assets/index-xR3ssTK5.js";import{_ as ot}from"./assets/index-B-3JnImM.js";import{_ as Ie}from"./assets/index-Be1QSod0.js";import{_ as it}from"./assets/checkbox-OW0WsXcV.js";import{_ as nt}from"./assets/index-DghDHKPv.js";import{_ as dt}from"./assets/index-64rmHcpw.js";function je(){const U=n(!1);let C=null;const L=()=>{U.value=document.body.classList.contains("dark")};return Ee(()=>{L(),C=new MutationObserver(I=>{I.forEach(z=>{z.type==="attributes"&&z.attributeName==="class"&&L()})}),C.observe(document.body,{attributes:!0,attributeFilter:["class"]})}),De(()=>{C&&C.disconnect()}),{isDark:U}}const ut={class:"translate-x-0"},ct={__name:"index",setup(U){ye();const{isDark:C}=je(),L=n(new CSSStyleSheet);return n(!1),n(),(()=>{const w=document.querySelector("#uixpress-users-css").sheet;for(const S of[...w.cssRules].reverse())L.value.insertRule(S.cssText)})(),(z,w)=>{const S=ze("RouterView");return c(),f(J,null,[(c(),ce(_e("style"),null,{default:V(()=>[...w[0]||(w[0]=[M(" html{font-size:14px;}#wpcontent{padding:0}",-1)])]),_:1})),r(ie(Je),{tag:"div","adopted-style-sheets":[L.value],class:"uipx-normalize"},{default:V(()=>[(c(),ce(_e("style"),null,{default:V(()=>[...w[1]||(w[1]=[M(" :root{font-size:14px}#wpcontent{padding:0}",-1)])]),_:1})),e("div",{class:re(["overflow-hidden uipx-normalize font-sans h-[var(--uixp-body-height)] max-h-[var(--uixp-body-height)]",ie(C)?"dark":""])},[r(at),e("div",ut,[r(ie(rt),{height:3})]),r(S)],2)]),_:1},8,["adopted-style-sheets"])],64)}}},pt={class:"relative"},mt={class:"py-2 flex flex-col gap-1"},vt=["onClick","onContextmenu"],xt={class:"flex-shrink-0 relative"},_t=["onClick"],ft={class:"w-10 h-10 bg-zinc-200 dark:bg-zinc-700 rounded-full overflow-hidden"},wt=["src","alt"],bt={key:1,class:"w-full h-full flex items-center justify-center"},ht={class:"flex-1 min-w-0"},gt={class:"flex items-center gap-2 mb-0.5"},kt=["title"],yt={class:"text-xs text-zinc-500 dark:text-zinc-400 truncate"},zt={__name:"user-list",props:{users:{type:Array,default:()=>[]},selectedUsers:{type:Array,default:()=>[]}},emits:["selectUser","delete","toggleSelection"],setup(U,{emit:C}){Re();const L=Le(),I=U,z=C,w=n(!1),S=n({x:0,y:0}),y=n(null),b=(g,D)=>{D.target.closest(".user-checkbox")||z("selectUser",g)},u=(g,D)=>{D.stopPropagation(),z("toggleSelection",g,D)},_=g=>I.selectedUsers.includes(g.id),p=(g,D)=>{g.preventDefault(),y.value=D,S.value={x:g.clientX,y:g.clientY},w.value=!0},h=()=>{w.value=!1,y.value=null},E=g=>{z("delete",[g.id]),h()},T=g=>!g||g.length===0?(0,window.wp.i18n.__)("No role","uixpress"):g[0].charAt(0).toUpperCase()+g[0].slice(1);return document.addEventListener("click",h),(g,D)=>(c(),f("div",pt,[e("div",mt,[(c(!0),f(J,null,ae(U.users,d=>(c(),f("div",{key:d.id,onClick:A=>b(d,A),onContextmenu:A=>p(A,d),class:re(["flex items-center gap-3 px-4 py-3 cursor-pointer transition-colors hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-xl transition-all group -mx-3 relative",ie(L).params.userId==d.id?"bg-zinc-100 dark:bg-zinc-800/60":""])},[e("div",xt,[e("div",{class:re(["absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-10 transition-opacity duration-200 user-checkbox cursor-pointer",_(d)?"opacity-100":"opacity-0 group-hover:opacity-100"]),onClick:he(A=>u(d,A),["stop"])},[r(it,{isactive:_(d)},null,8,["isactive"])],10,_t),e("div",ft,[d.avatar_url?(c(),f("img",{key:0,src:d.avatar_url,alt:d.name,class:"w-full h-full object-cover"},null,8,wt)):(c(),f("div",bt,[r(P,{icon:"person",class:"text-zinc-500 dark:text-zinc-400"})]))])]),e("div",ht,[e("div",gt,[e("span",{class:re(["font-medium text-sm text-zinc-900 dark:text-zinc-200 truncate",ie(L).params.userId==d.id?"text-zinc-900 dark:text-white":"text-zinc-600 dark:text-zinc-400"]),title:d.name||d.username},a(d.name||d.username),11,kt)]),e("div",yt,a(d.email)+" • "+a(T(d.roles)),1)])],42,vt))),128))]),w.value&&y.value?(c(),f("div",{key:0,style:Pe({left:S.value.x+"px",top:S.value.y+"px"}),class:"fixed z-50 bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-lg shadow-lg py-1 min-w-32",onClick:D[1]||(D[1]=he(()=>{},["stop"]))},[e("button",{onClick:D[0]||(D[0]=d=>E(y.value)),class:"w-full px-3 py-2 text-left text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2"},[r(P,{icon:"delete",class:"text-sm"}),M(" "+a(g.__("Delete","uixpress")),1)])],4)):G("",!0)]))}},Vt=(U,C={})=>{const{delimiter:L=",",hasHeaders:I=!0}=C,z=U.split(/\r?\n/).filter(u=>u.trim()!=="");if(z.length===0)return{headers:[],rows:[]};const w=u=>{const _=[];let p="",h=!1;for(let E=0;E<u.length;E++){const T=u[E],g=u[E+1];T==='"'?h&&g==='"'?(p+='"',E++):h=!h:T===L&&!h?(_.push(p.trim()),p=""):p+=T}return _.push(p.trim()),_},S=I?w(z[0]):[],y=[],b=I?1:0;for(let u=b;u<z.length;u++){const _=w(z[u]);if(I){const p={};S.forEach((h,E)=>{p[h]=_[E]||""}),y.push(p)}else y.push(_)}return{headers:S,rows:y}},Ct=(U,C=null)=>{if(!U||U.length===0)return"";const L=C||Object.keys(U[0]),I=w=>{if(w==null)return"";const S=String(w);if(typeof w=="object"&&!Array.isArray(w))return JSON.stringify(w);const y=S.replace(/"/g,'""');return y.includes(",")||y.includes('"')||y.includes(`
`)?`"${y}"`:y};return[L.map(I).join(","),...U.map(w=>L.map(S=>I(w[S])).join(","))].join(`
`)},St={class:"bg-white dark:bg-zinc-900 rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col"},$t={class:"px-6 py-4 border-b border-zinc-200 dark:border-zinc-800 flex items-center justify-between"},Ut={class:"flex items-center gap-2"},It={class:"text-lg font-semibold"},Et={class:"flex-1 overflow-auto p-6 space-y-6"},Dt={class:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2"},Pt={class:"text-sm text-zinc-600 dark:text-zinc-400 mb-1"},Rt={class:"text-xs text-zinc-500 dark:text-zinc-500"},Lt={key:0,class:"text-sm text-zinc-600 dark:text-zinc-400 mt-2"},jt={key:0},Ft={class:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-3"},Nt={class:"space-y-3"},Ot={class:"flex-1 text-sm text-zinc-600 dark:text-zinc-400"},Tt={key:1,class:"space-y-4 pt-4 border-t border-zinc-200 dark:border-zinc-800"},At={class:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2"},Mt={class:"text-xs text-zinc-500 dark:text-zinc-400 mt-1"},qt={class:"flex items-center gap-2"},Bt={for:"skip-first-row",class:"text-sm text-zinc-600 dark:text-zinc-400"},Wt={class:"flex items-center gap-2"},Ht={for:"send-notification",class:"text-sm text-zinc-600 dark:text-zinc-400"},Gt={key:2,class:"pt-4 border-t border-zinc-200 dark:border-zinc-800"},Jt={class:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-3"},Kt={class:"overflow-x-auto"},Qt={class:"w-full text-sm"},Xt={class:"border-b border-zinc-200 dark:border-zinc-800"},Yt={key:3,class:"pt-4 border-t border-zinc-200 dark:border-zinc-800"},Zt={class:"flex items-center justify-between mb-2"},es={class:"text-sm font-medium text-zinc-700 dark:text-zinc-300"},ts={class:"text-sm text-zinc-500 dark:text-zinc-400"},ss={class:"w-full bg-zinc-200 dark:bg-zinc-800 rounded-full h-2"},ls={key:4,class:"pt-4 border-t border-zinc-200 dark:border-zinc-800"},as={class:"block text-sm font-medium text-red-600 dark:text-red-400 mb-2"},rs={class:"max-h-48 overflow-auto space-y-1"},os={class:"px-6 py-4 border-t border-zinc-200 dark:border-zinc-800 flex items-center justify-end gap-3"},is={__name:"user-import",props:{modelValue:{type:Boolean,default:!1},availableRoles:{type:Array,default:()=>[]}},emits:["update:modelValue","imported"],setup(U,{emit:C}){const L=U,I=C,z=n(null),w=n(null),S=n(null),y=n([]),b=n([]),u=n({});n(!1);const _=n(!1),p=n({current:0,total:0,percentage:0}),h=n([]),E=n(0),T=n(""),g=n(!1),D=n(!0),d=[{value:"username",label:(0,window.wp.i18n.__)("Username","uixpress"),required:!0},{value:"email",label:(0,window.wp.i18n.__)("Email","uixpress"),required:!0},{value:"password",label:(0,window.wp.i18n.__)("Password","uixpress"),required:!1},{value:"name",label:(0,window.wp.i18n.__)("Display Name","uixpress"),required:!1},{value:"first_name",label:(0,window.wp.i18n.__)("First Name","uixpress"),required:!1},{value:"last_name",label:(0,window.wp.i18n.__)("Last Name","uixpress"),required:!1},{value:"url",label:(0,window.wp.i18n.__)("Website","uixpress"),required:!1},{value:"description",label:(0,window.wp.i18n.__)("Biographical Info","uixpress"),required:!1},{value:"roles",label:(0,window.wp.i18n.__)("Roles","uixpress"),required:!1},{value:"meta",label:(0,window.wp.i18n.__)("Custom Meta Fields","uixpress"),required:!1}],A=async m=>{var W;const i=(W=m.target.files)==null?void 0:W[0];if(!i)return;const v=["text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/plain"],$=[".csv",".xlsx",".xls"],j="."+i.name.split(".").pop().toLowerCase();if(!v.includes(i.type)&&!$.includes(j)){O({title:(0,window.wp.i18n.__)("Invalid file type","uixpress"),message:(0,window.wp.i18n.__)("Please select a CSV or Excel file","uixpress"),type:"error"});return}w.value=i;try{const x=await i.text(),N=Vt(x,{delimiter:",",hasHeaders:!0});y.value=N.headers,b.value=N.rows,me(),O({title:(0,window.wp.i18n.__)("File loaded","uixpress"),message:(0,window.wp.i18n.__)("%d rows found","uixpress").replace("%d",b.value.length),type:"success"})}catch(x){console.error("Error parsing CSV:",x),O({title:(0,window.wp.i18n.__)("Error parsing file","uixpress"),message:x.message,type:"error"})}},me=()=>{const m={};y.value.forEach(i=>{const v=i.toLowerCase().trim();for(const $ of d){const j=$.label.toLowerCase(),W=$.value.toLowerCase();if(v===W||v===j||v.includes(W)||v.includes(j)){m[i]=$.value;break}}}),u.value=m},Z=X(()=>{const m=d.filter(v=>v.required),i=Object.values(u.value);return m.every(v=>i.includes(v.value))}),ee=X(()=>b.value.length?b.value.slice(0,5).map((m,i)=>{const v={};return Object.entries(u.value).forEach(([$,j])=>{v[j]=m[$]||""}),{...v,_rowIndex:i+(D.value?2:1)}}):[]),F=async()=>{var v;if(!Z.value){O({title:(0,window.wp.i18n.__)("Invalid mapping","uixpress"),message:(0,window.wp.i18n.__)("Please map all required fields","uixpress"),type:"error"});return}if(b.value.length===0){O({title:(0,window.wp.i18n.__)("No data to import","uixpress"),type:"error"});return}_.value=!0,p.value={current:0,total:b.value.length,percentage:0},h.value=[],E.value=0;const m=D.value?1:0,i=b.value.slice(m);try{for(let j=0;j<i.length;j++){const W=i[j],x={};if(Object.entries(u.value).forEach(([K,H])=>{var oe;const Q=((oe=W[K])==null?void 0:oe.trim())||"";if(Q)if(H==="roles")x.roles=Q.split(/[,;]/).map(q=>q.trim()).filter(q=>q);else if(H==="meta"){x.meta||(x.meta={});try{const q=JSON.parse(Q);Object.assign(x.meta,q)}catch{const q=Q.split(":");q.length>=2&&(x.meta[q[0].trim()]=q.slice(1).join(":").trim())}}else x[H]=Q}),x.password||(T.value?x.password=T.value:x.password=Math.random().toString(36).slice(-12)+Math.random().toString(36).slice(-12)),!x.username||!x.email){h.value.push({row:j+m+1,error:(0,window.wp.i18n.__)("Missing required fields (username or email)","uixpress")});continue}const N=x.meta||{};delete x.meta,x.first_name&&(N.first_name=x.first_name,delete x.first_name),x.last_name&&(N.last_name=x.last_name,delete x.last_name);try{const K={username:x.username,email:x.email,password:x.password,name:x.name||x.username,url:x.url||"",description:x.description||"",roles:x.roles||[],send_user_notification:g.value},H=await Y({endpoint:"wp/v2/users",type:"POST",params:{context:"edit"},data:K});if((v=H==null?void 0:H.data)!=null&&v.id&&Object.keys(N).length>0)try{await Y({endpoint:`wp/v2/users/${H.data.id}`,type:"POST",data:{meta:N}})}catch(Q){console.error("Failed to set meta fields:",Q);for(const[oe,q]of Object.entries(N))try{await Y({endpoint:`wp/v2/users/${H.data.id}`,type:"POST",data:{meta:{[oe]:q}}})}catch(we){console.error(`Failed to set meta field ${oe}:`,we)}}E.value++}catch(K){h.value.push({row:j+m+1,error:(K==null?void 0:K.message)||(0,window.wp.i18n.__)("Failed to create user","uixpress"),data:x})}p.value.current=j+1,p.value.percentage=Math.round((j+1)/i.length*100)}const $=(0,window.wp.i18n.__)("%d users imported successfully, %d errors","uixpress").replace(/%d/,E.value).replace(/%d/,h.value.length);O({title:(0,window.wp.i18n.__)("Import completed","uixpress"),message:$,type:h.value.length===0?"success":"warning"}),I("imported",{success:E.value,errors:h.value.length}),h.value.length===0&&te()}catch($){O({title:(0,window.wp.i18n.__)("Import failed","uixpress"),message:$.message,type:"error"})}finally{_.value=!1}},te=()=>{I("update:modelValue",!1),se()},se=()=>{w.value=null,S.value=null,y.value=[],b.value=[],u.value={},h.value=[],E.value=0,T.value="",g.value=!1,D.value=!0,z.value&&(z.value.value="")},ne=()=>{z.value&&z.value.click()};return ge(()=>L.modelValue,m=>{m||se()}),(m,i)=>U.modelValue?(c(),f("div",{key:0,class:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:he(te,["self"])},[e("div",St,[e("div",$t,[e("div",Ut,[r(P,{icon:"upload_file",class:"text-lg"}),e("h2",It,a(m.__("Import Users from CSV","uixpress")),1)]),e("button",{onClick:te,class:"p-2 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors"},[r(P,{icon:"close",class:"text-lg"})])]),e("div",Et,[e("div",null,[e("label",Dt,a(m.__("Select CSV File","uixpress")),1),e("div",{onClick:ne,class:"border-2 border-dashed border-zinc-300 dark:border-zinc-700 rounded-lg p-8 text-center cursor-pointer hover:border-zinc-400 dark:hover:border-zinc-600 transition-colors"},[r(P,{icon:"cloud_upload",class:"text-4xl text-zinc-400 mb-2 mx-auto"}),e("p",Pt,a(m.__("Click to select file or drag and drop","uixpress")),1),e("p",Rt," CSV, XLSX ("+a(m.__("max 10MB","uixpress"))+") ",1),e("input",{ref_key:"fileInput",ref:z,type:"file",accept:".csv,.xlsx,.xls",onChange:A,class:"hidden"},null,544)]),w.value?(c(),f("p",Lt,a(m.__("Selected:","uixpress"))+" "+a(w.value.name)+" ("+a(b.value.length)+" "+a(m.__("rows","uixpress"))+") ",1)):G("",!0)]),y.value.length>0?(c(),f("div",jt,[e("label",Ft,a(m.__("Map CSV Columns to User Fields","uixpress")),1),e("div",Nt,[(c(!0),f(J,null,ae(y.value,v=>(c(),f("div",{key:v,class:"flex items-center gap-3"},[e("div",Ot,a(v),1),r(dt,{modelValue:u.value[v],"onUpdate:modelValue":$=>u.value[v]=$,options:[{value:"",label:m.__("— Skip —","uixpress")},...d.map($=>({value:$.value,label:$.label}))],class:"w-64"},null,8,["modelValue","onUpdate:modelValue","options"])]))),128))])])):G("",!0),y.value.length>0?(c(),f("div",Tt,[e("div",null,[e("label",At,a(m.__("Default Password","uixpress")),1),r(le,{modelValue:T.value,"onUpdate:modelValue":i[0]||(i[0]=v=>T.value=v),type:"password",placeholder:m.__("Leave empty to generate random passwords","uixpress")},null,8,["modelValue","placeholder"]),e("p",Mt,a(m.__("Used when password column is not mapped or empty","uixpress")),1)]),e("div",qt,[ke(e("input",{"onUpdate:modelValue":i[1]||(i[1]=v=>D.value=v),type:"checkbox",id:"skip-first-row",class:"rounded"},null,512),[[Ue,D.value]]),e("label",Bt,a(m.__("Skip first data row (if it contains headers)","uixpress")),1)]),e("div",Wt,[ke(e("input",{"onUpdate:modelValue":i[2]||(i[2]=v=>g.value=v),type:"checkbox",id:"send-notification",class:"rounded"},null,512),[[Ue,g.value]]),e("label",Ht,a(m.__("Send welcome email to new users","uixpress")),1)])])):G("",!0),ee.value.length>0?(c(),f("div",Gt,[e("label",Jt,a(m.__("Preview (first 5 rows)","uixpress")),1),e("div",Kt,[e("table",Qt,[e("thead",null,[e("tr",Xt,[(c(!0),f(J,null,ae(Object.keys(ee.value[0]||{}),v=>(c(),f("th",{key:v,class:"text-left py-2 px-3 text-zinc-600 dark:text-zinc-400"},a(v),1))),128))])]),e("tbody",null,[(c(!0),f(J,null,ae(ee.value,(v,$)=>(c(),f("tr",{key:$,class:"border-b border-zinc-100 dark:border-zinc-800/50"},[(c(!0),f(J,null,ae(v,(j,W)=>(c(),f("td",{key:W,class:"py-2 px-3 text-zinc-700 dark:text-zinc-300"},a(j),1))),128))]))),128))])])])])):G("",!0),_.value?(c(),f("div",Yt,[e("div",Zt,[e("span",es,a(m.__("Importing...","uixpress")),1),e("span",ts,a(p.value.current)+" / "+a(p.value.total),1)]),e("div",ss,[e("div",{class:"bg-zinc-900 dark:bg-zinc-100 h-2 rounded-full transition-all duration-300",style:Pe({width:`${p.value.percentage}%`})},null,4)])])):G("",!0),h.value.length>0?(c(),f("div",ls,[e("label",as,a(m.__("Import Errors","uixpress"))+" ("+a(h.value.length)+") ",1),e("div",rs,[(c(!0),f(J,null,ae(h.value,(v,$)=>(c(),f("div",{key:$,class:"text-sm text-red-600 dark:text-red-400 p-2 bg-red-50 dark:bg-red-900/20 rounded"},a(m.__("Row","uixpress"))+" "+a(v.row)+": "+a(v.error),1))),128))])])):G("",!0)]),e("div",os,[r(B,{type:"default",onClick:te,disabled:_.value},{default:V(()=>[M(a(m.__("Cancel","uixpress")),1)]),_:1},8,["disabled"]),r(B,{type:"primary",onClick:F,disabled:!Z.value||b.value.length===0||_.value,loading:_.value},{default:V(()=>[M(a(m.__("Start Import","uixpress")),1)]),_:1},8,["disabled","loading"])])])])):G("",!0)}},ns=(U,C=[],L="users-export")=>{if(!U||U.length===0){console.warn("No users to export");return}const z=[...["id","username","email","name","first_name","last_name","url","description","roles","registered","avatar_url"],...C],w=U.map(u=>{const _={};return z.forEach(p=>{var h,E;p==="roles"?_[p]=Array.isArray(u.roles)?u.roles.join("; "):u.roles||"":p==="registered"?_[p]=u.registered?new Date(u.registered).toLocaleDateString():"":C.includes(p)?_[p]=((h=u.meta)==null?void 0:h[p])||u[p]||"":p==="first_name"||p==="last_name"?_[p]=((E=u.meta)==null?void 0:E[p])||u[p]||"":_[p]=u[p]||""}),_}),S=Ct(w,z),y=new Blob([S],{type:"text/csv;charset=utf-8;"}),b=document.createElement("a");if(b.download!==void 0){const u=URL.createObjectURL(y);b.setAttribute("href",u),b.setAttribute("download",`${L}-${new Date().toISOString().split("T")[0]}.csv`),b.style.visibility="hidden",document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(u)}},ds={class:"md:w-96 w-full flex flex-col rounded-3xl bg-white dark:bg-zinc-800/30 border border-zinc-200/40 dark:border-zinc-700/30 h-full max-h-full overflow-hidden"},us={class:"px-6 pt-6 pb-4"},cs={class:"flex items-center justify-between mb-4"},ps={class:"text-xl font-medium text-zinc-900 dark:text-zinc-100"},ms={class:"flex items-center gap-2"},vs={class:"relative"},xs=["placeholder"],_s={class:"px-6 py-3"},fs={class:"flex items-center gap-2"},ws={class:"flex-1 flex items-center gap-1.5 overflow-x-auto hide-scrollbar"},bs=["onClick"],hs={class:"flex items-center gap-1.5"},gs=["title"],ks={class:"mt-3 pt-3 border-t border-zinc-200 dark:border-zinc-800"},ys={class:"block text-[10px] uppercase tracking-wider font-semibold text-zinc-500 dark:text-zinc-400 mb-1.5"},zs={class:"grid grid-cols-2 gap-1.5"},Vs=["onClick"],Cs={class:"flex flex-row place-content-between items-center px-6 pr-4"},Ss={class:"py-2 text-[10px] uppercase tracking-wider font-semibold text-zinc-400 dark:text-zinc-500"},$s={class:"flex flex-row items-center"},Us={class:"text-xs text-zinc-500 dark:text-zinc-500 mr-2"},Is={key:0},Es={class:"flex-1 overflow-auto px-6 pb-6 custom-scrollbar"},Ds={key:0,class:"p-8 text-center"},Ps={class:"w-12 h-12 bg-zinc-100 dark:bg-zinc-800 rounded-full flex items-center justify-center mx-auto mb-3"},Rs={class:"text-sm text-zinc-500 dark:text-zinc-400"},Ls={key:1,class:"p-8 text-center"},js={class:"w-12 h-12 bg-zinc-100 dark:bg-zinc-800 rounded-full flex items-center justify-center mx-auto mb-3"},Fs={class:"text-sm text-zinc-500 dark:text-zinc-400 mb-2"},Ns={class:"flex-1 flex flex-col rounded-3xl bg-white dark:bg-zinc-800/30 border border-zinc-200/40 dark:border-zinc-700/30 h-full max-h-full overflow-auto"},Os={key:0,class:"flex-1 flex items-center justify-center"},Ts={class:"text-center"},As={class:"w-16 h-16 bg-zinc-100 dark:bg-zinc-800 rounded-2xl flex items-center justify-center mx-auto mb-4"},Ms={class:"text-lg font-medium text-zinc-900 dark:text-zinc-100 mb-2"},qs={class:"text-sm text-zinc-500 dark:text-zinc-400 mb-4"},Bs={class:"p-6 space-y-6 overflow-auto"},Ws={class:"block text-[10px] uppercase tracking-wider font-semibold text-zinc-400 dark:text-zinc-500 mb-2"},Hs={class:"block text-[10px] uppercase tracking-wider font-semibold text-zinc-400 dark:text-zinc-500 mb-2"},Gs={class:"block text-[10px] uppercase tracking-wider font-semibold text-zinc-400 dark:text-zinc-500 mb-2"},Js={class:"block text-[10px] uppercase tracking-wider font-semibold text-zinc-400 dark:text-zinc-500 mb-2"},Ks={class:"block text-[10px] uppercase tracking-wider font-semibold text-zinc-400 dark:text-zinc-500 mb-2"},Qs={class:"block text-[10px] uppercase tracking-wider font-semibold text-zinc-400 dark:text-zinc-500 mb-2"},Xs={class:"block text-[10px] uppercase tracking-wider font-semibold text-zinc-400 dark:text-zinc-500 mb-2"},Ys={class:"pt-4 border-t border-zinc-100 dark:border-zinc-800"},Zs={class:"flex items-center gap-2"},el={class:"text-sm text-zinc-600 dark:text-zinc-400",for:"send-notification"},tl={class:"text-xs text-zinc-500 dark:text-zinc-400 mt-1"},sl={class:"p-6 flex items-center justify-end gap-3 border-t border-zinc-200 dark:border-zinc-800"},ll={key:0,class:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-2xl shadow-lg px-4 py-3 flex items-center gap-4"},al={class:"text-sm font-medium text-zinc-700 dark:text-zinc-300 whitespace-nowrap"},rl={class:"flex items-center gap-2"},ol=["title"],il=["title"],nl=["title"],dl=["title"],ul={class:"flex items-center gap-2"},cl={class:"text-lg font-semibold"},pl={class:"space-y-6 p-6"},ml={class:"text-sm text-zinc-600 dark:text-zinc-400 mb-4"},vl={class:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2"},xl={class:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2"},_l={class:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2"},fl={class:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2"},wl={class:"flex items-center gap-3 pt-4 border-t border-zinc-200 dark:border-zinc-700"},bl={class:"flex items-center gap-2"},hl={class:"text-lg font-semibold"},gl={class:"space-y-6 p-6"},kl={class:"text-sm text-zinc-600 dark:text-zinc-400 mb-4"},yl={class:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-3"},zl={class:"space-y-2"},Vl={class:"text-xs text-zinc-500 dark:text-zinc-400 mb-2"},Cl={class:"text-xs text-zinc-500 dark:text-zinc-400 mt-1"},Sl={class:"pt-4 border-t border-zinc-200 dark:border-zinc-700"},$l={class:"bg-zinc-50 dark:bg-zinc-900/50 rounded-lg p-4 space-y-2"},Ul={class:"flex items-center justify-between text-sm"},Il={class:"text-zinc-600 dark:text-zinc-400"},El={class:"font-medium text-zinc-900 dark:text-zinc-100"},Dl={class:"flex items-center justify-between text-sm"},Pl={class:"text-zinc-600 dark:text-zinc-400"},Rl={class:"font-medium text-zinc-900 dark:text-zinc-100"},Ll={class:"flex items-center gap-3 pt-4 border-t border-zinc-200 dark:border-zinc-700"},jl={__name:"user-list-view",setup(U){const C=ye(),{isDark:L}=je(),I=Re(),z=Le(),w=n(new CSSStyleSheet),S=n(!1),y=n([]),b=n([]),u=n(""),_=n("all"),p=n("name"),h=n("asc"),E=n(typeof window<"u"?window.innerWidth:0),T=n(!1),g=n(!1),D=n([]),d=n([]),A=n(null),me=n(null),Z=n(!1),ee=n(!1),F=n({name:"",email:"",roles:[],description:""}),te=n(!1),se=n(!1),ne=n(""),m=n(!1),i=n({page:1,per_page:30,total:0,totalPages:0,search:"",order:"asc",orderby:"name"}),v=X(()=>E.value),$=X(()=>i.value.page>1),j=X(()=>i.value.totalPages>0&&i.value.page<i.value.totalPages),W=async()=>{$.value&&(i.value.page-=1,await N())},x=async()=>{j.value&&(i.value.page+=1,await N())},N=async()=>{S.value=!0,C.updateState("loading",!0);const t={page:i.value.page,per_page:i.value.per_page,search:i.value.search,order:i.value.order,orderby:i.value.orderby,context:"edit"};_.value!=="all"&&(t.roles=_.value);const o=await Y({endpoint:"wp/v2/users",params:t});S.value=!1,C.updateState("loading",!1),o&&(y.value=o.data.map(l=>{var R,de,ue;return{id:l.id,name:l.name,email:l.email,username:l.slug,roles:l.roles||[],registered:l.registered_date,avatar_url:((R=l.avatar_urls)==null?void 0:R["96"])||"",url:l.url||"",description:l.description||"",link:l.link||"",first_name:((de=l.meta)==null?void 0:de.first_name)||"",last_name:((ue=l.meta)==null?void 0:ue.last_name)||""}}),i.value.total=o.totalItems,i.value.totalPages=o.totalPages,Be())},K=async()=>{try{const t=await Y({endpoint:"uixpress/v1/user-roles"});t!=null&&t.data&&(D.value=t.data)}catch(t){console.error("Failed to fetch roles:",t)}},H=t=>{I.push({name:"user-details",params:{userId:t.id}})},Q=(t,s)=>{const o=b.value.findIndex(l=>l.id===t.id);if(s!=null&&s.shiftKey&&A.value!==null){const l=Math.min(A.value,o),R=Math.max(A.value,o);b.value.slice(l,R+1).map(ve=>ve.id).forEach(ve=>{d.value.includes(ve)||d.value.push(ve)}),A.value=o}else{const l=d.value.findIndex(R=>R===t.id);l>-1?d.value.splice(l,1):d.value.push(t.id),A.value=o}},oe=X(()=>d.value.length>0),q=X(()=>{const t=d.value.length;return t===1?(0,window.wp.i18n.__)("1 user selected","uixpress"):(0,window.wp.i18n.__)("%d users selected","uixpress").replace("%d",t)}),we=()=>{if(d.value.length===0)return;const t=d.value[0];I.push({name:"user-details",params:{userId:t}})},Ve=()=>{d.value=[],A.value=null},Fe=()=>{F.value={name:"",email:"",roles:[],description:""},Z.value=!0},Ne=async()=>{if(d.value.length!==0){ee.value=!0;try{const t=d.value.map(async s=>{const o={};F.value.name.trim()&&(o.name=F.value.name.trim()),F.value.email.trim()&&(o.email=F.value.email.trim()),F.value.description.trim()&&(o.description=F.value.description.trim()),F.value.roles.length>0&&(o.roles=F.value.roles.map(l=>l.slug||l)),Object.keys(o).length!==0&&await Y({endpoint:`wp/v2/users/${s}`,type:"POST",data:o})});await Promise.all(t),await N(),Z.value=!1,d.value=[],A.value=null,O({title:(0,window.wp.i18n.__)("Users updated successfully","uixpress"),type:"success"})}catch(t){console.error("Bulk edit error:",t),O({title:(0,window.wp.i18n.__)("Error updating users","uixpress"),type:"error"})}finally{ee.value=!1}}},Oe=async()=>{await N()},Te=async()=>{if(b.value.length===0){O({title:(0,window.wp.i18n.__)("No users to export","uixpress"),type:"error"});return}m.value=!0;try{const t=ne.value.split(`
`).map(o=>o.trim()).filter(o=>o),s=await Promise.all(b.value.map(async o=>{if(t.length>0)try{const l=await Y({endpoint:`wp/v2/users/${o.id}`,params:{context:"edit"}});if(l!=null&&l.data){const R={};return t.forEach(de=>{var ue;R[de]=((ue=l.data.meta)==null?void 0:ue[de])||""}),{...o,meta:R}}}catch(l){console.error(`Failed to fetch user ${o.id}:`,l)}return o}));ns(s,t,`users-export-${new Date().toISOString().split("T")[0]}`),O({title:(0,window.wp.i18n.__)("Export completed","uixpress"),message:(0,window.wp.i18n.__)("%d users exported successfully","uixpress").replace("%d",s.length),type:"success"}),se.value=!1}catch(t){console.error("Export error:",t),O({title:(0,window.wp.i18n.__)("Export failed","uixpress"),type:"error"})}finally{m.value=!1}},Ae=async()=>{if(d.value.length===0)return;const t=d.value.length,s=t===1?(0,window.wp.i18n.__)("this user","uixpress"):(0,window.wp.i18n.__)("these %d users","uixpress").replace("%d",t);await me.value.show({title:(0,window.wp.i18n.__)("Are you sure?","uixpress"),message:(0,window.wp.i18n.__)("Are you sure you want to delete %s? This action cannot be undone.","uixpress").replace("%s",s),okButton:(0,window.wp.i18n.__)("Yes, delete","uixpress")})&&(await Ce(d.value),Ve())},Ce=async t=>{S.value=!0;try{const s=t.map(o=>Y({endpoint:`wp/v2/users/${o}`,type:"DELETE",params:{force:!0,reassign:1}}));await Promise.all(s),d.value=[],A.value=null,O({title:(0,window.wp.i18n.__)("User deleted successfully!","uixpress"),type:"success"}),await N()}catch{O({title:(0,window.wp.i18n.__)("Delete failed","uixpress"),type:"error"})}finally{S.value=!1}},k=n({username:"",email:"",password:"",name:"",website:"",description:"",roles:[],sendUserNotification:!1}),pe=n(!1),Se=X(()=>D.value.map(t=>({id:t.value,name:t.label,slug:t.value}))),Me=X(()=>k.value.roles.map(t=>t.slug)),qe=async()=>{if(!k.value.username||!k.value.email||!k.value.password){O({title:(0,window.wp.i18n.__)("Please fill in all required fields","uixpress"),type:"error"});return}pe.value=!0,C.updateState("loading",!0);const t={username:k.value.username,email:k.value.email,password:k.value.password,name:k.value.name||k.value.username,url:k.value.website||"",description:k.value.description||"",roles:Me.value};try{const o=await Y({endpoint:"wp/v2/users",type:"POST",params:{context:"edit"},data:t});o!=null&&o.data&&(O({title:(0,window.wp.i18n.__)("User created successfully!","uixpress"),type:"success"}),k.value={username:"",email:"",password:"",name:"",website:"",description:"",roles:[],sendUserNotification:!1},g.value=!1,await N(),I.push({name:"user-details",params:{userId:o.data.id}}))}catch(s){O({title:(0,window.wp.i18n.__)("Failed to create user","uixpress"),message:(s==null?void 0:s.message)||(0,window.wp.i18n.__)("An error occurred","uixpress"),type:"error"})}finally{pe.value=!1,C.updateState("loading",!1)}},Be=()=>{let t=[...y.value];if(_.value!=="all"&&(t=t.filter(s=>s.roles.includes(_.value))),u.value){const s=u.value.toLowerCase();t=t.filter(o=>o.name.toLowerCase().includes(s)||o.email.toLowerCase().includes(s)||o.username.toLowerCase().includes(s))}t.sort((s,o)=>{let l,R;switch(p.value){case"email":l=s.email||"",R=o.email||"";break;case"registered":l=new Date(s.registered),R=new Date(o.registered);break;case"role":l=s.roles[0]||"",R=o.roles[0]||"";break;case"name":default:l=s.name||s.username,R=o.name||o.username;break}return h.value==="asc"?l>R?1:-1:l<R?1:-1}),b.value=t},We=()=>{let t=document.querySelector("#uixpress-users-css");if(!t)t=He(),t.onload=()=>{const s=t.sheet;for(const o of[...s.cssRules].reverse())w.value.insertRule(o.cssText)};else{const s=t.sheet;for(const o of[...s.cssRules].reverse())w.value.insertRule(o.cssText)}},He=()=>{var t=document.createElement("link");return t.rel="stylesheet",t.href=`${C.state.pluginBase}app/dist/assets/styles/users.css`,document.head.appendChild(t),t},$e=()=>{E.value=window.innerWidth};return ge([u,_,p,h],()=>{i.value.search=u.value,i.value.orderby=p.value,i.value.order=h.value,i.value.page=1,N()}),Ee(()=>{N(),We(),K(),E.value=window.innerWidth,window.addEventListener("resize",$e)}),De(()=>{window.removeEventListener("resize",$e)}),ge(()=>z.params.userId,t=>{t?T.value=!0:T.value=!1},{immediate:!0,deep:!0}),(t,s)=>{const o=ze("RouterView");return c(),f("div",{class:re(["flex h-full text-zinc-900 dark:text-zinc-100 font-sans max-h-full overflow-hidden gap-6 max-md:gap-0 uipx-normalize",ie(L)?"dark":""])},[e("div",ds,[e("div",us,[e("div",cs,[e("h1",ps,a(t.__("Users","uixpress")),1),e("div",ms,[r(B,{type:"default",onClick:s[0]||(s[0]=l=>te.value=!0),class:"text-sm",title:t.__("Import Users","uixpress")},{default:V(()=>[r(P,{icon:"upload_file",class:"text-base"})]),_:1},8,["title"]),r(B,{type:"default",onClick:s[1]||(s[1]=l=>se.value=!0),class:"text-sm",title:t.__("Export Users","uixpress")},{default:V(()=>[r(P,{icon:"download",class:"text-base"})]),_:1},8,["title"]),r(B,{type:"primary",onClick:s[2]||(s[2]=l=>g.value=!0),class:"text-sm"},{default:V(()=>[r(P,{icon:"add",class:"text-base"})]),_:1})])]),e("div",vs,[r(P,{icon:"search",class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-zinc-400 dark:text-zinc-500 text-base pointer-events-none"}),ke(e("input",{"onUpdate:modelValue":s[3]||(s[3]=l=>u.value=l),type:"text",placeholder:t.__("Search users...","uixpress"),autocomplete:"off",class:"w-full bg-zinc-50 dark:bg-zinc-900 border-0 rounded-lg pl-10 pr-3 py-2.5 text-sm placeholder-zinc-400 dark:placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-zinc-900 dark:focus:ring-zinc-100 transition-shadow"},null,8,xs),[[Qe,u.value]])])]),e("div",_s,[e("div",fs,[e("div",ws,[e("button",{onClick:s[4]||(s[4]=l=>_.value="all"),class:re(["px-3 py-1.5 text-xs font-medium rounded-md whitespace-nowrap transition-colors",_.value==="all"?"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900":"bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-700"])},a(t.__("All","uixpress")),3),(c(!0),f(J,null,ae(D.value,l=>(c(),f("button",{key:l.slug,onClick:R=>_.value=l.slug,class:re(["px-3 py-1.5 text-xs font-medium rounded-md whitespace-nowrap transition-colors",_.value===l.slug?"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900":"bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-700"])},a(l.label),11,bs))),128))]),e("div",hs,[e("button",{onClick:s[5]||(s[5]=l=>h.value=h.value==="asc"?"desc":"asc"),class:"p-2 bg-zinc-100 dark:bg-zinc-800 rounded-md hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors",title:h.value==="asc"?"Ascending":"Descending"},[r(P,{icon:h.value==="asc"?"arrow_upward":"arrow_downward",class:"text-sm text-zinc-600 dark:text-zinc-400"},null,8,["icon"])],8,gs)])]),e("div",ks,[e("label",ys,a(t.__("Sort By","uixpress")),1),e("div",zs,[(c(),f(J,null,ae([{value:"name",label:"Name",icon:"person"},{value:"email",label:"Email",icon:"email"},{value:"registered",label:"Registered",icon:"schedule"},{value:"role",label:"Role",icon:"badge"}],l=>e("button",{key:l.value,onClick:R=>p.value=l.value,class:re(["flex items-center justify-center gap-1.5 px-3 py-2 text-xs font-medium rounded-md transition-colors",p.value===l.value?"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900":"bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-700"])},[r(P,{icon:l.icon,class:"text-sm"},null,8,["icon"]),M(" "+a(t.__(l.label,"uixpress")),1)],10,Vs)),64))])])]),e("div",Cs,[e("div",Ss,a(i.value.total)+" "+a(i.value.total===1?t.__("user","uixpress"):t.__("users","uixpress")),1),e("div",$s,[e("div",Us,[M(a(t.__("Page","uixpress"))+" "+a(i.value.page)+" ",1),i.value.totalPages>0?(c(),f("span",Is," / "+a(i.value.totalPages),1)):G("",!0)]),r(B,{type:"transparent",disabled:!$.value,onClick:W,"aria-disabled":!$.value,title:t.__("Previous","uixpress")},{default:V(()=>[r(P,{icon:"chevron_left"})]),_:1},8,["disabled","aria-disabled","title"]),r(B,{type:"transparent",disabled:!j.value,onClick:x,"aria-disabled":!j.value,title:t.__("Next","uixpress")},{default:V(()=>[r(P,{icon:"chevron_right"})]),_:1},8,["disabled","aria-disabled","title"])])]),e("div",Es,[S.value&&!y.value.length?(c(),f("div",Ds,[e("div",Ps,[r(P,{icon:"people",class:"text-zinc-400 text-xl animate-pulse"})]),e("p",Rs,a(t.__("Loading users...","uixpress")),1)])):b.value.length===0?(c(),f("div",Ls,[e("div",js,[r(P,{icon:"people",class:"text-zinc-400 text-xl"})]),e("p",Fs,a(u.value||_.value!=="all"?t.__("No users found","uixpress"):t.__("No users yet","uixpress")),1)])):(c(),ce(zt,{key:2,users:b.value,"selected-users":d.value,onSelectUser:H,onToggleSelection:Q,onDelete:Ce},null,8,["users","selected-users"]))])]),e("div",Ns,[r(o,{key:"user-details-content"},{default:V(({Component:l})=>[l?l&&v.value>1024?(c(),ce(_e(l),{key:1})):l&&v.value<=1024?(c(),ce(xe,{key:2,modelValue:T.value,"onUpdate:modelValue":s[6]||(s[6]=R=>T.value=R),size:"full","show-header":!1,"show-close-button":!1,"close-on-overlay-click":!0,"close-on-escape":!0,onClose:s[7]||(s[7]=R=>ie(I).push("/"))},{default:V(()=>[(c(),ce(_e(l)))]),_:2},1032,["modelValue"])):G("",!0):(c(),f("div",Os,[e("div",Ts,[e("div",As,[r(P,{icon:"people",class:"text-2xl text-zinc-400"})]),e("h3",Ms,a(t.__("User Details","uixpress")),1),e("p",qs,a(t.__("Select a user from the list to view details and edit properties.","uixpress")),1)])]))]),_:1})]),r(xe,{modelValue:g.value,"onUpdate:modelValue":s[17]||(s[17]=l=>g.value=l),title:t.__("Create New User","uixpress"),size:"large"},{footer:V(()=>[e("div",sl,[r(B,{type:"transparent",onClick:s[16]||(s[16]=l=>g.value=!1),disabled:pe.value},{default:V(()=>[M(a(t.__("Cancel","uixpress")),1)]),_:1},8,["disabled"]),r(B,{type:"primary",onClick:qe,loading:pe.value},{default:V(()=>[M(a(t.__("Create User","uixpress")),1)]),_:1},8,["loading"])])]),default:V(()=>[e("div",Bs,[e("div",null,[e("label",Ws,[M(a(t.__("Username","uixpress"))+" ",1),s[28]||(s[28]=e("span",{class:"text-red-500"},"*",-1))]),r(le,{modelValue:k.value.username,"onUpdate:modelValue":s[8]||(s[8]=l=>k.value.username=l),placeholder:t.__("Username","uixpress"),autocomplete:"off",required:""},null,8,["modelValue","placeholder"])]),e("div",null,[e("label",Hs,[M(a(t.__("Email","uixpress"))+" ",1),s[29]||(s[29]=e("span",{class:"text-red-500"},"*",-1))]),r(le,{modelValue:k.value.email,"onUpdate:modelValue":s[9]||(s[9]=l=>k.value.email=l),type:"email",placeholder:t.__("user@example.com","uixpress"),autocomplete:"off",required:""},null,8,["modelValue","placeholder"])]),e("div",null,[e("label",Gs,[M(a(t.__("Password","uixpress"))+" ",1),s[30]||(s[30]=e("span",{class:"text-red-500"},"*",-1))]),r(le,{modelValue:k.value.password,"onUpdate:modelValue":s[10]||(s[10]=l=>k.value.password=l),type:"password",placeholder:t.__("Password","uixpress"),autocomplete:"new-password",required:""},null,8,["modelValue","placeholder"])]),e("div",null,[e("label",Js,a(t.__("Name","uixpress")),1),r(le,{modelValue:k.value.name,"onUpdate:modelValue":s[11]||(s[11]=l=>k.value.name=l),placeholder:t.__("Display name","uixpress"),autocomplete:"off"},null,8,["modelValue","placeholder"])]),e("div",null,[e("label",Ks,a(t.__("Website","uixpress")),1),r(le,{modelValue:k.value.website,"onUpdate:modelValue":s[12]||(s[12]=l=>k.value.website=l),type:"url",placeholder:t.__("https://example.com","uixpress"),autocomplete:"off"},null,8,["modelValue","placeholder"])]),e("div",null,[e("label",Qs,a(t.__("Biographical Info","uixpress")),1),r(be,{modelValue:k.value.description,"onUpdate:modelValue":s[13]||(s[13]=l=>k.value.description=l),placeholder:t.__("About the user","uixpress"),rows:4,autocomplete:"off"},null,8,["modelValue","placeholder"])]),e("div",null,[e("label",Xs,a(t.__("Roles","uixpress")),1),r(Ie,{modelValue:k.value.roles,"onUpdate:modelValue":s[14]||(s[14]=l=>k.value.roles=l),"available-tags":Se.value,disabled:pe.value,placeholder:t.__("Add roles...","uixpress"),"allow-create":!1},null,8,["modelValue","available-tags","disabled","placeholder"])]),e("div",Ys,[e("div",Zs,[r(ot,{modelValue:k.value.sendUserNotification,"onUpdate:modelValue":s[15]||(s[15]=l=>k.value.sendUserNotification=l)},null,8,["modelValue"]),e("label",el,a(t.__("Send user notification","uixpress")),1)]),e("p",tl,a(t.__("Send an email notification to the user about their new account.","uixpress")),1)])])]),_:1},8,["modelValue","title"]),r(Xe,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 translate-y-4","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-300 ease-in","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-4"},{default:V(()=>[oe.value?(c(),f("div",ll,[e("div",al,a(q.value),1),s[31]||(s[31]=e("div",{class:"h-6 w-px bg-zinc-200 dark:bg-zinc-700"},null,-1)),e("div",rl,[e("button",{onClick:we,class:"p-2 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors text-zinc-700 dark:text-zinc-300 hover:text-zinc-900 dark:hover:text-zinc-100",title:t.__("View","uixpress")},[r(P,{icon:"visibility",class:"text-lg"})],8,ol),e("button",{onClick:Fe,class:"p-2 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors text-zinc-700 dark:text-zinc-300 hover:text-zinc-900 dark:hover:text-zinc-100",title:t.__("Bulk Edit","uixpress")},[r(P,{icon:"edit",class:"text-lg"})],8,il),e("button",{onClick:Ae,class:"p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300",title:t.__("Delete","uixpress")},[r(P,{icon:"delete",class:"text-lg"})],8,nl),e("button",{onClick:Ve,class:"p-2 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors text-zinc-500 dark:text-zinc-400 hover:text-zinc-700 dark:hover:text-zinc-300",title:t.__("Clear selection","uixpress")},[r(P,{icon:"close",class:"text-lg"})],8,dl)])])):G("",!0)]),_:1}),r(nt,{ref_key:"confirmDialog",ref:me},null,512),r(xe,{modelValue:Z.value,"onUpdate:modelValue":s[23]||(s[23]=l=>Z.value=l),size:"md","show-header":!0,"show-close-button":!0},{header:V(()=>[e("div",ul,[r(P,{icon:"edit",class:"text-lg"}),e("h2",cl,a(t.__("Bulk Edit Users","uixpress")),1)])]),default:V(()=>[e("div",pl,[e("div",null,[e("p",ml,a(d.value.length===1?t.__("Editing 1 user. Leave fields empty to keep existing values.","uixpress"):t.__("Editing %d users. Leave fields empty to keep existing values.","uixpress").replace("%d",d.value.length)),1)]),e("div",null,[e("label",vl,a(t.__("Name","uixpress")),1),r(le,{modelValue:F.value.name,"onUpdate:modelValue":s[18]||(s[18]=l=>F.value.name=l),placeholder:t.__("Leave empty to keep existing","uixpress")},null,8,["modelValue","placeholder"])]),e("div",null,[e("label",xl,a(t.__("Email","uixpress")),1),r(le,{modelValue:F.value.email,"onUpdate:modelValue":s[19]||(s[19]=l=>F.value.email=l),type:"email",placeholder:t.__("Leave empty to keep existing","uixpress")},null,8,["modelValue","placeholder"])]),e("div",null,[e("label",_l,a(t.__("Roles","uixpress")),1),r(Ie,{modelValue:F.value.roles,"onUpdate:modelValue":s[20]||(s[20]=l=>F.value.roles=l),"available-tags":Se.value,disabled:ee.value,placeholder:t.__("Leave empty to keep existing","uixpress"),"allow-create":!1},null,8,["modelValue","available-tags","disabled","placeholder"])]),e("div",null,[e("label",fl,a(t.__("Biographical Info","uixpress")),1),r(be,{modelValue:F.value.description,"onUpdate:modelValue":s[21]||(s[21]=l=>F.value.description=l),placeholder:t.__("Leave empty to keep existing","uixpress"),rows:"4"},null,8,["modelValue","placeholder"])]),e("div",wl,[r(B,{onClick:s[22]||(s[22]=l=>Z.value=!1),type:"default",class:"flex-1"},{default:V(()=>[M(a(t.__("Cancel","uixpress")),1)]),_:1}),r(B,{onClick:Ne,type:"primary",loading:ee.value,class:"flex-1"},{default:V(()=>[M(a(t.__("Save Changes","uixpress")),1)]),_:1},8,["loading"])])])]),_:1},8,["modelValue"]),r(is,{modelValue:te.value,"onUpdate:modelValue":s[24]||(s[24]=l=>te.value=l),"available-roles":D.value,onImported:Oe},null,8,["modelValue","available-roles"]),r(xe,{modelValue:se.value,"onUpdate:modelValue":s[27]||(s[27]=l=>se.value=l),size:"md","show-header":!0,"show-close-button":!0},{header:V(()=>[e("div",bl,[r(P,{icon:"download",class:"text-lg"}),e("h2",hl,a(t.__("Export Users","uixpress")),1)])]),default:V(()=>[e("div",gl,[e("div",null,[e("p",kl,a(t.__("Export %d filtered users to CSV file","uixpress").replace("%d",b.value.length)),1)]),e("div",null,[e("label",yl,a(t.__("Include Custom Fields","uixpress")),1),e("div",zl,[e("p",Vl,a(t.__("Enter custom meta field keys (one per line)","uixpress")),1),r(be,{modelValue:ne.value,"onUpdate:modelValue":s[25]||(s[25]=l=>ne.value=l),placeholder:t.__(`meta_key_1
meta_key_2
...`,"uixpress"),rows:"6"},null,8,["modelValue","placeholder"]),e("p",Cl,a(t.__("Standard fields (ID, username, email, name, roles, etc.) are always included","uixpress")),1)])]),e("div",Sl,[e("div",$l,[e("div",Ul,[e("span",Il,a(t.__("Users to export:","uixpress")),1),e("span",El,a(b.value.length),1)]),e("div",Dl,[e("span",Pl,a(t.__("Custom fields:","uixpress")),1),e("span",Rl,a(ne.value.split(`
`).filter(l=>l.trim()).length),1)])])]),e("div",Ll,[r(B,{onClick:s[26]||(s[26]=l=>se.value=!1),type:"default",class:"flex-1",disabled:m.value},{default:V(()=>[M(a(t.__("Cancel","uixpress")),1)]),_:1},8,["disabled"]),r(B,{onClick:Te,type:"primary",loading:m.value,class:"flex-1"},{default:V(()=>[M(a(t.__("Export to CSV","uixpress")),1)]),_:1},8,["loading"])])])]),_:1},8,["modelValue"])],2)}}},Fl=Ke(jl,[["__scopeId","data-v-60abe314"]]),Nl={__name:"layout",setup(U){return(C,L)=>{const I=ze("RouterView");return c(),f(J,null,[r(Fl),r(I,{key:"user-details"})],64)}}},fe=Ye(ct),Ol=Ze();fe.use(Ol);const Tl=ye();et(Tl);tt(fe);const Al=[{path:"/",component:Nl,name:"users-library",meta:{name:(0,window.wp.i18n.__)("Users","uixpress")},children:[{path:"/details/:userId",component:()=>Ge(()=>import("./assets/user-details-view-CU66auw-.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url),name:"user-details",meta:{name:(0,window.wp.i18n.__)("User Details","uixpress")}}]}],Ml=st({history:lt(),routes:Al});fe.use(Ml);fe.mount("#uix-users-page");
//# sourceMappingURL=users.build.DbMbQd6h.js.map
