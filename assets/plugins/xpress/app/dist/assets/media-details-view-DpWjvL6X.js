import{u as zt,a as kt}from"./vue-router-mJSwnJkd.js";import{r as ce,c as tt,u as Ut,a as st,b as oe,d as le,k as Ue,f as se,j as W,_ as we,t as G,F as Je,m as ot,n as je,l as De,K as Ft,g as Ne,D as Qe,h as It,E as Ce,O as ge}from"./_plugin-vue_export-helper-y4Xv5kKr.js";import{u as Et}from"../media.build.-0uB8UKL.js";import{_ as lt}from"./index-BaxaBONX.js";import{_ as ct}from"./index-xR3ssTK5.js";import{_ as Ct}from"./index-DghDHKPv.js";import{_ as Mt}from"./index-Be1QSod0.js";import"./preload-helper-Dp1pzeXC.js";import"./index-C_FNz6s0.js";import"./checkbox-OW0WsXcV.js";import"./index-64rmHcpw.js";function St(M,I){return I.forEach((function(P){P&&typeof P!="string"&&!Array.isArray(P)&&Object.keys(P).forEach((function(d){if(d!=="default"&&!(d in M)){var t=Object.getOwnPropertyDescriptor(P,d);Object.defineProperty(M,d,t.get?t:{enumerable:!0,get:function(){return P[d]}})}}))})),Object.freeze(M)}function ut(M,I){return new Promise((function(P,d){let t;return Tt(M).then((function(n){try{return t=n,P(new Blob([I.slice(0,2),t,I.slice(2)],{type:"image/jpeg"}))}catch(u){return d(u)}}),d)}))}const Tt=M=>new Promise(((I,P)=>{const d=new FileReader;d.addEventListener("load",(({target:{result:t}})=>{const n=new DataView(t);let u=0;if(n.getUint16(u)!==65496)return P("not a valid JPEG");for(u+=2;;){const o=n.getUint16(u);if(o===65498)break;const g=n.getUint16(u+2);if(o===65505&&n.getUint32(u+4)===1165519206){const m=u+10;let e;switch(n.getUint16(m)){case 18761:e=!0;break;case 19789:e=!1;break;default:return P("TIFF header contains invalid endian")}if(n.getUint16(m+2,e)!==42)return P("TIFF header contains invalid version");const i=n.getUint32(m+4,e),r=m+i+2+12*n.getUint16(m+i,e);for(let s=m+i+2;s<r;s+=12)if(n.getUint16(s,e)==274){if(n.getUint16(s+2,e)!==3)return P("Orientation data type is invalid");if(n.getUint32(s+4,e)!==1)return P("Orientation data count is invalid");n.setUint16(s+8,1,e);break}return I(t.slice(u,u+2+g))}u+=2+g}return I(new Blob)})),d.readAsArrayBuffer(M)}));var Ve={},Rt={get exports(){return Ve},set exports(M){Ve=M}};(function(M){var I,P,d={};Rt.exports=d,d.parse=function(t,n){for(var u=d.bin.readUshort,o=d.bin.readUint,g=0,m={},e=new Uint8Array(t),i=e.length-4;o(e,i)!=101010256;)i--;g=i,g+=4;var r=u(e,g+=4);u(e,g+=2);var s=o(e,g+=2),h=o(e,g+=4);g+=4,g=h;for(var y=0;y<r;y++){o(e,g),g+=4,g+=4,g+=4,o(e,g+=4),s=o(e,g+=4);var U=o(e,g+=4),w=u(e,g+=4),L=u(e,g+2),S=u(e,g+4);g+=6;var F=o(e,g+=8);g+=4,g+=w+L+S,d._readLocal(e,F,m,s,U,n)}return m},d._readLocal=function(t,n,u,o,g,m){var e=d.bin.readUshort,i=d.bin.readUint;i(t,n),e(t,n+=4),e(t,n+=2);var r=e(t,n+=2);i(t,n+=2),i(t,n+=4),n+=4;var s=e(t,n+=8),h=e(t,n+=2);n+=2;var y=d.bin.readUTF8(t,n,s);if(n+=s,n+=h,m)u[y]={size:g,csize:o};else{var U=new Uint8Array(t.buffer,n);if(r==0)u[y]=new Uint8Array(U.buffer.slice(n,n+o));else{if(r!=8)throw"unknown compression method: "+r;var w=new Uint8Array(g);d.inflateRaw(U,w),u[y]=w}}},d.inflateRaw=function(t,n){return d.F.inflate(t,n)},d.inflate=function(t,n){return t[0],t[1],d.inflateRaw(new Uint8Array(t.buffer,t.byteOffset+2,t.length-6),n)},d.deflate=function(t,n){n==null&&(n={level:6});var u=0,o=new Uint8Array(50+Math.floor(1.1*t.length));o[u]=120,o[u+1]=156,u+=2,u=d.F.deflateRaw(t,o,u,n.level);var g=d.adler(t,0,t.length);return o[u+0]=g>>>24&255,o[u+1]=g>>>16&255,o[u+2]=g>>>8&255,o[u+3]=g>>>0&255,new Uint8Array(o.buffer,0,u+4)},d.deflateRaw=function(t,n){n==null&&(n={level:6});var u=new Uint8Array(50+Math.floor(1.1*t.length)),o=d.F.deflateRaw(t,u,o,n.level);return new Uint8Array(u.buffer,0,o)},d.encode=function(t,n){n==null&&(n=!1);var u=0,o=d.bin.writeUint,g=d.bin.writeUshort,m={};for(var e in t){var i=!d._noNeed(e)&&!n,r=t[e],s=d.crc.crc(r,0,r.length);m[e]={cpr:i,usize:r.length,crc:s,file:i?d.deflateRaw(r):r}}for(var e in m)u+=m[e].file.length+30+46+2*d.bin.sizeUTF8(e);u+=22;var h=new Uint8Array(u),y=0,U=[];for(var e in m){var w=m[e];U.push(y),y=d._writeHeader(h,y,e,w,0)}var L=0,S=y;for(var e in m)w=m[e],U.push(y),y=d._writeHeader(h,y,e,w,1,U[L++]);var F=y-S;return o(h,y,101010256),y+=4,g(h,y+=4,L),g(h,y+=2,L),o(h,y+=2,F),o(h,y+=4,S),y+=4,y+=2,h.buffer},d._noNeed=function(t){var n=t.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(n)!=-1},d._writeHeader=function(t,n,u,o,g,m){var e=d.bin.writeUint,i=d.bin.writeUshort,r=o.file;return e(t,n,g==0?67324752:33639248),n+=4,g==1&&(n+=2),i(t,n,20),i(t,n+=2,0),i(t,n+=2,o.cpr?8:0),e(t,n+=2,0),e(t,n+=4,o.crc),e(t,n+=4,r.length),e(t,n+=4,o.usize),i(t,n+=4,d.bin.sizeUTF8(u)),i(t,n+=2,0),n+=2,g==1&&(n+=2,n+=2,e(t,n+=6,m),n+=4),n+=d.bin.writeUTF8(t,n,u),g==0&&(t.set(r,n),n+=r.length),n},d.crc={table:(function(){for(var t=new Uint32Array(256),n=0;n<256;n++){for(var u=n,o=0;o<8;o++)1&u?u=3988292384^u>>>1:u>>>=1;t[n]=u}return t})(),update:function(t,n,u,o){for(var g=0;g<o;g++)t=d.crc.table[255&(t^n[u+g])]^t>>>8;return t},crc:function(t,n,u){return 4294967295^d.crc.update(4294967295,t,n,u)}},d.adler=function(t,n,u){for(var o=1,g=0,m=n,e=n+u;m<e;){for(var i=Math.min(m+5552,e);m<i;)g+=o+=t[m++];o%=65521,g%=65521}return g<<16|o},d.bin={readUshort:function(t,n){return t[n]|t[n+1]<<8},writeUshort:function(t,n,u){t[n]=255&u,t[n+1]=u>>8&255},readUint:function(t,n){return 16777216*t[n+3]+(t[n+2]<<16|t[n+1]<<8|t[n])},writeUint:function(t,n,u){t[n]=255&u,t[n+1]=u>>8&255,t[n+2]=u>>16&255,t[n+3]=u>>24&255},readASCII:function(t,n,u){for(var o="",g=0;g<u;g++)o+=String.fromCharCode(t[n+g]);return o},writeASCII:function(t,n,u){for(var o=0;o<u.length;o++)t[n+o]=u.charCodeAt(o)},pad:function(t){return t.length<2?"0"+t:t},readUTF8:function(t,n,u){for(var o,g="",m=0;m<u;m++)g+="%"+d.bin.pad(t[n+m].toString(16));try{o=decodeURIComponent(g)}catch{return d.bin.readASCII(t,n,u)}return o},writeUTF8:function(t,n,u){for(var o=u.length,g=0,m=0;m<o;m++){var e=u.charCodeAt(m);if((4294967168&e)==0)t[n+g]=e,g++;else if((4294965248&e)==0)t[n+g]=192|e>>6,t[n+g+1]=128|e>>0&63,g+=2;else if((4294901760&e)==0)t[n+g]=224|e>>12,t[n+g+1]=128|e>>6&63,t[n+g+2]=128|e>>0&63,g+=3;else{if((4292870144&e)!=0)throw"e";t[n+g]=240|e>>18,t[n+g+1]=128|e>>12&63,t[n+g+2]=128|e>>6&63,t[n+g+3]=128|e>>0&63,g+=4}}return g},sizeUTF8:function(t){for(var n=t.length,u=0,o=0;o<n;o++){var g=t.charCodeAt(o);if((4294967168&g)==0)u++;else if((4294965248&g)==0)u+=2;else if((4294901760&g)==0)u+=3;else{if((4292870144&g)!=0)throw"e";u+=4}}return u}},d.F={},d.F.deflateRaw=function(t,n,u,o){var g=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][o],m=d.F.U,e=d.F._goodIndex;d.F._hash;var i=d.F._putsE,r=0,s=u<<3,h=0,y=t.length;if(o==0){for(;r<y;)i(n,s,r+(x=Math.min(65535,y-r))==y?1:0),s=d.F._copyExact(t,r,x,n,s+8),r+=x;return s>>>3}var U=m.lits,w=m.strt,L=m.prev,S=0,F=0,D=0,p=0,C=0,c=0;for(y>2&&(w[c=d.F._hash(t,0)]=0),r=0;r<y;r++){if(C=c,r+1<y-2){c=d.F._hash(t,r+1);var l=r+1&32767;L[l]=w[c],w[c]=l}if(h<=r){(S>14e3||F>26697)&&y-r>100&&(h<r&&(U[S]=r-h,S+=2,h=r),s=d.F._writeBlock(r==y-1||h==y?1:0,U,S,p,t,D,r-D,n,s),S=F=p=0,D=r);var v=0;r<y-2&&(v=d.F._bestMatch(t,r,L,C,Math.min(g[2],y-r),g[3]));var x=v>>>16,b=65535&v;if(v!=0){b=65535&v;var A=e(x=v>>>16,m.of0);m.lhst[257+A]++;var _=e(b,m.df0);m.dhst[_]++,p+=m.exb[A]+m.dxb[_],U[S]=x<<23|r-h,U[S+1]=b<<16|A<<8|_,S+=2,h=r+x}else m.lhst[t[r]]++;F++}}for(D==r&&t.length!=0||(h<r&&(U[S]=r-h,S+=2,h=r),s=d.F._writeBlock(1,U,S,p,t,D,r-D,n,s),S=0,F=0,S=F=p=0,D=r);(7&s)!=0;)s++;return s>>>3},d.F._bestMatch=function(t,n,u,o,g,m){var e=32767&n,i=u[e],r=e-i+32768&32767;if(i==e||o!=d.F._hash(t,n-r))return 0;for(var s=0,h=0,y=Math.min(32767,n);r<=y&&--m!=0&&i!=e;){if(s==0||t[n+s]==t[n+s-r]){var U=d.F._howLong(t,n,r);if(U>s){if(h=r,(s=U)>=g)break;r+2<U&&(U=r+2);for(var w=0,L=0;L<U-2;L++){var S=n-r+L+32768&32767,F=S-u[S]+32768&32767;F>w&&(w=F,i=S)}}}r+=(e=i)-(i=u[e])+32768&32767}return s<<16|h},d.F._howLong=function(t,n,u){if(t[n]!=t[n-u]||t[n+1]!=t[n+1-u]||t[n+2]!=t[n+2-u])return 0;var o=n,g=Math.min(t.length,n+258);for(n+=3;n<g&&t[n]==t[n-u];)n++;return n-o},d.F._hash=function(t,n){return(t[n]<<8|t[n+1])+(t[n+2]<<4)&65535},d.saved=0,d.F._writeBlock=function(t,n,u,o,g,m,e,i,r){var s,h,y,U,w,L,S,F,D,p=d.F.U,C=d.F._putsF,c=d.F._putsE;p.lhst[256]++,h=(s=d.F.getTrees())[0],y=s[1],U=s[2],w=s[3],L=s[4],S=s[5],F=s[6],D=s[7];var l=32+((r+3&7)==0?0:8-(r+3&7))+(e<<3),v=o+d.F.contSize(p.fltree,p.lhst)+d.F.contSize(p.fdtree,p.dhst),x=o+d.F.contSize(p.ltree,p.lhst)+d.F.contSize(p.dtree,p.dhst);x+=14+3*S+d.F.contSize(p.itree,p.ihst)+(2*p.ihst[16]+3*p.ihst[17]+7*p.ihst[18]);for(var b=0;b<286;b++)p.lhst[b]=0;for(b=0;b<30;b++)p.dhst[b]=0;for(b=0;b<19;b++)p.ihst[b]=0;var A=l<v&&l<x?0:v<x?1:2;if(C(i,r,t),C(i,r+1,A),r+=3,A==0){for(;(7&r)!=0;)r++;r=d.F._copyExact(g,m,e,i,r)}else{var _,z;if(A==1&&(_=p.fltree,z=p.fdtree),A==2){d.F.makeCodes(p.ltree,h),d.F.revCodes(p.ltree,h),d.F.makeCodes(p.dtree,y),d.F.revCodes(p.dtree,y),d.F.makeCodes(p.itree,U),d.F.revCodes(p.itree,U),_=p.ltree,z=p.dtree,c(i,r,w-257),c(i,r+=5,L-1),c(i,r+=5,S-4),r+=4;for(var f=0;f<S;f++)c(i,r+3*f,p.itree[1+(p.ordr[f]<<1)]);r+=3*S,r=d.F._codeTiny(F,p.itree,i,r),r=d.F._codeTiny(D,p.itree,i,r)}for(var a=m,R=0;R<u;R+=2){for(var k=n[R],O=k>>>23,Q=a+(8388607&k);a<Q;)r=d.F._writeLit(g[a++],_,i,r);if(O!=0){var H=n[R+1],N=H>>16,B=H>>8&255,E=255&H;c(i,r=d.F._writeLit(257+B,_,i,r),O-p.of0[B]),r+=p.exb[B],C(i,r=d.F._writeLit(E,z,i,r),N-p.df0[E]),r+=p.dxb[E],a+=O}}r=d.F._writeLit(256,_,i,r)}return r},d.F._copyExact=function(t,n,u,o,g){var m=g>>>3;return o[m]=u,o[m+1]=u>>>8,o[m+2]=255-o[m],o[m+3]=255-o[m+1],m+=4,o.set(new Uint8Array(t.buffer,n,u),m),g+(u+4<<3)},d.F.getTrees=function(){for(var t=d.F.U,n=d.F._hufTree(t.lhst,t.ltree,15),u=d.F._hufTree(t.dhst,t.dtree,15),o=[],g=d.F._lenCodes(t.ltree,o),m=[],e=d.F._lenCodes(t.dtree,m),i=0;i<o.length;i+=2)t.ihst[o[i]]++;for(i=0;i<m.length;i+=2)t.ihst[m[i]]++;for(var r=d.F._hufTree(t.ihst,t.itree,7),s=19;s>4&&t.itree[1+(t.ordr[s-1]<<1)]==0;)s--;return[n,u,r,g,e,s,o,m]},d.F.getSecond=function(t){for(var n=[],u=0;u<t.length;u+=2)n.push(t[u+1]);return n},d.F.nonZero=function(t){for(var n="",u=0;u<t.length;u+=2)t[u+1]!=0&&(n+=(u>>1)+",");return n},d.F.contSize=function(t,n){for(var u=0,o=0;o<n.length;o++)u+=n[o]*t[1+(o<<1)];return u},d.F._codeTiny=function(t,n,u,o){for(var g=0;g<t.length;g+=2){var m=t[g],e=t[g+1];o=d.F._writeLit(m,n,u,o);var i=m==16?2:m==17?3:7;m>15&&(d.F._putsE(u,o,e,i),o+=i)}return o},d.F._lenCodes=function(t,n){for(var u=t.length;u!=2&&t[u-1]==0;)u-=2;for(var o=0;o<u;o+=2){var g=t[o+1],m=o+3<u?t[o+3]:-1,e=o+5<u?t[o+5]:-1,i=o==0?-1:t[o-1];if(g==0&&m==g&&e==g){for(var r=o+5;r+2<u&&t[r+2]==g;)r+=2;(s=Math.min(r+1-o>>>1,138))<11?n.push(17,s-3):n.push(18,s-11),o+=2*s-2}else if(g==i&&m==g&&e==g){for(r=o+5;r+2<u&&t[r+2]==g;)r+=2;var s=Math.min(r+1-o>>>1,6);n.push(16,s-3),o+=2*s-2}else n.push(g,0)}return u>>>1},d.F._hufTree=function(t,n,u){var o=[],g=t.length,m=n.length,e=0;for(e=0;e<m;e+=2)n[e]=0,n[e+1]=0;for(e=0;e<g;e++)t[e]!=0&&o.push({lit:e,f:t[e]});var i=o.length,r=o.slice(0);if(i==0)return 0;if(i==1){var s=o[0].lit;return r=s==0?1:0,n[1+(s<<1)]=1,n[1+(r<<1)]=1,1}o.sort((function(F,D){return F.f-D.f}));var h=o[0],y=o[1],U=0,w=1,L=2;for(o[0]={lit:-1,f:h.f+y.f,l:h,r:y,d:0};w!=i-1;)h=U!=w&&(L==i||o[U].f<o[L].f)?o[U++]:o[L++],y=U!=w&&(L==i||o[U].f<o[L].f)?o[U++]:o[L++],o[w++]={lit:-1,f:h.f+y.f,l:h,r:y};var S=d.F.setDepth(o[w-1],0);for(S>u&&(d.F.restrictDepth(r,u,S),S=u),e=0;e<i;e++)n[1+(r[e].lit<<1)]=r[e].d;return S},d.F.setDepth=function(t,n){return t.lit!=-1?(t.d=n,n):Math.max(d.F.setDepth(t.l,n+1),d.F.setDepth(t.r,n+1))},d.F.restrictDepth=function(t,n,u){var o=0,g=1<<u-n,m=0;for(t.sort((function(i,r){return r.d==i.d?i.f-r.f:r.d-i.d})),o=0;o<t.length&&t[o].d>n;o++){var e=t[o].d;t[o].d=n,m+=g-(1<<u-e)}for(m>>>=u-n;m>0;)(e=t[o].d)<n?(t[o].d++,m-=1<<n-e-1):o++;for(;o>=0;o--)t[o].d==n&&m<0&&(t[o].d--,m++);m!=0&&console.log("debt left")},d.F._goodIndex=function(t,n){var u=0;return n[16|u]<=t&&(u|=16),n[8|u]<=t&&(u|=8),n[4|u]<=t&&(u|=4),n[2|u]<=t&&(u|=2),n[1|u]<=t&&(u|=1),u},d.F._writeLit=function(t,n,u,o){return d.F._putsF(u,o,n[t<<1]),o+n[1+(t<<1)]},d.F.inflate=function(t,n){var u=Uint8Array;if(t[0]==3&&t[1]==0)return n||new u(0);var o=d.F,g=o._bitsF,m=o._bitsE,e=o._decodeTiny,i=o.makeCodes,r=o.codes2map,s=o._get17,h=o.U,y=n==null;y&&(n=new u(t.length>>>2<<3));for(var U,w,L=0,S=0,F=0,D=0,p=0,C=0,c=0,l=0,v=0;L==0;)if(L=g(t,v,1),S=g(t,v+1,2),v+=3,S!=0){if(y&&(n=d.F._check(n,l+(1<<17))),S==1&&(U=h.flmap,w=h.fdmap,C=511,c=31),S==2){F=m(t,v,5)+257,D=m(t,v+5,5)+1,p=m(t,v+10,4)+4,v+=14;for(var x=0;x<38;x+=2)h.itree[x]=0,h.itree[x+1]=0;var b=1;for(x=0;x<p;x++){var A=m(t,v+3*x,3);h.itree[1+(h.ordr[x]<<1)]=A,A>b&&(b=A)}v+=3*p,i(h.itree,b),r(h.itree,b,h.imap),U=h.lmap,w=h.dmap,v=e(h.imap,(1<<b)-1,F+D,t,v,h.ttree);var _=o._copyOut(h.ttree,0,F,h.ltree);C=(1<<_)-1;var z=o._copyOut(h.ttree,F,D,h.dtree);c=(1<<z)-1,i(h.ltree,_),r(h.ltree,_,U),i(h.dtree,z),r(h.dtree,z,w)}for(;;){var f=U[s(t,v)&C];v+=15&f;var a=f>>>4;if(!(a>>>8))n[l++]=a;else{if(a==256)break;var R=l+a-254;if(a>264){var k=h.ldef[a-257];R=l+(k>>>3)+m(t,v,7&k),v+=7&k}var O=w[s(t,v)&c];v+=15&O;var Q=O>>>4,H=h.ddef[Q],N=(H>>>4)+g(t,v,15&H);for(v+=15&H,y&&(n=d.F._check(n,l+(1<<17)));l<R;)n[l]=n[l++-N],n[l]=n[l++-N],n[l]=n[l++-N],n[l]=n[l++-N];l=R}}}else{(7&v)!=0&&(v+=8-(7&v));var B=4+(v>>>3),E=t[B-4]|t[B-3]<<8;y&&(n=d.F._check(n,l+E)),n.set(new u(t.buffer,t.byteOffset+B,E),l),v=B+E<<3,l+=E}return n.length==l?n:n.slice(0,l)},d.F._check=function(t,n){var u=t.length;if(n<=u)return t;var o=new Uint8Array(Math.max(u<<1,n));return o.set(t,0),o},d.F._decodeTiny=function(t,n,u,o,g,m){for(var e=d.F._bitsE,i=d.F._get17,r=0;r<u;){var s=t[i(o,g)&n];g+=15&s;var h=s>>>4;if(h<=15)m[r]=h,r++;else{var y=0,U=0;h==16?(U=3+e(o,g,2),g+=2,y=m[r-1]):h==17?(U=3+e(o,g,3),g+=3):h==18&&(U=11+e(o,g,7),g+=7);for(var w=r+U;r<w;)m[r]=y,r++}}return g},d.F._copyOut=function(t,n,u,o){for(var g=0,m=0,e=o.length>>>1;m<u;){var i=t[m+n];o[m<<1]=0,o[1+(m<<1)]=i,i>g&&(g=i),m++}for(;m<e;)o[m<<1]=0,o[1+(m<<1)]=0,m++;return g},d.F.makeCodes=function(t,n){for(var u,o,g,m,e=d.F.U,i=t.length,r=e.bl_count,s=0;s<=n;s++)r[s]=0;for(s=1;s<i;s+=2)r[t[s]]++;var h=e.next_code;for(u=0,r[0]=0,o=1;o<=n;o++)u=u+r[o-1]<<1,h[o]=u;for(g=0;g<i;g+=2)(m=t[g+1])!=0&&(t[g]=h[m],h[m]++)},d.F.codes2map=function(t,n,u){for(var o=t.length,g=d.F.U.rev15,m=0;m<o;m+=2)if(t[m+1]!=0)for(var e=m>>1,i=t[m+1],r=e<<4|i,s=n-i,h=t[m]<<s,y=h+(1<<s);h!=y;)u[g[h]>>>15-n]=r,h++},d.F.revCodes=function(t,n){for(var u=d.F.U.rev15,o=15-n,g=0;g<t.length;g+=2){var m=t[g]<<n-t[g+1];t[g]=u[m]>>>o}},d.F._putsE=function(t,n,u){u<<=7&n;var o=n>>>3;t[o]|=u,t[o+1]|=u>>>8},d.F._putsF=function(t,n,u){u<<=7&n;var o=n>>>3;t[o]|=u,t[o+1]|=u>>>8,t[o+2]|=u>>>16},d.F._bitsE=function(t,n,u){return(t[n>>>3]|t[1+(n>>>3)]<<8)>>>(7&n)&(1<<u)-1},d.F._bitsF=function(t,n,u){return(t[n>>>3]|t[1+(n>>>3)]<<8|t[2+(n>>>3)]<<16)>>>(7&n)&(1<<u)-1},d.F._get17=function(t,n){return(t[n>>>3]|t[1+(n>>>3)]<<8|t[2+(n>>>3)]<<16)>>>(7&n)},d.F._get25=function(t,n){return(t[n>>>3]|t[1+(n>>>3)]<<8|t[2+(n>>>3)]<<16|t[3+(n>>>3)]<<24)>>>(7&n)},d.F.U=(I=Uint16Array,P=Uint32Array,{next_code:new I(16),bl_count:new I(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new I(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new P(32),flmap:new I(512),fltree:[],fdmap:new I(32),fdtree:[],lmap:new I(32768),ltree:[],ttree:[],dmap:new I(32768),dtree:[],imap:new I(512),itree:[],rev15:new I(32768),lhst:new P(286),dhst:new P(30),ihst:new P(19),lits:new P(15e3),strt:new I(65536),prev:new I(32768)}),(function(){for(var t=d.F.U,n=0;n<32768;n++){var u=n;u=(4278255360&(u=(4042322160&(u=(3435973836&(u=(2863311530&u)>>>1|(1431655765&u)<<1))>>>2|(858993459&u)<<2))>>>4|(252645135&u)<<4))>>>8|(16711935&u)<<8,t.rev15[n]=(u>>>16|u<<16)>>>17}function o(g,m,e){for(;m--!=0;)g.push(0,e)}for(n=0;n<32;n++)t.ldef[n]=t.of0[n]<<3|t.exb[n],t.ddef[n]=t.df0[n]<<4|t.dxb[n];o(t.fltree,144,8),o(t.fltree,112,9),o(t.fltree,24,7),o(t.fltree,8,8),d.F.makeCodes(t.fltree,9),d.F.codes2map(t.fltree,9,t.flmap),d.F.revCodes(t.fltree,9),o(t.fdtree,32,5),d.F.makeCodes(t.fdtree,5),d.F.codes2map(t.fdtree,5,t.fdmap),d.F.revCodes(t.fdtree,5),o(t.itree,19,0),o(t.ltree,286,0),o(t.dtree,30,0),o(t.ttree,320,0)})()})();var Dt=St({__proto__:null,default:Ve},[Ve]);const ye=(function(){var M={nextZero(e,i){for(;e[i]!=0;)i++;return i},readUshort:(e,i)=>e[i]<<8|e[i+1],writeUshort(e,i,r){e[i]=r>>8&255,e[i+1]=255&r},readUint:(e,i)=>16777216*e[i]+(e[i+1]<<16|e[i+2]<<8|e[i+3]),writeUint(e,i,r){e[i]=r>>24&255,e[i+1]=r>>16&255,e[i+2]=r>>8&255,e[i+3]=255&r},readASCII(e,i,r){let s="";for(let h=0;h<r;h++)s+=String.fromCharCode(e[i+h]);return s},writeASCII(e,i,r){for(let s=0;s<r.length;s++)e[i+s]=r.charCodeAt(s)},readBytes(e,i,r){const s=[];for(let h=0;h<r;h++)s.push(e[i+h]);return s},pad:e=>e.length<2?`0${e}`:e,readUTF8(e,i,r){let s,h="";for(let y=0;y<r;y++)h+=`%${M.pad(e[i+y].toString(16))}`;try{s=decodeURIComponent(h)}catch{return M.readASCII(e,i,r)}return s}};function I(e,i,r,s){const h=i*r,y=n(s),U=Math.ceil(i*y/8),w=new Uint8Array(4*h),L=new Uint32Array(w.buffer),{ctype:S}=s,{depth:F}=s,D=M.readUshort;if(S==6){const k=h<<2;if(F==8)for(var p=0;p<k;p+=4)w[p]=e[p],w[p+1]=e[p+1],w[p+2]=e[p+2],w[p+3]=e[p+3];if(F==16)for(p=0;p<k;p++)w[p]=e[p<<1]}else if(S==2){const k=s.tabs.tRNS;if(k==null){if(F==8)for(p=0;p<h;p++){var C=3*p;L[p]=255<<24|e[C+2]<<16|e[C+1]<<8|e[C]}if(F==16)for(p=0;p<h;p++)C=6*p,L[p]=255<<24|e[C+4]<<16|e[C+2]<<8|e[C]}else{var c=k[0];const O=k[1],Q=k[2];if(F==8)for(p=0;p<h;p++){var l=p<<2;C=3*p,L[p]=255<<24|e[C+2]<<16|e[C+1]<<8|e[C],e[C]==c&&e[C+1]==O&&e[C+2]==Q&&(w[l+3]=0)}if(F==16)for(p=0;p<h;p++)l=p<<2,C=6*p,L[p]=255<<24|e[C+4]<<16|e[C+2]<<8|e[C],D(e,C)==c&&D(e,C+2)==O&&D(e,C+4)==Q&&(w[l+3]=0)}}else if(S==3){const k=s.tabs.PLTE,O=s.tabs.tRNS,Q=O?O.length:0;if(F==1)for(var v=0;v<r;v++){var x=v*U,b=v*i;for(p=0;p<i;p++){l=b+p<<2;var A=3*(_=e[x+(p>>3)]>>7-((7&p)<<0)&1);w[l]=k[A],w[l+1]=k[A+1],w[l+2]=k[A+2],w[l+3]=_<Q?O[_]:255}}if(F==2)for(v=0;v<r;v++)for(x=v*U,b=v*i,p=0;p<i;p++)l=b+p<<2,A=3*(_=e[x+(p>>2)]>>6-((3&p)<<1)&3),w[l]=k[A],w[l+1]=k[A+1],w[l+2]=k[A+2],w[l+3]=_<Q?O[_]:255;if(F==4)for(v=0;v<r;v++)for(x=v*U,b=v*i,p=0;p<i;p++)l=b+p<<2,A=3*(_=e[x+(p>>1)]>>4-((1&p)<<2)&15),w[l]=k[A],w[l+1]=k[A+1],w[l+2]=k[A+2],w[l+3]=_<Q?O[_]:255;if(F==8)for(p=0;p<h;p++){var _;l=p<<2,A=3*(_=e[p]),w[l]=k[A],w[l+1]=k[A+1],w[l+2]=k[A+2],w[l+3]=_<Q?O[_]:255}}else if(S==4){if(F==8)for(p=0;p<h;p++){l=p<<2;var z=e[f=p<<1];w[l]=z,w[l+1]=z,w[l+2]=z,w[l+3]=e[f+1]}if(F==16)for(p=0;p<h;p++){var f;l=p<<2,z=e[f=p<<2],w[l]=z,w[l+1]=z,w[l+2]=z,w[l+3]=e[f+2]}}else if(S==0)for(c=s.tabs.tRNS?s.tabs.tRNS:-1,v=0;v<r;v++){const k=v*U,O=v*i;if(F==1)for(var a=0;a<i;a++){var R=(z=255*(e[k+(a>>>3)]>>>7-(7&a)&1))==255*c?0:255;L[O+a]=R<<24|z<<16|z<<8|z}else if(F==2)for(a=0;a<i;a++)R=(z=85*(e[k+(a>>>2)]>>>6-((3&a)<<1)&3))==85*c?0:255,L[O+a]=R<<24|z<<16|z<<8|z;else if(F==4)for(a=0;a<i;a++)R=(z=17*(e[k+(a>>>1)]>>>4-((1&a)<<2)&15))==17*c?0:255,L[O+a]=R<<24|z<<16|z<<8|z;else if(F==8)for(a=0;a<i;a++)R=(z=e[k+a])==c?0:255,L[O+a]=R<<24|z<<16|z<<8|z;else if(F==16)for(a=0;a<i;a++)z=e[k+(a<<1)],R=D(e,k+(a<<1))==c?0:255,L[O+a]=R<<24|z<<16|z<<8|z}return w}function P(e,i,r,s){const h=n(e),y=Math.ceil(r*h/8),U=new Uint8Array((y+1+e.interlace)*s);return i=e.tabs.CgBI?t(i,U):d(i,U),e.interlace==0?i=u(i,e,0,r,s):e.interlace==1&&(i=(function(L,S){const F=S.width,D=S.height,p=n(S),C=p>>3,c=Math.ceil(F*p/8),l=new Uint8Array(D*c);let v=0;const x=[0,0,4,0,2,0,1],b=[0,4,0,2,0,1,0],A=[8,8,8,4,4,2,2],_=[8,8,4,4,2,2,1];let z=0;for(;z<7;){const a=A[z],R=_[z];let k=0,O=0,Q=x[z];for(;Q<D;)Q+=a,O++;let H=b[z];for(;H<F;)H+=R,k++;const N=Math.ceil(k*p/8);u(L,S,v,k,O);let B=0,E=x[z];for(;E<D;){let $=b[z],ne=v+B*N<<3;for(;$<F;){var f;if(p==1&&(f=(f=L[ne>>3])>>7-(7&ne)&1,l[E*c+($>>3)]|=f<<7-((7&$)<<0)),p==2&&(f=(f=L[ne>>3])>>6-(7&ne)&3,l[E*c+($>>2)]|=f<<6-((3&$)<<1)),p==4&&(f=(f=L[ne>>3])>>4-(7&ne)&15,l[E*c+($>>1)]|=f<<4-((1&$)<<2)),p>=8){const J=E*c+$*C;for(let Y=0;Y<C;Y++)l[J+Y]=L[(ne>>3)+Y]}ne+=p,$+=R}B++,E+=a}k*O!=0&&(v+=O*(1+N)),z+=1}return l})(i,e)),i}function d(e,i){return t(new Uint8Array(e.buffer,2,e.length-6),i)}var t=(function(){const e={H:{}};return e.H.N=function(i,r){const s=Uint8Array;let h,y,U=0,w=0,L=0,S=0,F=0,D=0,p=0,C=0,c=0;if(i[0]==3&&i[1]==0)return r||new s(0);const l=e.H,v=l.b,x=l.e,b=l.R,A=l.n,_=l.A,z=l.Z,f=l.m,a=r==null;for(a&&(r=new s(i.length>>>2<<5));U==0;)if(U=v(i,c,1),w=v(i,c+1,2),c+=3,w!=0){if(a&&(r=e.H.W(r,C+(1<<17))),w==1&&(h=f.J,y=f.h,D=511,p=31),w==2){L=x(i,c,5)+257,S=x(i,c+5,5)+1,F=x(i,c+10,4)+4,c+=14;let k=1;for(var R=0;R<38;R+=2)f.Q[R]=0,f.Q[R+1]=0;for(R=0;R<F;R++){const H=x(i,c+3*R,3);f.Q[1+(f.X[R]<<1)]=H,H>k&&(k=H)}c+=3*F,A(f.Q,k),_(f.Q,k,f.u),h=f.w,y=f.d,c=b(f.u,(1<<k)-1,L+S,i,c,f.v);const O=l.V(f.v,0,L,f.C);D=(1<<O)-1;const Q=l.V(f.v,L,S,f.D);p=(1<<Q)-1,A(f.C,O),_(f.C,O,h),A(f.D,Q),_(f.D,Q,y)}for(;;){const k=h[z(i,c)&D];c+=15&k;const O=k>>>4;if(!(O>>>8))r[C++]=O;else{if(O==256)break;{let Q=C+O-254;if(O>264){const $=f.q[O-257];Q=C+($>>>3)+x(i,c,7&$),c+=7&$}const H=y[z(i,c)&p];c+=15&H;const N=H>>>4,B=f.c[N],E=(B>>>4)+v(i,c,15&B);for(c+=15&B;C<Q;)r[C]=r[C++-E],r[C]=r[C++-E],r[C]=r[C++-E],r[C]=r[C++-E];C=Q}}}}else{(7&c)!=0&&(c+=8-(7&c));const k=4+(c>>>3),O=i[k-4]|i[k-3]<<8;a&&(r=e.H.W(r,C+O)),r.set(new s(i.buffer,i.byteOffset+k,O),C),c=k+O<<3,C+=O}return r.length==C?r:r.slice(0,C)},e.H.W=function(i,r){const s=i.length;if(r<=s)return i;const h=new Uint8Array(s<<1);return h.set(i,0),h},e.H.R=function(i,r,s,h,y,U){const w=e.H.e,L=e.H.Z;let S=0;for(;S<s;){const F=i[L(h,y)&r];y+=15&F;const D=F>>>4;if(D<=15)U[S]=D,S++;else{let p=0,C=0;D==16?(C=3+w(h,y,2),y+=2,p=U[S-1]):D==17?(C=3+w(h,y,3),y+=3):D==18&&(C=11+w(h,y,7),y+=7);const c=S+C;for(;S<c;)U[S]=p,S++}}return y},e.H.V=function(i,r,s,h){let y=0,U=0;const w=h.length>>>1;for(;U<s;){const L=i[U+r];h[U<<1]=0,h[1+(U<<1)]=L,L>y&&(y=L),U++}for(;U<w;)h[U<<1]=0,h[1+(U<<1)]=0,U++;return y},e.H.n=function(i,r){const s=e.H.m,h=i.length;let y,U,w,L;const S=s.j;for(var F=0;F<=r;F++)S[F]=0;for(F=1;F<h;F+=2)S[i[F]]++;const D=s.K;for(y=0,S[0]=0,U=1;U<=r;U++)y=y+S[U-1]<<1,D[U]=y;for(w=0;w<h;w+=2)L=i[w+1],L!=0&&(i[w]=D[L],D[L]++)},e.H.A=function(i,r,s){const h=i.length,y=e.H.m.r;for(let U=0;U<h;U+=2)if(i[U+1]!=0){const w=U>>1,L=i[U+1],S=w<<4|L,F=r-L;let D=i[U]<<F;const p=D+(1<<F);for(;D!=p;)s[y[D]>>>15-r]=S,D++}},e.H.l=function(i,r){const s=e.H.m.r,h=15-r;for(let y=0;y<i.length;y+=2){const U=i[y]<<r-i[y+1];i[y]=s[U]>>>h}},e.H.M=function(i,r,s){s<<=7&r;const h=r>>>3;i[h]|=s,i[h+1]|=s>>>8},e.H.I=function(i,r,s){s<<=7&r;const h=r>>>3;i[h]|=s,i[h+1]|=s>>>8,i[h+2]|=s>>>16},e.H.e=function(i,r,s){return(i[r>>>3]|i[1+(r>>>3)]<<8)>>>(7&r)&(1<<s)-1},e.H.b=function(i,r,s){return(i[r>>>3]|i[1+(r>>>3)]<<8|i[2+(r>>>3)]<<16)>>>(7&r)&(1<<s)-1},e.H.Z=function(i,r){return(i[r>>>3]|i[1+(r>>>3)]<<8|i[2+(r>>>3)]<<16)>>>(7&r)},e.H.i=function(i,r){return(i[r>>>3]|i[1+(r>>>3)]<<8|i[2+(r>>>3)]<<16|i[3+(r>>>3)]<<24)>>>(7&r)},e.H.m=(function(){const i=Uint16Array,r=Uint32Array;return{K:new i(16),j:new i(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new i(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new r(32),J:new i(512),_:[],h:new i(32),$:[],w:new i(32768),C:[],v:[],d:new i(32768),D:[],u:new i(512),Q:[],r:new i(32768),s:new r(286),Y:new r(30),a:new r(19),t:new r(15e3),k:new i(65536),g:new i(32768)}})(),(function(){const i=e.H.m;for(var r=0;r<32768;r++){let h=r;h=(2863311530&h)>>>1|(1431655765&h)<<1,h=(3435973836&h)>>>2|(858993459&h)<<2,h=(4042322160&h)>>>4|(252645135&h)<<4,h=(4278255360&h)>>>8|(16711935&h)<<8,i.r[r]=(h>>>16|h<<16)>>>17}function s(h,y,U){for(;y--!=0;)h.push(0,U)}for(r=0;r<32;r++)i.q[r]=i.S[r]<<3|i.T[r],i.c[r]=i.p[r]<<4|i.z[r];s(i._,144,8),s(i._,112,9),s(i._,24,7),s(i._,8,8),e.H.n(i._,9),e.H.A(i._,9,i.J),e.H.l(i._,9),s(i.$,32,5),e.H.n(i.$,5),e.H.A(i.$,5,i.h),e.H.l(i.$,5),s(i.Q,19,0),s(i.C,286,0),s(i.D,30,0),s(i.v,320,0)})(),e.H.N})();function n(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth}function u(e,i,r,s,h){let y=n(i);const U=Math.ceil(s*y/8);let w,L;y=Math.ceil(y/8);let S=e[r],F=0;if(S>1&&(e[r]=[0,0,1][S-2]),S==3)for(F=y;F<U;F++)e[F+1]=e[F+1]+(e[F+1-y]>>>1)&255;for(let D=0;D<h;D++)if(w=r+D*U,L=w+D+1,S=e[L-1],F=0,S==0)for(;F<U;F++)e[w+F]=e[L+F];else if(S==1){for(;F<y;F++)e[w+F]=e[L+F];for(;F<U;F++)e[w+F]=e[L+F]+e[w+F-y]}else if(S==2)for(;F<U;F++)e[w+F]=e[L+F]+e[w+F-U];else if(S==3){for(;F<y;F++)e[w+F]=e[L+F]+(e[w+F-U]>>>1);for(;F<U;F++)e[w+F]=e[L+F]+(e[w+F-U]+e[w+F-y]>>>1)}else{for(;F<y;F++)e[w+F]=e[L+F]+o(0,e[w+F-U],0);for(;F<U;F++)e[w+F]=e[L+F]+o(e[w+F-y],e[w+F-U],e[w+F-y-U])}return e}function o(e,i,r){const s=e+i-r,h=s-e,y=s-i,U=s-r;return h*h<=y*y&&h*h<=U*U?e:y*y<=U*U?i:r}function g(e,i,r){r.width=M.readUint(e,i),i+=4,r.height=M.readUint(e,i),i+=4,r.depth=e[i],i++,r.ctype=e[i],i++,r.compress=e[i],i++,r.filter=e[i],i++,r.interlace=e[i],i++}function m(e,i,r,s,h,y,U,w,L){const S=Math.min(i,h),F=Math.min(r,y);let D=0,p=0;for(let z=0;z<F;z++)for(let f=0;f<S;f++)if(U>=0&&w>=0?(D=z*i+f<<2,p=(w+z)*h+U+f<<2):(D=(-w+z)*i-U+f<<2,p=z*h+f<<2),L==0)s[p]=e[D],s[p+1]=e[D+1],s[p+2]=e[D+2],s[p+3]=e[D+3];else if(L==1){var C=e[D+3]*.00392156862745098,c=e[D]*C,l=e[D+1]*C,v=e[D+2]*C,x=s[p+3]*(1/255),b=s[p]*x,A=s[p+1]*x,_=s[p+2]*x;const a=1-C,R=C+x*a,k=R==0?0:1/R;s[p+3]=255*R,s[p+0]=(c+b*a)*k,s[p+1]=(l+A*a)*k,s[p+2]=(v+_*a)*k}else if(L==2)C=e[D+3],c=e[D],l=e[D+1],v=e[D+2],x=s[p+3],b=s[p],A=s[p+1],_=s[p+2],C==x&&c==b&&l==A&&v==_?(s[p]=0,s[p+1]=0,s[p+2]=0,s[p+3]=0):(s[p]=c,s[p+1]=l,s[p+2]=v,s[p+3]=C);else if(L==3){if(C=e[D+3],c=e[D],l=e[D+1],v=e[D+2],x=s[p+3],b=s[p],A=s[p+1],_=s[p+2],C==x&&c==b&&l==A&&v==_)continue;if(C<220&&x>20)return!1}return!0}return{decode:function(i){const r=new Uint8Array(i);let s=8;const h=M,y=h.readUshort,U=h.readUint,w={tabs:{},frames:[]},L=new Uint8Array(r.length);let S,F=0,D=0;const p=[137,80,78,71,13,10,26,10];for(var C=0;C<8;C++)if(r[C]!=p[C])throw"The input is not a PNG file!";for(;s<r.length;){const z=h.readUint(r,s);s+=4;const f=h.readASCII(r,s,4);if(s+=4,f=="IHDR")g(r,s,w);else if(f=="iCCP"){for(var c=s;r[c]!=0;)c++;h.readASCII(r,s,c-s),r[c+1];const a=r.slice(c+2,s+z);let R=null;try{R=d(a)}catch{R=t(a)}w.tabs[f]=R}else if(f=="CgBI")w.tabs[f]=r.slice(s,s+4);else if(f=="IDAT"){for(C=0;C<z;C++)L[F+C]=r[s+C];F+=z}else if(f=="acTL")w.tabs[f]={num_frames:U(r,s),num_plays:U(r,s+4)},S=new Uint8Array(r.length);else if(f=="fcTL"){D!=0&&((_=w.frames[w.frames.length-1]).data=P(w,S.slice(0,D),_.rect.width,_.rect.height),D=0);const a={x:U(r,s+12),y:U(r,s+16),width:U(r,s+4),height:U(r,s+8)};let R=y(r,s+22);R=y(r,s+20)/(R==0?100:R);const k={rect:a,delay:Math.round(1e3*R),dispose:r[s+24],blend:r[s+25]};w.frames.push(k)}else if(f=="fdAT"){for(C=0;C<z-4;C++)S[D+C]=r[s+C+4];D+=z-4}else if(f=="pHYs")w.tabs[f]=[h.readUint(r,s),h.readUint(r,s+4),r[s+8]];else if(f=="cHRM")for(w.tabs[f]=[],C=0;C<8;C++)w.tabs[f].push(h.readUint(r,s+4*C));else if(f=="tEXt"||f=="zTXt"){w.tabs[f]==null&&(w.tabs[f]={});var l=h.nextZero(r,s),v=h.readASCII(r,s,l-s),x=s+z-l-1;if(f=="tEXt")A=h.readASCII(r,l+1,x);else{var b=d(r.slice(l+2,l+2+x));A=h.readUTF8(b,0,b.length)}w.tabs[f][v]=A}else if(f=="iTXt"){w.tabs[f]==null&&(w.tabs[f]={}),l=0,c=s,l=h.nextZero(r,c),v=h.readASCII(r,c,l-c);const a=r[c=l+1];var A;r[c+1],c+=2,l=h.nextZero(r,c),h.readASCII(r,c,l-c),c=l+1,l=h.nextZero(r,c),h.readUTF8(r,c,l-c),x=z-((c=l+1)-s),a==0?A=h.readUTF8(r,c,x):(b=d(r.slice(c,c+x)),A=h.readUTF8(b,0,b.length)),w.tabs[f][v]=A}else if(f=="PLTE")w.tabs[f]=h.readBytes(r,s,z);else if(f=="hIST"){const a=w.tabs.PLTE.length/3;for(w.tabs[f]=[],C=0;C<a;C++)w.tabs[f].push(y(r,s+2*C))}else if(f=="tRNS")w.ctype==3?w.tabs[f]=h.readBytes(r,s,z):w.ctype==0?w.tabs[f]=y(r,s):w.ctype==2&&(w.tabs[f]=[y(r,s),y(r,s+2),y(r,s+4)]);else if(f=="gAMA")w.tabs[f]=h.readUint(r,s)/1e5;else if(f=="sRGB")w.tabs[f]=r[s];else if(f=="bKGD")w.ctype==0||w.ctype==4?w.tabs[f]=[y(r,s)]:w.ctype==2||w.ctype==6?w.tabs[f]=[y(r,s),y(r,s+2),y(r,s+4)]:w.ctype==3&&(w.tabs[f]=r[s]);else if(f=="IEND")break;s+=z,h.readUint(r,s),s+=4}var _;return D!=0&&((_=w.frames[w.frames.length-1]).data=P(w,S.slice(0,D),_.rect.width,_.rect.height)),w.data=P(w,L,w.width,w.height),delete w.compress,delete w.interlace,delete w.filter,w},toRGBA8:function(i){const r=i.width,s=i.height;if(i.tabs.acTL==null)return[I(i.data,r,s,i).buffer];const h=[];i.frames[0].data==null&&(i.frames[0].data=i.data);const y=r*s*4,U=new Uint8Array(y),w=new Uint8Array(y),L=new Uint8Array(y);for(let F=0;F<i.frames.length;F++){const D=i.frames[F],p=D.rect.x,C=D.rect.y,c=D.rect.width,l=D.rect.height,v=I(D.data,c,l,i);if(F!=0)for(var S=0;S<y;S++)L[S]=U[S];if(D.blend==0?m(v,c,l,U,r,s,p,C,0):D.blend==1&&m(v,c,l,U,r,s,p,C,1),h.push(U.buffer.slice(0)),D.dispose!=0){if(D.dispose==1)m(w,c,l,U,r,s,p,C,0);else if(D.dispose==2)for(S=0;S<y;S++)U[S]=L[S]}}return h},_paeth:o,_copyTile:m,_bin:M}})();(function(){const{_copyTile:M}=ye,{_bin:I}=ye,P=ye._paeth;var d={table:(function(){const c=new Uint32Array(256);for(let l=0;l<256;l++){let v=l;for(let x=0;x<8;x++)1&v?v=3988292384^v>>>1:v>>>=1;c[l]=v}return c})(),update(c,l,v,x){for(let b=0;b<x;b++)c=d.table[255&(c^l[v+b])]^c>>>8;return c},crc:(c,l,v)=>4294967295^d.update(4294967295,c,l,v)};function t(c,l,v,x){l[v]+=c[0]*x>>4,l[v+1]+=c[1]*x>>4,l[v+2]+=c[2]*x>>4,l[v+3]+=c[3]*x>>4}function n(c){return Math.max(0,Math.min(255,c))}function u(c,l){const v=c[0]-l[0],x=c[1]-l[1],b=c[2]-l[2],A=c[3]-l[3];return v*v+x*x+b*b+A*A}function o(c,l,v,x,b,A,_){_==null&&(_=1);const z=x.length,f=[];for(var a=0;a<z;a++){const E=x[a];f.push([E>>>0&255,E>>>8&255,E>>>16&255,E>>>24&255])}for(a=0;a<z;a++){let E=4294967295;for(var R=0,k=0;k<z;k++){var O=u(f[a],f[k]);k!=a&&O<E&&(E=O,R=k)}}const Q=new Uint32Array(b.buffer),H=new Int16Array(l*v*4),N=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(a=0;a<N.length;a++)N[a]=255*((N[a]+.5)/16-.5);for(let E=0;E<v;E++)for(let $=0;$<l;$++){var B;a=4*(E*l+$),_!=2?B=[n(c[a]+H[a]),n(c[a+1]+H[a+1]),n(c[a+2]+H[a+2]),n(c[a+3]+H[a+3])]:(O=N[4*(3&E)+(3&$)],B=[n(c[a]+O),n(c[a+1]+O),n(c[a+2]+O),n(c[a+3]+O)]),R=0;let ne=16777215;for(k=0;k<z;k++){const te=u(B,f[k]);te<ne&&(ne=te,R=k)}const J=f[R],Y=[B[0]-J[0],B[1]-J[1],B[2]-J[2],B[3]-J[3]];_==1&&($!=l-1&&t(Y,H,a+4,7),E!=v-1&&($!=0&&t(Y,H,a+4*l-4,3),t(Y,H,a+4*l,5),$!=l-1&&t(Y,H,a+4*l+4,1))),A[a>>2]=R,Q[a>>2]=x[R]}}function g(c,l,v,x,b){b==null&&(b={});const{crc:A}=d,_=I.writeUint,z=I.writeUshort,f=I.writeASCII;let a=8;const R=c.frames.length>1;let k,O=!1,Q=33+(R?20:0);if(b.sRGB!=null&&(Q+=13),b.pHYs!=null&&(Q+=21),b.iCCP!=null&&(k=pako.deflate(b.iCCP),Q+=21+k.length+4),c.ctype==3){for(var H=c.plte.length,N=0;N<H;N++)c.plte[N]>>>24!=255&&(O=!0);Q+=8+3*H+4+(O?8+1*H+4:0)}for(var B=0;B<c.frames.length;B++)R&&(Q+=38),Q+=(J=c.frames[B]).cimg.length+12,B!=0&&(Q+=4);Q+=12;const E=new Uint8Array(Q),$=[137,80,78,71,13,10,26,10];for(N=0;N<8;N++)E[N]=$[N];if(_(E,a,13),a+=4,f(E,a,"IHDR"),a+=4,_(E,a,l),a+=4,_(E,a,v),a+=4,E[a]=c.depth,a++,E[a]=c.ctype,a++,E[a]=0,a++,E[a]=0,a++,E[a]=0,a++,_(E,a,A(E,a-17,17)),a+=4,b.sRGB!=null&&(_(E,a,1),a+=4,f(E,a,"sRGB"),a+=4,E[a]=b.sRGB,a++,_(E,a,A(E,a-5,5)),a+=4),b.iCCP!=null){const Y=13+k.length;_(E,a,Y),a+=4,f(E,a,"iCCP"),a+=4,f(E,a,"ICC profile"),a+=11,a+=2,E.set(k,a),a+=k.length,_(E,a,A(E,a-(Y+4),Y+4)),a+=4}if(b.pHYs!=null&&(_(E,a,9),a+=4,f(E,a,"pHYs"),a+=4,_(E,a,b.pHYs[0]),a+=4,_(E,a,b.pHYs[1]),a+=4,E[a]=b.pHYs[2],a++,_(E,a,A(E,a-13,13)),a+=4),R&&(_(E,a,8),a+=4,f(E,a,"acTL"),a+=4,_(E,a,c.frames.length),a+=4,_(E,a,b.loop!=null?b.loop:0),a+=4,_(E,a,A(E,a-12,12)),a+=4),c.ctype==3){for(_(E,a,3*(H=c.plte.length)),a+=4,f(E,a,"PLTE"),a+=4,N=0;N<H;N++){const Y=3*N,te=c.plte[N],ie=255&te,T=te>>>8&255,j=te>>>16&255;E[a+Y+0]=ie,E[a+Y+1]=T,E[a+Y+2]=j}if(a+=3*H,_(E,a,A(E,a-3*H-4,3*H+4)),a+=4,O){for(_(E,a,H),a+=4,f(E,a,"tRNS"),a+=4,N=0;N<H;N++)E[a+N]=c.plte[N]>>>24&255;a+=H,_(E,a,A(E,a-H-4,H+4)),a+=4}}let ne=0;for(B=0;B<c.frames.length;B++){var J=c.frames[B];R&&(_(E,a,26),a+=4,f(E,a,"fcTL"),a+=4,_(E,a,ne++),a+=4,_(E,a,J.rect.width),a+=4,_(E,a,J.rect.height),a+=4,_(E,a,J.rect.x),a+=4,_(E,a,J.rect.y),a+=4,z(E,a,x[B]),a+=2,z(E,a,1e3),a+=2,E[a]=J.dispose,a++,E[a]=J.blend,a++,_(E,a,A(E,a-30,30)),a+=4);const Y=J.cimg;_(E,a,(H=Y.length)+(B==0?0:4)),a+=4;const te=a;f(E,a,B==0?"IDAT":"fdAT"),a+=4,B!=0&&(_(E,a,ne++),a+=4),E.set(Y,a),a+=H,_(E,a,A(E,te,a-te)),a+=4}return _(E,a,0),a+=4,f(E,a,"IEND"),a+=4,_(E,a,A(E,a-4,4)),a+=4,E.buffer}function m(c,l,v){for(let x=0;x<c.frames.length;x++){const b=c.frames[x];b.rect.width;const A=b.rect.height,_=new Uint8Array(A*b.bpl+A);b.cimg=s(b.img,A,b.bpp,b.bpl,_,l,v)}}function e(c,l,v,x,b){const A=b[0],_=b[1],z=b[2],f=b[3],a=b[4],R=b[5];let k=6,O=8,Q=255;for(var H=0;H<c.length;H++){const Z=new Uint8Array(c[H]);for(var N=Z.length,B=0;B<N;B+=4)Q&=Z[B+3]}const E=Q!=255,$=(function(X,ee,fe,ue,ae,de){const V=[];for(var re=0;re<X.length;re++){const me=new Uint8Array(X[re]),xe=new Uint32Array(me.buffer);var _e;let be=0,ke=0,Ae=ee,Se=fe,Xe=ue?1:0;if(re!=0){const yt=de||ue||re==1||V[re-2].dispose!=0?1:2;let Ye=0,it=1e9;for(let Be=0;Be<yt;Be++){var Fe=new Uint8Array(X[re-1-Be]);const At=new Uint32Array(X[re-1-Be]);let Ie=ee,Ee=fe,Pe=-1,He=-1;for(let Te=0;Te<fe;Te++)for(let Re=0;Re<ee;Re++)xe[he=Te*ee+Re]!=At[he]&&(Re<Ie&&(Ie=Re),Re>Pe&&(Pe=Re),Te<Ee&&(Ee=Te),Te>He&&(He=Te));Pe==-1&&(Ie=Ee=Pe=He=0),ae&&((1&Ie)==1&&Ie--,(1&Ee)==1&&Ee--);const at=(Pe-Ie+1)*(He-Ee+1);at<it&&(it=at,Ye=Be,be=Ie,ke=Ee,Ae=Pe-Ie+1,Se=He-Ee+1)}Fe=new Uint8Array(X[re-1-Ye]),Ye==1&&(V[re-1].dispose=2),_e=new Uint8Array(Ae*Se*4),M(Fe,ee,fe,_e,Ae,Se,-be,-ke,0),Xe=M(me,ee,fe,_e,Ae,Se,-be,-ke,3)?1:0,Xe==1?r(me,ee,fe,_e,{x:be,y:ke,width:Ae,height:Se}):M(me,ee,fe,_e,Ae,Se,-be,-ke,0)}else _e=me.slice(0);V.push({rect:{x:be,y:ke,width:Ae,height:Se},img:_e,blend:Xe,dispose:0})}if(ue)for(re=0;re<V.length;re++){if((Me=V[re]).blend==1)continue;const me=Me.rect,xe=V[re-1].rect,be=Math.min(me.x,xe.x),ke=Math.min(me.y,xe.y),Ae={x:be,y:ke,width:Math.max(me.x+me.width,xe.x+xe.width)-be,height:Math.max(me.y+me.height,xe.y+xe.height)-ke};V[re-1].dispose=1,re-1!=0&&i(X,ee,fe,V,re-1,Ae,ae),i(X,ee,fe,V,re,Ae,ae)}let We=0;if(X.length!=1)for(var he=0;he<V.length;he++){var Me;We+=(Me=V[he]).rect.width*Me.rect.height}return V})(c,l,v,A,_,z),ne={},J=[],Y=[];if(x!=0){const Z=[];for(B=0;B<$.length;B++)Z.push($[B].img.buffer);const X=(function(ae){let de=0;for(var V=0;V<ae.length;V++)de+=ae[V].byteLength;const re=new Uint8Array(de);let _e=0;for(V=0;V<ae.length;V++){const Fe=new Uint8Array(ae[V]),We=Fe.length;for(let he=0;he<We;he+=4){let Me=Fe[he],me=Fe[he+1],xe=Fe[he+2];const be=Fe[he+3];be==0&&(Me=me=xe=0),re[_e+he]=Me,re[_e+he+1]=me,re[_e+he+2]=xe,re[_e+he+3]=be}_e+=We}return re.buffer})(Z),ee=y(X,x);for(B=0;B<ee.plte.length;B++)J.push(ee.plte[B].est.rgba);let fe=0;for(B=0;B<$.length;B++){const ue=(ie=$[B]).img.length;var te=new Uint8Array(ee.inds.buffer,fe>>2,ue>>2);Y.push(te);const ae=new Uint8Array(ee.abuf,fe,ue);R&&o(ie.img,ie.rect.width,ie.rect.height,J,ae,te),ie.img.set(ae),fe+=ue}}else for(H=0;H<$.length;H++){var ie=$[H];const Z=new Uint32Array(ie.img.buffer);var T=ie.rect.width;for(N=Z.length,te=new Uint8Array(N),Y.push(te),B=0;B<N;B++){const X=Z[B];if(B!=0&&X==Z[B-1])te[B]=te[B-1];else if(B>T&&X==Z[B-T])te[B]=te[B-T];else{let ee=ne[X];if(ee==null&&(ne[X]=ee=J.length,J.push(X),J.length>=300))break;te[B]=ee}}}const j=J.length;for(j<=256&&a==0&&(O=j<=2?1:j<=4?2:j<=16?4:8,O=Math.max(O,f)),H=0;H<$.length;H++){(ie=$[H]).rect.x,ie.rect.y,T=ie.rect.width;const Z=ie.rect.height;let X=ie.img;new Uint32Array(X.buffer);let ee=4*T,fe=4;if(j<=256&&a==0){ee=Math.ceil(O*T/8);var K=new Uint8Array(ee*Z);const ue=Y[H];for(let ae=0;ae<Z;ae++){B=ae*ee;const de=ae*T;if(O==8)for(var q=0;q<T;q++)K[B+q]=ue[de+q];else if(O==4)for(q=0;q<T;q++)K[B+(q>>1)]|=ue[de+q]<<4-4*(1&q);else if(O==2)for(q=0;q<T;q++)K[B+(q>>2)]|=ue[de+q]<<6-2*(3&q);else if(O==1)for(q=0;q<T;q++)K[B+(q>>3)]|=ue[de+q]<<7-1*(7&q)}X=K,k=3,fe=1}else if(E==0&&$.length==1){K=new Uint8Array(T*Z*3);const ue=T*Z;for(B=0;B<ue;B++){const ae=3*B,de=4*B;K[ae]=X[de],K[ae+1]=X[de+1],K[ae+2]=X[de+2]}X=K,k=2,fe=3,ee=3*T}ie.img=X,ie.bpl=ee,ie.bpp=fe}return{ctype:k,depth:O,plte:J,frames:$}}function i(c,l,v,x,b,A,_){const z=Uint8Array,f=Uint32Array,a=new z(c[b-1]),R=new f(c[b-1]),k=b+1<c.length?new z(c[b+1]):null,O=new z(c[b]),Q=new f(O.buffer);let H=l,N=v,B=-1,E=-1;for(let ne=0;ne<A.height;ne++)for(let J=0;J<A.width;J++){const Y=A.x+J,te=A.y+ne,ie=te*l+Y,T=Q[ie];T==0||x[b-1].dispose==0&&R[ie]==T&&(k==null||k[4*ie+3]!=0)||(Y<H&&(H=Y),Y>B&&(B=Y),te<N&&(N=te),te>E&&(E=te))}B==-1&&(H=N=B=E=0),_&&((1&H)==1&&H--,(1&N)==1&&N--),A={x:H,y:N,width:B-H+1,height:E-N+1};const $=x[b];$.rect=A,$.blend=1,$.img=new Uint8Array(A.width*A.height*4),x[b-1].dispose==0?(M(a,l,v,$.img,A.width,A.height,-A.x,-A.y,0),r(O,l,v,$.img,A)):M(O,l,v,$.img,A.width,A.height,-A.x,-A.y,0)}function r(c,l,v,x,b){M(c,l,v,x,b.width,b.height,-b.x,-b.y,2)}function s(c,l,v,x,b,A,_){const z=[];let f,a=[0,1,2,3,4];A!=-1?a=[A]:(l*x>5e5||v==1)&&(a=[0]),_&&(f={level:0});const R=Dt;for(var k=0;k<a.length;k++){for(let H=0;H<l;H++)h(b,c,H,x,v,a[k]);z.push(R.deflate(b,f))}let O,Q=1e9;for(k=0;k<z.length;k++)z[k].length<Q&&(O=k,Q=z[k].length);return z[O]}function h(c,l,v,x,b,A){const _=v*x;let z=_+v;if(c[z]=A,z++,A==0)if(x<500)for(var f=0;f<x;f++)c[z+f]=l[_+f];else c.set(new Uint8Array(l.buffer,_,x),z);else if(A==1){for(f=0;f<b;f++)c[z+f]=l[_+f];for(f=b;f<x;f++)c[z+f]=l[_+f]-l[_+f-b]+256&255}else if(v==0){for(f=0;f<b;f++)c[z+f]=l[_+f];if(A==2)for(f=b;f<x;f++)c[z+f]=l[_+f];if(A==3)for(f=b;f<x;f++)c[z+f]=l[_+f]-(l[_+f-b]>>1)+256&255;if(A==4)for(f=b;f<x;f++)c[z+f]=l[_+f]-P(l[_+f-b],0,0)+256&255}else{if(A==2)for(f=0;f<x;f++)c[z+f]=l[_+f]+256-l[_+f-x]&255;if(A==3){for(f=0;f<b;f++)c[z+f]=l[_+f]+256-(l[_+f-x]>>1)&255;for(f=b;f<x;f++)c[z+f]=l[_+f]+256-(l[_+f-x]+l[_+f-b]>>1)&255}if(A==4){for(f=0;f<b;f++)c[z+f]=l[_+f]+256-P(0,l[_+f-x],0)&255;for(f=b;f<x;f++)c[z+f]=l[_+f]+256-P(l[_+f-b],l[_+f-x],l[_+f-b-x])&255}}}function y(c,l){const v=new Uint8Array(c),x=v.slice(0),b=new Uint32Array(x.buffer),A=U(x,l),_=A[0],z=A[1],f=v.length,a=new Uint8Array(f>>2);let R;if(v.length<2e7)for(var k=0;k<f;k+=4)R=w(_,O=v[k]*(1/255),Q=v[k+1]*(1/255),H=v[k+2]*(1/255),N=v[k+3]*(1/255)),a[k>>2]=R.ind,b[k>>2]=R.est.rgba;else for(k=0;k<f;k+=4){var O=v[k]*.00392156862745098,Q=v[k+1]*(1/255),H=v[k+2]*(1/255),N=v[k+3]*(1/255);for(R=_;R.left;)R=L(R.est,O,Q,H,N)<=0?R.left:R.right;a[k>>2]=R.ind,b[k>>2]=R.est.rgba}return{abuf:x.buffer,inds:a,plte:z}}function U(c,l,v){v==null&&(v=1e-4);const x=new Uint32Array(c.buffer),b={i0:0,i1:c.length,bst:null,est:null,tdst:0,left:null,right:null};b.bst=D(c,b.i0,b.i1),b.est=p(b.bst);const A=[b];for(;A.length<l;){let z=0,f=0;for(var _=0;_<A.length;_++)A[_].est.L>z&&(z=A[_].est.L,f=_);if(z<v)break;const a=A[f],R=S(c,x,a.i0,a.i1,a.est.e,a.est.eMq255);if(a.i0>=R||a.i1<=R){a.est.L=0;continue}const k={i0:a.i0,i1:R,bst:null,est:null,tdst:0,left:null,right:null};k.bst=D(c,k.i0,k.i1),k.est=p(k.bst);const O={i0:R,i1:a.i1,bst:null,est:null,tdst:0,left:null,right:null};for(O.bst={R:[],m:[],N:a.bst.N-k.bst.N},_=0;_<16;_++)O.bst.R[_]=a.bst.R[_]-k.bst.R[_];for(_=0;_<4;_++)O.bst.m[_]=a.bst.m[_]-k.bst.m[_];O.est=p(O.bst),a.left=k,a.right=O,A[f]=k,A.push(O)}for(A.sort(((z,f)=>f.bst.N-z.bst.N)),_=0;_<A.length;_++)A[_].ind=_;return[b,A]}function w(c,l,v,x,b){if(c.left==null)return c.tdst=(function(k,O,Q,H,N){const B=O-k[0],E=Q-k[1],$=H-k[2],ne=N-k[3];return B*B+E*E+$*$+ne*ne})(c.est.q,l,v,x,b),c;const A=L(c.est,l,v,x,b);let _=c.left,z=c.right;A>0&&(_=c.right,z=c.left);const f=w(_,l,v,x,b);if(f.tdst<=A*A)return f;const a=w(z,l,v,x,b);return a.tdst<f.tdst?a:f}function L(c,l,v,x,b){const{e:A}=c;return A[0]*l+A[1]*v+A[2]*x+A[3]*b-c.eMq}function S(c,l,v,x,b,A){for(x-=4;v<x;){for(;F(c,v,b)<=A;)v+=4;for(;F(c,x,b)>A;)x-=4;if(v>=x)break;const _=l[v>>2];l[v>>2]=l[x>>2],l[x>>2]=_,v+=4,x-=4}for(;F(c,v,b)>A;)v-=4;return v+4}function F(c,l,v){return c[l]*v[0]+c[l+1]*v[1]+c[l+2]*v[2]+c[l+3]*v[3]}function D(c,l,v){const x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],b=[0,0,0,0],A=v-l>>2;for(let _=l;_<v;_+=4){const z=c[_]*.00392156862745098,f=c[_+1]*(1/255),a=c[_+2]*(1/255),R=c[_+3]*(1/255);b[0]+=z,b[1]+=f,b[2]+=a,b[3]+=R,x[0]+=z*z,x[1]+=z*f,x[2]+=z*a,x[3]+=z*R,x[5]+=f*f,x[6]+=f*a,x[7]+=f*R,x[10]+=a*a,x[11]+=a*R,x[15]+=R*R}return x[4]=x[1],x[8]=x[2],x[9]=x[6],x[12]=x[3],x[13]=x[7],x[14]=x[11],{R:x,m:b,N:A}}function p(c){const{R:l}=c,{m:v}=c,{N:x}=c,b=v[0],A=v[1],_=v[2],z=v[3],f=x==0?0:1/x,a=[l[0]-b*b*f,l[1]-b*A*f,l[2]-b*_*f,l[3]-b*z*f,l[4]-A*b*f,l[5]-A*A*f,l[6]-A*_*f,l[7]-A*z*f,l[8]-_*b*f,l[9]-_*A*f,l[10]-_*_*f,l[11]-_*z*f,l[12]-z*b*f,l[13]-z*A*f,l[14]-z*_*f,l[15]-z*z*f],R=a,k=C;let O=[Math.random(),Math.random(),Math.random(),Math.random()],Q=0,H=0;if(x!=0)for(let B=0;B<16&&(O=k.multVec(R,O),H=Math.sqrt(k.dot(O,O)),O=k.sml(1/H,O),!(B!=0&&Math.abs(H-Q)<1e-9));B++)Q=H;const N=[b*f,A*f,_*f,z*f];return{Cov:a,q:N,e:O,L:Q,eMq255:k.dot(k.sml(255,N),O),eMq:k.dot(O,N),rgba:(Math.round(255*N[3])<<24|Math.round(255*N[2])<<16|Math.round(255*N[1])<<8|Math.round(255*N[0])<<0)>>>0}}var C={multVec:(c,l)=>[c[0]*l[0]+c[1]*l[1]+c[2]*l[2]+c[3]*l[3],c[4]*l[0]+c[5]*l[1]+c[6]*l[2]+c[7]*l[3],c[8]*l[0]+c[9]*l[1]+c[10]*l[2]+c[11]*l[3],c[12]*l[0]+c[13]*l[1]+c[14]*l[2]+c[15]*l[3]],dot:(c,l)=>c[0]*l[0]+c[1]*l[1]+c[2]*l[2]+c[3]*l[3],sml:(c,l)=>[c*l[0],c*l[1],c*l[2],c*l[3]]};ye.encode=function(l,v,x,b,A,_,z){b==null&&(b=0),z==null&&(z=!1);const f=e(l,v,x,b,[!1,!1,!1,0,z,!1]);return m(f,-1),g(f,v,x,A,_)},ye.encodeLL=function(l,v,x,b,A,_,z,f){const a={ctype:0+(b==1?0:2)+(A==0?0:4),depth:_,frames:[]},R=(b+A)*_,k=R*v;for(let O=0;O<l.length;O++)a.frames.push({rect:{x:0,y:0,width:v,height:x},img:new Uint8Array(l[O]),blend:0,dispose:1,bpp:Math.ceil(R/8),bpl:Math.ceil(k/8)});return m(a,0,!0),g(a,v,x,z,f)},ye.encode.compress=e,ye.encode.dither=o,ye.quantize=y,ye.quantize.getKDtree=U,ye.quantize.getNearest=w})();const dt={toArrayBuffer(M,I){const P=M.width,d=M.height,t=P<<2,n=M.getContext("2d").getImageData(0,0,P,d),u=new Uint32Array(n.data.buffer),o=(32*P+31)/32<<2,g=o*d,m=122+g,e=new ArrayBuffer(m),i=new DataView(e),r=1<<20;let s,h,y,U,w=r,L=0,S=0,F=0;function D(c){i.setUint16(S,c,!0),S+=2}function p(c){i.setUint32(S,c,!0),S+=4}function C(c){S+=c}D(19778),p(m),C(4),p(122),p(108),p(P),p(-d>>>0),D(1),D(32),p(3),p(g),p(2835),p(2835),C(8),p(16711680),p(65280),p(255),p(4278190080),p(1466527264),(function c(){for(;L<d&&w>0;){for(U=122+L*o,s=0;s<t;)w--,h=u[F++],y=h>>>24,i.setUint32(U+s,h<<8|y),s+=4;L++}F<u.length?(w=r,setTimeout(c,dt._dly)):I(e)})()},toBlob(M,I){this.toArrayBuffer(M,(P=>{I(new Blob([P],{type:"image/bmp"}))}))},_dly:9};var ve={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Ot={[ve.CHROME]:16384,[ve.FIREFOX]:11180,[ve.DESKTOP_SAFARI]:16384,[ve.IE]:8192,[ve.IOS]:4096,[ve.ETC]:8192};const nt=typeof window<"u",ht=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Ge=nt&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Pt=(nt||ht)&&(Ge&&Ge.getOriginalSymbol(window,"File")||typeof File<"u"&&File),pt=(nt||ht)&&(Ge&&Ge.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function rt(M,I,P=Date.now()){return new Promise((d=>{const t=M.split(","),n=t[0].match(/:(.*?);/)[1],u=globalThis.atob(t[1]);let o=u.length;const g=new Uint8Array(o);for(;o--;)g[o]=u.charCodeAt(o);const m=new Blob([g],{type:n});m.name=I,m.lastModified=P,d(m)}))}function mt(M){return new Promise(((I,P)=>{const d=new pt;d.onload=()=>I(d.result),d.onerror=t=>P(t),d.readAsDataURL(M)}))}function gt(M){return new Promise(((I,P)=>{const d=new Image;d.onload=()=>I(d),d.onerror=t=>P(t),d.src=M}))}function Oe(){if(Oe.cachedResult!==void 0)return Oe.cachedResult;let M=ve.ETC;const{userAgent:I}=navigator;return/Chrom(e|ium)/i.test(I)?M=ve.CHROME:/iP(ad|od|hone)/i.test(I)&&/WebKit/i.test(I)?M=ve.IOS:/Safari/i.test(I)?M=ve.DESKTOP_SAFARI:/Firefox/i.test(I)?M=ve.FIREFOX:(/MSIE/i.test(I)||document.documentMode)&&(M=ve.IE),Oe.cachedResult=M,Oe.cachedResult}function vt(M,I){const P=Oe(),d=Ot[P];let t=M,n=I,u=t*n;const o=t>n?n/t:t/n;for(;u>d*d;){const g=(d+t)/2,m=(d+n)/2;g<m?(n=m,t=m*o):(n=g*o,t=g),u=t*n}return{width:t,height:n}}function Ze(M,I){let P,d;try{if(P=new OffscreenCanvas(M,I),d=P.getContext("2d"),d===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{P=document.createElement("canvas"),d=P.getContext("2d")}return P.width=M,P.height=I,[P,d]}function _t(M,I){const{width:P,height:d}=vt(M.width,M.height),[t,n]=Ze(P,d);return I&&/jpe?g/.test(I)&&(n.fillStyle="white",n.fillRect(0,0,t.width,t.height)),n.drawImage(M,0,0,t.width,t.height),t}function $e(){return $e.cachedResult!==void 0||($e.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),$e.cachedResult}function qe(M,I={}){return new Promise((function(P,d){let t,n;var u=function(){try{return n=_t(t,I.fileType||M.type),P([t,n])}catch(g){return d(g)}},o=function(g){try{var m=function(e){try{throw e}catch(i){return d(i)}};try{let e;return mt(M).then((function(i){try{return e=i,gt(e).then((function(r){try{return t=r,(function(){try{return u()}catch(s){return d(s)}})()}catch(s){return m(s)}}),m)}catch(r){return m(r)}}),m)}catch(e){m(e)}}catch(e){return d(e)}};try{if($e()||[ve.DESKTOP_SAFARI,ve.MOBILE_SAFARI].includes(Oe()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(M).then((function(g){try{return t=g,u()}catch{return o()}}),o)}catch{o()}}))}function Ke(M,I,P,d,t=1){return new Promise((function(n,u){let o;if(I==="image/png"){let m,e,i;return m=M.getContext("2d"),{data:e}=m.getImageData(0,0,M.width,M.height),i=ye.encode([e.buffer],M.width,M.height,4096*t),o=new Blob([i],{type:I}),o.name=P,o.lastModified=d,g.call(this)}{let m=function(){return g.call(this)};if(I==="image/bmp")return new Promise((e=>dt.toBlob(M,e))).then((function(e){try{return o=e,o.name=P,o.lastModified=d,m.call(this)}catch(i){return u(i)}}).bind(this),u);{let e=function(){return m.call(this)};if(typeof OffscreenCanvas=="function"&&M instanceof OffscreenCanvas)return M.convertToBlob({type:I,quality:t}).then((function(i){try{return o=i,o.name=P,o.lastModified=d,e.call(this)}catch(r){return u(r)}}).bind(this),u);{let i;return i=M.toDataURL(I,t),rt(i,P,d).then((function(r){try{return o=r,e.call(this)}catch(s){return u(s)}}).bind(this),u)}}}function g(){return n(o)}}))}function ze(M){M.width=0,M.height=0}function Le(){return new Promise((function(M,I){let P,d,t,n;return Le.cachedResult!==void 0?M(Le.cachedResult):rt("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(u){try{return P=u,qe(P).then((function(o){try{return d=o[1],Ke(d,P.type,P.name,P.lastModified).then((function(g){try{return t=g,ze(d),qe(t).then((function(m){try{return n=m[0],Le.cachedResult=n.width===1&&n.height===2,M(Le.cachedResult)}catch(e){return I(e)}}),I)}catch(m){return I(m)}}),I)}catch(g){return I(g)}}),I)}catch(o){return I(o)}}),I)}))}function wt(M){return new Promise(((I,P)=>{const d=new pt;d.onload=t=>{const n=new DataView(t.target.result);if(n.getUint16(0,!1)!=65496)return I(-2);const u=n.byteLength;let o=2;for(;o<u;){if(n.getUint16(o+2,!1)<=8)return I(-1);const g=n.getUint16(o,!1);if(o+=2,g==65505){if(n.getUint32(o+=2,!1)!=1165519206)return I(-1);const m=n.getUint16(o+=6,!1)==18761;o+=n.getUint32(o+4,m);const e=n.getUint16(o,m);o+=2;for(let i=0;i<e;i++)if(n.getUint16(o+12*i,m)==274)return I(n.getUint16(o+12*i+8,m))}else{if((65280&g)!=65280)break;o+=n.getUint16(o,!1)}}return I(-1)},d.onerror=t=>P(t),d.readAsArrayBuffer(M)}))}function bt(M,I){const{width:P}=M,{height:d}=M,{maxWidthOrHeight:t}=I;let n,u=M;return isFinite(t)&&(P>t||d>t)&&([u,n]=Ze(P,d),P>d?(u.width=t,u.height=d/P*t):(u.width=P/d*t,u.height=t),n.drawImage(M,0,0,u.width,u.height),ze(M)),u}function xt(M,I){const{width:P}=M,{height:d}=M,[t,n]=Ze(P,d);switch(I>4&&I<9?(t.width=d,t.height=P):(t.width=P,t.height=d),I){case 2:n.transform(-1,0,0,1,P,0);break;case 3:n.transform(-1,0,0,-1,P,d);break;case 4:n.transform(1,0,0,-1,0,d);break;case 5:n.transform(0,1,1,0,0,0);break;case 6:n.transform(0,1,-1,0,d,0);break;case 7:n.transform(0,-1,-1,0,d,P);break;case 8:n.transform(0,-1,1,0,0,P)}return n.drawImage(M,0,0,P,d),ze(M),t}function ft(M,I,P=0){return new Promise((function(d,t){let n,u,o,g,m,e,i,r,s,h,y,U,w,L,S,F,D,p,C,c;function l(x=5){if(I.signal&&I.signal.aborted)throw I.signal.reason;n+=x,I.onProgress(Math.min(n,100))}function v(x){if(I.signal&&I.signal.aborted)throw I.signal.reason;n=Math.min(Math.max(x,n),100),I.onProgress(n)}return n=P,u=I.maxIteration||10,o=1024*I.maxSizeMB*1024,l(),qe(M,I).then((function(x){try{return[,g]=x,l(),m=bt(g,I),l(),new Promise((function(b,A){var _;if(!(_=I.exifOrientation))return wt(M).then((function(f){try{return _=f,z.call(this)}catch(a){return A(a)}}).bind(this),A);function z(){return b(_)}return z.call(this)})).then((function(b){try{return e=b,l(),Le().then((function(A){try{return i=A?m:xt(m,e),l(),r=I.initialQuality||1,s=I.fileType||M.type,Ke(i,s,M.name,M.lastModified,r).then((function(_){try{{let f=function(){if(u--&&(S>o||S>w)){let R,k;return R=c?.95*C.width:C.width,k=c?.95*C.height:C.height,[D,p]=Ze(R,k),p.drawImage(C,0,0,R,k),r*=s==="image/png"?.85:.95,Ke(D,s,M.name,M.lastModified,r).then((function(O){try{return F=O,ze(C),C=D,S=F.size,v(Math.min(99,Math.floor((L-S)/(L-o)*100))),f}catch(Q){return t(Q)}}),t)}return[1]},a=function(){return ze(C),ze(D),ze(m),ze(i),ze(g),v(100),d(F)};if(h=_,l(),y=h.size>o,U=h.size>M.size,!y&&!U)return v(100),d(h);var z;return w=M.size,L=h.size,S=L,C=i,c=!I.alwaysKeepResolution&&y,(z=(function(R){for(;R;){if(R.then)return void R.then(z,t);try{if(R.pop){if(R.length)return R.pop()?a.call(this):R;R=f}else R=R.call(this)}catch(k){return t(k)}}}).bind(this))(f)}}catch(f){return t(f)}}).bind(this),t)}catch(_){return t(_)}}).bind(this),t)}catch(A){return t(A)}}).bind(this),t)}catch(b){return t(b)}}).bind(this),t)}))}const Lt=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let et;function Bt(M,I){return new Promise(((P,d)=>{et||(et=(function(u){const o=[];return o.push(u),URL.createObjectURL(new Blob(o))})(Lt));const t=new Worker(et);t.addEventListener("message",(function(u){if(I.signal&&I.signal.aborted)t.terminate();else if(u.data.progress===void 0){if(u.data.error)return d(new Error(u.data.error)),void t.terminate();P(u.data.file),t.terminate()}else I.onProgress(u.data.progress)})),t.addEventListener("error",d),I.signal&&I.signal.addEventListener("abort",(()=>{d(I.signal.reason),t.terminate()})),t.postMessage({file:M,imageCompressionLibUrl:I.libURL,options:{...I,onProgress:void 0,signal:void 0}})}))}function pe(M,I){return new Promise((function(P,d){let t,n,u,o,g,m;if(t={...I},u=0,{onProgress:o}=t,t.maxSizeMB=t.maxSizeMB||Number.POSITIVE_INFINITY,g=typeof t.useWebWorker!="boolean"||t.useWebWorker,delete t.useWebWorker,t.onProgress=s=>{u=s,typeof o=="function"&&o(u)},!(M instanceof Blob||M instanceof Pt))return d(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(M.type))return d(new Error("The file given is not an image"));if(m=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!g||typeof Worker!="function"||m)return ft(M,t).then((function(s){try{return n=s,r.call(this)}catch(h){return d(h)}}).bind(this),d);var e=(function(){try{return r.call(this)}catch(s){return d(s)}}).bind(this),i=function(s){try{return ft(M,t).then((function(h){try{return n=h,e()}catch(y){return d(y)}}),d)}catch(h){return d(h)}};try{return t.libURL=t.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Bt(M,t).then((function(s){try{return n=s,e()}catch{return i()}}),i)}catch{i()}function r(){try{n.name=M.name,n.lastModified=M.lastModified}catch{}try{t.preserveExif&&M.type==="image/jpeg"&&(!t.fileType||t.fileType&&t.fileType===M.type)&&(n=ut(M,n))}catch{}return P(n)}}))}pe.getDataUrlFromFile=mt,pe.getFilefromDataUrl=rt,pe.loadImage=gt,pe.drawImageInCanvas=_t,pe.drawFileInCanvas=qe,pe.canvasToFile=Ke,pe.getExifOrientation=wt,pe.handleMaxWidthOrHeight=bt,pe.followExifOrientation=xt,pe.cleanupCanvasMemory=ze,pe.isAutoOrientationInBrowser=Le,pe.approximateBelowMaximumCanvasSizeOfBrowser=vt,pe.copyExifWithoutOrientation=ut,pe.getBrowserName=Oe,pe.version="2.0.2";const Ht=()=>{const M=ce(!1),I=ce(0),P=ce(null),d=async(m,e={})=>{M.value=!0,P.value=null,I.value=0;try{const r={...{maxSizeMB:1,maxWidthOrHeight:1920,quality:.8,convertToWebP:!0,useWebWorker:!0,onProgress:h=>{I.value=Math.round(h*100),I.value>100&&(I.value=100)}},...e},s=await pe(m,r);return r.convertToWebP&&!m.type.includes("webp")?await t(s):s}catch(i){throw console.error("Image optimization error:",i),P.value=i.message||"Image optimization failed",i}finally{M.value=!1,I.value=0}},t=m=>new Promise((e,i)=>{const r=document.createElement("canvas"),s=r.getContext("2d"),h=new Image;h.onload=()=>{r.width=h.width,r.height=h.height,s.drawImage(h,0,0),r.toBlob(U=>{if(U){const w=new File([U],m.name.replace(/\.[^/.]+$/,".webp"),{type:"image/webp",lastModified:Date.now()});e(w)}else i(new Error("Failed to convert image to WebP"))},"image/webp",.9)},h.onerror=()=>{i(new Error("Failed to load image for WebP conversion"))};const y=new FileReader;y.onload=U=>{h.src=U.target.result},y.onerror=()=>{i(new Error("Failed to read image file"))},y.readAsDataURL(m)}),n=m=>{if(!m)return"0 B";const e=["B","KB","MB","GB"],i=Math.floor(Math.log(m)/Math.log(1024));return Math.round(m/Math.pow(1024,i)*10)/10+" "+e[i]},u=(m,e)=>{const i=m-e,r=Math.round(i/m*100);return{originalSize:n(m),compressedSize:n(e),savedBytes:n(i),savedPercentage:r,compressionRatio:Math.round(e/m*100)}},o=()=>{const m=document.createElement("canvas");return m.width=1,m.height=1,m.toDataURL("image/webp").indexOf("data:image/webp")===0},g=tt(()=>M.value?{type:"optimizing",message:`Optimizing... ${I.value}%`,progress:I.value}:P.value?{type:"error",message:P.value,progress:0}:{type:"idle",message:"Ready to optimize",progress:0});return{isOptimizing:M,optimizationProgress:I,optimizationError:P,status:g,optimizeImage:d,convertToWebP:t,formatFileSize:n,getCompressionStats:u,supportsWebP:o}},Wt={class:"flex-1 flex flex-col lg:flex-row h-full max-h-full overflow-hidden"},jt={key:0,class:"flex-1 flex items-center justify-center"},Nt={class:"text-center"},Qt={class:"w-12 h-12 rounded-full bg-zinc-100 dark:bg-zinc-900 flex items-center justify-center mx-auto mb-3"},$t={class:"text-sm text-zinc-500 dark:text-zinc-400"},Vt={class:"flex-1 flex flex-col border-b lg:border-b-0 lg:border-r border-zinc-200 dark:border-zinc-800 max-h-full overflow-hidden min-h-0"},Gt={key:0,class:"px-4 py-3 flex items-center justify-between border-b border-zinc-200 dark:border-zinc-800"},qt={class:"flex items-center gap-1 justify-between w-full"},Kt={class:"flex items-center gap-1 mr-2"},Zt=["onClick"],Xt={key:0,class:"absolute inset-0 bg-zinc-900/80 dark:bg-zinc-950/80 flex items-center justify-center z-10 rounded-lg"},Yt={class:"text-center text-white"},Jt={class:"text-xl font-medium"},en={class:"text-sm text-zinc-300 mt-2"},tn={key:1,class:"absolute inset-0 bg-zinc-900/80 dark:bg-zinc-950/80 flex items-center justify-center z-10 rounded-lg"},nn={class:"text-center text-white"},rn={class:"text-xl font-medium"},an={class:"text-sm text-zinc-300 mt-2"},sn={key:2,class:"absolute inset-0 bg-zinc-900/80 dark:bg-zinc-950/80 flex items-center justify-center z-10 rounded-lg"},on={class:"text-center text-white"},ln={class:"text-xl font-medium"},cn={class:"text-sm text-zinc-300 mt-2"},fn={class:"w-48 bg-zinc-700 rounded-full h-2 mt-4"},un={key:3,class:"absolute inset-0 bg-green-600/90 dark:bg-green-700/90 flex items-center justify-center z-10 rounded-lg"},dn={class:"text-center text-white"},hn={class:"text-xl font-medium"},pn={class:"text-sm text-green-100 mt-2"},mn={key:4,class:"max-w-full max-h-full flex flex-col items-center justify-center overflow-hidden h-full"},gn=["src","alt"],vn={key:5,class:"max-w-full max-h-full flex flex-col items-center justify-center overflow-hidden h-full"},_n=["src"],wn={key:6,class:"text-center"},bn={class:"w-32 h-32 bg-zinc-200 dark:bg-zinc-800 rounded-2xl flex items-center justify-center mx-auto mb-4"},xn={class:"text-sm text-zinc-500 dark:text-zinc-400 font-medium"},yn={class:"text-xs text-zinc-400 dark:text-zinc-500 mt-1"},An={class:"px-6 py-3 border-t border-zinc-200 dark:border-zinc-800 flex items-center justify-between text-xs text-zinc-500 dark:text-zinc-400"},zn={class:"flex items-center gap-4"},kn={key:0},Un={class:"w-full lg:w-[400px] flex flex-col min-h-0 lg:max-h-full overflow-hidden bg-white dark:bg-zinc-800/30"},Fn={class:"flex-1 overflow-auto"},In={class:"p-6 space-y-6"},En={class:"block text-[10px] uppercase tracking-wider font-semibold text-zinc-400 dark:text-zinc-500 mb-2"},Cn={class:"block text-[10px] uppercase tracking-wider font-semibold text-zinc-400 dark:text-zinc-500 mb-2"},Mn={class:"block text-[10px] uppercase tracking-wider font-semibold text-zinc-400 dark:text-zinc-500 mb-2"},Sn={class:"block text-[10px] uppercase tracking-wider font-semibold text-zinc-400 dark:text-zinc-500 mb-2"},Tn={class:"pt-4 border-t border-zinc-100 dark:border-zinc-800"},Rn={class:"block text-[10px] uppercase tracking-wider font-semibold text-zinc-400 dark:text-zinc-500 mb-3"},Dn={class:"pt-4 border-t border-zinc-100 dark:border-zinc-800"},On={class:"block text-[10px] uppercase tracking-wider font-semibold text-zinc-400 dark:text-zinc-500 mb-3"},Pn={class:"space-y-2"},Ln={class:"flex flex-row gap-4 items-center"},Bn={class:"flex flex-row gap-4 items-center"},Hn={class:"flex flex-row gap-4 items-center"},Wn={class:"flex flex-row gap-4 items-center"},jn={class:"pt-4 border-t border-zinc-100 dark:border-zinc-800"},Nn={class:"block text-[10px] uppercase tracking-wider font-semibold text-zinc-400 dark:text-zinc-500 mb-3"},Qn={class:"space-y-2 text-sm"},$n={class:"flex justify-between gap-4 items-center"},Vn={class:"text-zinc-500 dark:text-zinc-400"},Gn={class:"text-zinc-700 dark:text-zinc-300 font-mono text-xs text-right overflow-hidden text-ellipsis whitespace-nowrap"},qn={class:"flex justify-between gap-4 items-center"},Kn={class:"text-zinc-500 dark:text-zinc-400"},Zn={class:"text-zinc-700 dark:text-zinc-300 font-mono text-xs text-right overflow-hidden text-ellipsis whitespace-nowrap"},Xn={class:"flex justify-between gap-4 items-center"},Yn={class:"text-zinc-500 dark:text-zinc-400"},Jn={class:"text-zinc-700 dark:text-zinc-300 text-xs text-right overflow-hidden text-ellipsis whitespace-nowrap"},er={class:"flex justify-between gap-4 items-center"},tr={class:"text-zinc-500 dark:text-zinc-400"},nr={class:"text-zinc-700 dark:text-zinc-300 text-xs text-right overflow-hidden text-ellipsis whitespace-nowrap"},rr={class:"pt-4 border-t border-zinc-100 dark:border-zinc-800"},ir={class:"block text-[10px] uppercase tracking-wider font-semibold text-zinc-400 dark:text-zinc-500 mb-3"},ar={key:0,class:"flex items-center justify-center py-4"},sr={key:1,class:"text-sm text-zinc-500 dark:text-zinc-400 py-2"},or={key:2,class:"space-y-2"},lr={class:"flex-1 min-w-0"},cr={class:"flex items-center gap-2 mb-1"},fr={class:"text-sm font-medium text-zinc-700 dark:text-zinc-300 truncate"},ur={class:"text-xs text-zinc-500 dark:text-zinc-400 truncate ml-6"},dr={key:0,class:"ml-2"},hr=["href","title"],kr={__name:"media-details-view",setup(M){const I=Ut();Et();const{isOptimizing:P,optimizationProgress:d,status:t,optimizeImage:n,getCompressionStats:u}=Ht(),o=zt(),g=kt(),m=ce(!1),e=ce(null),i=ce(!1),r=ce(!1),s=ce("full"),h=ce(!1),y=ce(null),U=ce(!1),w=ce(!1),L=ce(null),S=ce(""),F=ce(""),D=ce(""),p=ce([]),C=ce([]),c=ce(!1),l=ce([]),v=ce(!1),x=async()=>{var K,q;if(!o.params.mediaId)return;m.value=!0,I.updateState("loading",!0);const T={endpoint:`wp/v2/media/${o.params.mediaId}`,params:{context:"edit"}},j=await Ce(T);if(m.value=!1,I.updateState("loading",!1),!(j!=null&&j.data)){ge({title:(0,window.wp.i18n.__)("Media item not found","uixpress"),type:"error"}),g.push({name:"media-library"});return}e.value=j.data,S.value=((K=e.value.title)==null?void 0:K.rendered)||"",F.value=e.value.alt_text||"",D.value=((q=e.value.caption)==null?void 0:q.rendered)||"",p.value=e.value.media_tags||[],i.value=!1,await J(),await Y()},b=tt(()=>{var j,K,q;if(!((j=e.value)!=null&&j.mime_type.startsWith("image/"))||!((q=(K=e.value)==null?void 0:K.media_details)!=null&&q.sizes))return[];const T=[{...e.value.media_details,source_url:e.value.source_url}];return Object.entries(e.value.media_details.sizes).forEach(([Z,X])=>{T.push({key:Z,label:Z.charAt(0).toUpperCase()+Z.slice(1),...X})}),T.reverse()}),A=tt(()=>{var T,j,K;return e.value?s.value==="full"?e.value.source_url:((K=(j=(T=e.value.media_details)==null?void 0:T.sizes)==null?void 0:j[s.value])==null?void 0:K.source_url)||e.value.source_url:""});st([S,F,D],()=>{var T,j;e.value&&(i.value=S.value!==(((T=e.value.title)==null?void 0:T.rendered)||"")||F.value!==(e.value.alt_text||"")||D.value!==(((j=e.value.caption)==null?void 0:j.rendered)||""))});const _=async()=>{if(i.value){r.value=!0;try{const T={endpoint:`wp/v2/media/${e.value.id}`,type:"POST",data:{title:S.value,alt_text:F.value,caption:D.value}},j=await Ce(T);j!=null&&j.data&&(ge({title:(0,window.wp.i18n.__)("Saved","uixpress"),type:"success"}),await x())}catch{ge({title:(0,window.wp.i18n.__)("Save failed","uixpress"),type:"error"})}finally{r.value=!1}}},z=()=>{i.value&&_()},f=async()=>{if(await L.value.show({title:(0,window.wp.i18n.__)("Delete file","uixpress"),message:(0,window.wp.i18n.__)("This will permantantly delete the file. Proceed?","uixpress"),okButton:(0,window.wp.i18n.__)("Delete","uixpress")})){m.value=!0;try{await Ce({endpoint:`wp/v2/media/${e.value.id}`,type:"DELETE",params:{force:!0}}),ge({title:(0,window.wp.i18n.__)("Deleted","uixpress"),type:"success"}),g.push({name:"media-library"})}catch{ge({title:(0,window.wp.i18n.__)("Delete failed","uixpress"),type:"error"})}finally{m.value=!1}}},a=T=>{if(!T)return"";const j=["B","KB","MB","GB"],K=Math.floor(Math.log(T)/Math.log(1024));return Math.round(T/Math.pow(1024,K)*10)/10+" "+j[K]},R=T=>new Date(T).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),k=T=>T.startsWith("image/")?"image":T.startsWith("video/")?"videocam":T.startsWith("audio/")?"audiotrack":T.includes("pdf")?"picture_as_pdf":T.includes("application/zip")?"archive":"attachment",O=async T=>{if(!(!T||!e.value)){h.value=!0;try{const j=new FormData;j.append("file",T),j.append("action","replace_media_file"),j.append("media_id",e.value.id);const q=await Ce({endpoint:"uixpress/v1/media/replace",type:"POST",data:j,isFormData:!0});q!=null&&q.data&&(ge({title:(0,window.wp.i18n.__)("File replaced successfully","uixpress"),type:"success"}),w.value=!0,setTimeout(()=>{w.value=!1},3e3),await x())}catch(j){console.error("File replacement error:",j),ge({title:(0,window.wp.i18n.__)("File replacement failed","uixpress"),type:"error"})}finally{h.value=!1}}},Q=T=>{const j=T.target.files[0];j&&O(j),y.value&&(y.value.value="")},H=T=>{T.preventDefault(),U.value=!0},N=T=>{T.preventDefault(),U.value=!1},B=T=>{T.preventDefault(),U.value=!1;const j=T.dataTransfer.files;j.length>0&&O(j[0])},E=()=>{y.value&&y.value.click()},$=async()=>{var j;if(!e.value||!e.value.mime_type.startsWith("image/")){ge({title:(0,window.wp.i18n.__)("Only images can be optimized","uixpress"),type:"error"});return}if(await L.value.show({title:(0,window.wp.i18n.__)("Optimise image","uixpress"),message:(0,window.wp.i18n.__)("This will permantantly optimise the image and convert to webp format.","uixpress"),okButton:(0,window.wp.i18n.__)("Convert","uixpress")}))try{const q=await(await fetch(e.value.source_url)).blob(),Z=new File([q],((j=e.value.media_details)==null?void 0:j.file)||"image.jpg",{type:e.value.mime_type}),X=await n(Z,{maxSizeMB:1,maxWidthOrHeight:1920,quality:.8,convertToWebP:!0}),ee=u(Z.size,X.size);ge({title:(0,window.wp.i18n.__)("Image optimized","uixpress"),message:`Reduced by ${ee.savedPercentage}% (${ee.savedBytes} saved)`,type:"success"}),await O(X)}catch(K){console.error("Image optimization error:",K),ge({title:(0,window.wp.i18n.__)("Optimization failed","uixpress"),type:"error"})}},ne=()=>{if(!e.value||!e.value.mime_type.startsWith("image/")){ge({title:(0,window.wp.i18n.__)("Only images can be edited","uixpress"),type:"error"});return}g.push({name:"media-edit",params:{mediaId:o.params.mediaId}})},J=async()=>{try{const T=await Ce({endpoint:"uixpress/v1/media/tags"});T!=null&&T.data&&(C.value=T.data)}catch(T){console.error("Failed to fetch tags:",T)}},Y=async()=>{var T;if(o.params.mediaId){v.value=!0;try{const j=await Ce({endpoint:`uixpress/v1/media/${o.params.mediaId}/usage`,type:"GET"});(T=j==null?void 0:j.data)!=null&&T.data&&(l.value=j.data.data||[])}catch(j){console.error("Failed to fetch media usage:",j),l.value=[]}finally{v.value=!1}}},te=async T=>{var j;c.value=!0;try{const K=await Ce({endpoint:`uixpress/v1/media/${e.value.id}/tags`,type:"POST",data:{tag_ids:p.value.map(q=>q.id),tag_names:[T]}});(j=K==null?void 0:K.data)!=null&&j.tags&&(p.value=K.data.tags,await J(),ge({title:(0,window.wp.i18n.__)("Tag created and added","uixpress"),type:"success"}))}catch{ge({title:(0,window.wp.i18n.__)("Failed to create tag","uixpress"),type:"error"})}finally{c.value=!1}},ie=async T=>{var q;const j=p.value.map(Z=>Z.id).sort().join(","),K=T.map(Z=>Z.id).sort().join(",");if(j!==K){c.value=!0;try{const Z=await Ce({endpoint:`uixpress/v1/media/${e.value.id}/tags`,type:"POST",data:{tag_ids:T.map(X=>X.id)}});(q=Z==null?void 0:Z.data)!=null&&q.tags&&(p.value=Z.data.tags,await J())}catch{ge({title:(0,window.wp.i18n.__)("Failed to update tags","uixpress"),type:"error"}),p.value=[...p.value]}finally{c.value=!1}}};return st(()=>o.params.mediaId,()=>{x()},{immediate:!0}),(T,j)=>{var K,q,Z,X,ee,fe,ue,ae,de;return le(),oe("div",Wt,[m.value?(le(),oe("div",jt,[W("div",Nt,[W("div",Qt,[se(we,{icon:"image",class:"text-xl text-zinc-400 animate-pulse"})]),W("p",$t,G(T.__("Loading...","uixpress")),1)])])):e.value?(le(),oe(Je,{key:1},[W("div",Vt,[b.value.length>0?(le(),oe("div",Gt,[W("div",qt,[W("div",Kt,[(le(!0),oe(Je,null,ot(b.value,V=>(le(),oe("button",{key:V.key,onClick:re=>s.value=V.key,class:je(["px-2 py-1 text-xs rounded-md transition-colors",s.value===V.key?"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 font-medium":"text-zinc-500 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100"])},G(V.label),11,Zt))),128))])])])):Ue("",!0),W("div",{class:je(["flex-1 flex items-center justify-center p-8 grow overflow-hidden max-h-full relative",[U.value?"bg-zinc-50 dark:bg-zinc-900/50 border-2 border-dashed border-zinc-300 dark:border-zinc-600":""]]),onDragover:H,onDragleave:N,onDrop:B},[U.value?(le(),oe("div",Xt,[W("div",Yt,[se(we,{icon:"cloud_upload",class:"text-6xl mb-4 mx-auto"}),W("p",Jt,G(T.__("Drop file to replace","uixpress")),1),W("p",en,G(T.__("Keep the same ID and regenerate thumbnails","uixpress")),1)])])):Ue("",!0),h.value?(le(),oe("div",tn,[W("div",nn,[se(we,{icon:"refresh",class:"text-6xl mb-4 mx-auto animate-spin"}),W("p",rn,G(T.__("Replacing file...","uixpress")),1),W("p",an,G(T.__("Regenerating thumbnails","uixpress")),1)])])):Ue("",!0),De(P)?(le(),oe("div",sn,[W("div",on,[se(we,{icon:"low_density",class:"text-6xl mb-4 mx-auto animate-pulse"}),W("p",ln,G(T.__("Optimizing image...","uixpress")),1),W("p",cn,G(De(t).message),1),W("div",fn,[W("div",{class:"bg-white h-2 rounded-full transition-all duration-300",style:Ft({width:`${De(d)}%`})},null,4)])])])):Ue("",!0),w.value?(le(),oe("div",un,[W("div",dn,[se(we,{icon:"check_circle",class:"text-6xl mb-4 mx-auto"}),W("p",hn,G(T.__("File replaced successfully!","uixpress")),1),W("p",pn,G(T.__("Thumbnails regenerated","uixpress")),1)])])):Ue("",!0),e.value.mime_type.startsWith("image/")?(le(),oe("div",mn,[W("img",{src:A.value,alt:F.value,class:"max-w-full max-h-full object-contain rounded-lg shadow-2xl grow-0 shrink-1"},null,8,gn)])):e.value.mime_type.startsWith("video/")?(le(),oe("div",vn,[W("video",{src:e.value.source_url,controls:"",class:"max-w-full max-h-full object-contain rounded-lg shadow-2xl grow-0 shrink-1",preload:"metadata"},G(T.__("Your browser does not support the video tag.","uixpress")),9,_n)])):(le(),oe("div",wn,[W("div",bn,[se(we,{icon:k(e.value.mime_type),class:"text-5xl text-zinc-500 dark:text-zinc-400"},null,8,["icon"])]),W("p",xn,G(e.value.mime_type.split("/")[1].toUpperCase()),1),W("p",yn,G(a((K=e.value.media_details)==null?void 0:K.filesize)),1)]))],34),W("div",An,[W("div",zn,[(q=e.value.media_details)!=null&&q.width&&((Z=e.value.media_details)!=null&&Z.height)?(le(),oe("span",kn,G(e.value.media_details.width)+"  "+G(e.value.media_details.height),1)):Ue("",!0),W("span",null,G(a((X=e.value.media_details)==null?void 0:X.filesize)),1),W("span",null,G(e.value.mime_type),1)]),W("span",null,G(T.__("Uploaded","uixpress"))+" "+G(R(e.value.date)),1)])]),W("div",Un,[W("div",Fn,[W("div",In,[W("div",null,[W("label",En,G(T.__("Title","uixpress")),1),se(lt,{modelValue:S.value,"onUpdate:modelValue":j[0]||(j[0]=V=>S.value=V),onBlur:z,placeholder:T.__("Untitled","uixpress")},null,8,["modelValue","placeholder"])]),W("div",null,[W("label",Cn,G(T.__("Alt Text","uixpress")),1),se(ct,{modelValue:F.value,"onUpdate:modelValue":j[1]||(j[1]=V=>F.value=V),onBlur:z,placeholder:T.__("Describe the image for screen readers","uixpress")},null,8,["modelValue","placeholder"])]),W("div",null,[W("label",Mn,G(T.__("Caption","uixpress")),1),se(ct,{modelValue:D.value,"onUpdate:modelValue":j[2]||(j[2]=V=>D.value=V),onBlur:z,placeholder:T.__("Add a caption","uixpress")},null,8,["modelValue","placeholder"])]),W("div",null,[W("label",Sn,G(T.__("Tags","uixpress")),1),se(Mt,{modelValue:p.value,"onUpdate:modelValue":[j[3]||(j[3]=V=>p.value=V),ie],"available-tags":C.value,disabled:c.value,placeholder:T.__("Add tags...","uixpress"),"allow-create":!0,onCreate:te},null,8,["modelValue","available-tags","disabled","placeholder"])]),W("div",Tn,[W("label",Rn,G(T.__("File URL","uixpress")),1),se(lt,{modelValue:e.value.source_url,"onUpdate:modelValue":j[4]||(j[4]=V=>e.value.source_url=V),disabled:!0,copy:!0},null,8,["modelValue"])]),W("div",Dn,[W("label",On,G(T.__("Actions","uixpress")),1),W("div",Pn,[se(Qe,{onClick:$,disabled:De(P)||!((ee=e.value)!=null&&ee.mime_type.startsWith("image/")),class:"w-full"},{default:Ne(()=>[W("div",Ln,[se(we,{icon:De(P)?"refresh":"low_density",class:je(["text-base",De(P)?"animate-spin":""])},null,8,["icon","class"]),W("span",null,G(De(P)?T.__("Optimizing...","uixpress"):T.__("Optimize Image","uixpress")),1)])]),_:1},8,["disabled"]),se(Qe,{onClick:E,disabled:h.value||!((fe=e.value)!=null&&fe.mime_type.startsWith("image/")),class:"w-full"},{default:Ne(()=>[W("div",Bn,[se(we,{icon:h.value?"refresh":"swap_horiz",class:je(["text-base",h.value?"animate-spin":""])},null,8,["icon","class"]),W("span",null,G(h.value?T.__("Replacing...","uixpress"):T.__("Replace Image","uixpress")),1)])]),_:1},8,["disabled"]),se(Qe,{onClick:ne,disabled:!((ue=e.value)!=null&&ue.mime_type.startsWith("image/")),class:"w-full"},{default:Ne(()=>[W("div",Hn,[se(we,{icon:"crop",class:"text-base"}),W("span",null,G(T.__("Edit Image","uixpress")),1)])]),_:1},8,["disabled"]),se(Qe,{onClick:f,class:"w-full",type:"danger"},{default:Ne(()=>[W("div",Wn,[se(we,{icon:"delete"}),W("span",null,G(T.__("Delete","uixpress")),1)])]),_:1})])]),W("div",jn,[W("label",Nn,G(T.__("Details","uixpress")),1),W("dl",Qn,[W("div",$n,[W("dt",Vn,G(T.__("Filename","uixpress")),1),W("dd",Gn,G(((ae=e.value.media_details)==null?void 0:ae.file)||""),1)]),W("div",qn,[W("dt",Kn,G(T.__("ID","uixpress")),1),W("dd",Zn,G(e.value.id),1)]),W("div",Xn,[W("dt",Yn,G(T.__("Modified","uixpress")),1),W("dd",Jn,G(R(e.value.modified)),1)]),W("div",er,[W("dt",tr,G(T.__("File size","uixpress")),1),W("dd",nr,G(a((de=e.value.media_details)==null?void 0:de.filesize)),1)])])]),W("div",rr,[W("label",ir,G(T.__("Used In","uixpress")),1),v.value?(le(),oe("div",ar,[se(we,{icon:"refresh",class:"text-lg animate-spin text-zinc-400"})])):l.value.length===0?(le(),oe("div",sr,G(T.__("This media is not currently used anywhere.","uixpress")),1)):(le(),oe("div",or,[(le(!0),oe(Je,null,ot(l.value,V=>(le(),oe("div",{key:V.id,class:"flex items-center justify-between p-2 rounded-lg hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors group"},[W("div",lr,[W("div",cr,[se(we,{icon:V.type==="post"?"article":V.type==="page"?"description":"widgets",class:"text-sm text-zinc-400 dark:text-zinc-500 flex-shrink-0"},null,8,["icon"]),W("span",fr,G(V.title),1)]),W("div",ur,[It(G(V.type==="post"?T.__("Post","uixpress"):V.type==="page"?T.__("Page","uixpress"):T.__("Widget","uixpress"))+" ",1),V.status?(le(),oe("span",dr,"  "+G(V.status==="publish"?T.__("Published","uixpress"):T.__("Draft","uixpress")),1)):Ue("",!0)])]),V.edit_url?(le(),oe("a",{key:0,href:V.edit_url,target:"_blank",class:"ml-2 p-1.5 rounded-md hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors opacity-0 group-hover:opacity-100",title:T.__("Edit","uixpress")},[se(we,{icon:"open_in_new",class:"text-sm text-zinc-500 dark:text-zinc-400"})],8,hr)):Ue("",!0)]))),128))]))])])])])],64)):Ue("",!0),se(Ct,{ref_key:"userConfirm",ref:L},null,512),W("input",{ref_key:"fileInput",ref:y,type:"file",onChange:Q,accept:"image/*,video/*,audio/*,.pdf",class:"hidden"},null,544)])}}};export{kr as default};
//# sourceMappingURL=media-details-view-DpWjvL6X.js.map
