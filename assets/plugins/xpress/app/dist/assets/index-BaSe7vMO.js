import{r as d,c as O,u as R,A as T,b as v,d as y,j as C,f as g,n as U,_ as q,g as z,F as V,m as W,k as E,l as G,D as X}from"./_plugin-vue_export-helper-y4Xv5kKr.js";import{i as Y}from"./inSearch-uRPV3sBV.js";import{_ as J}from"./index-C-cYCD9B.js";import{_ as K}from"./index-BaxaBONX.js";const Q=d(!1),le=d([]),w=d([]),ue=d([]),B=n=>{if(!n||typeof DOMParser>"u")return null;const r=n.getElementsByTagName("*");for(let e of r){const a=e.textContent.trim();if(!isNaN(a))return parseInt(a,10)}return null},Z=n=>{const r=n.querySelectorAll(":scope .wp-submenu > li");if(!r)return;let e=[];for(let a of r){const o=a.querySelector(":scope > a");if(!o||o.classList.contains("hide-if-js"))continue;const t=o.getAttribute("href"),s=o.getAttribute("target");let u=!1;(o.classList.contains("current")||a.classList.contains("current"))&&(u=!0);let i=o.innerHTML;const c=i.split("<"),l=c[0]!==""?c[0]:i,m=B(o),f=`${n.getAttribute("id")}-${t}`,h=o.getAttribute("id"),b=o;e.push({name:l,url:t,target:s,active:u,id:f,notifications:m,sub_id:h,og_node:b})}return e},ee=n=>{const r=window.getComputedStyle(n,":before");let e=r.getPropertyValue("content");const a=r.getPropertyValue("font-family");let o=r.getPropertyValue("background-image");return o=o!="none"?o:!1,e=="none"&&(e=""),{content:e.replace(/^["']|["']$/g,""),font:a,backGroundImage:o}},te=n=>{const r=n.classList;for(let e of r)if(e.startsWith("dashicons-")&&e!=="dashicons-before")return e;return null},_=n=>{if(!n)return"";if(n.includes("%"))try{return decodeURIComponent(n)}catch{return n}return n},N=n=>{if(!n)return!1;const r=window.location.href,e=_(r),a=window.location.pathname+window.location.search,o=_(a),t=window.location.pathname+window.location.search+window.location.hash,s=_(t),u=[r,e,a,o,t,s],i=[...new Set(u)],c=_(n),l=[n,c,encodeURI(n),encodeURI(c)],m=[...new Set(l)];for(const p of m)for(const f of i)if(f.endsWith(p)||f===p)return!0;return!1},de=async n=>{if(n&&(n=n.querySelector("#adminmenu")),!n)return Q.value=!1;const r=n.children,e=[];w.value=[];for(let t of r){if(t.classList.contains("wp-menu-separator")){const j=`separator-${e.filter(F=>F.type=="separator").length}`;e.push({type:"separator",id:j});continue}const s=t.querySelector(":scope > a"),u=t.querySelector(":scope .wp-menu-name"),i=t.querySelector(":scope .wp-menu-image"),c=i?i.querySelector(":scope img"):!1;if(!s)continue;const l=t.getAttribute("id"),m=s.getAttribute("href"),p=s.getAttribute("target"),f=B(u);let h=!1;(s.classList.contains("current")||s.getAttribute("aria-current")=="page"||t.classList.contains("wp-menu-open"))&&(h=!0);let b=u.innerHTML;const M=b.split("<"),H=M[0]!==""?M[0]:b;let S=i.classList?[...i.classList]:[],I=S.includes("svg")?i.getAttribute("style"):"";if(c){let A=c.getAttribute("src");I=A?`background-image: url("${A}");height:1.2rem;background-size:contain;`:""}const{content:k,font:P,backGroundImage:x}=ee(i),L=te(i);L&&w.value.push({class:`.${L}`,before:k,font:P,backGroundImage:x}),!L&&(x||k)&&w.value.push({class:`#${l} .wp-menu-image`,before:k,font:P,backGroundImage:x});const D=Z(t);e.push({url:m,target:p,name:H,notifications:f,imageClasses:S,iconStyles:I,submenu:D,active:h,id:l})}let a=!1,o=-1;for(let t=0;t<e.length;t++){const s=e[t];if(!(s.type==="separator"||!Array.isArray(s.submenu)))for(let u=0;u<s.submenu.length;u++){const i=s.submenu[u];if(N(i.url)){a=!0,o=t,i.active=!0,i.directMatch=!0;for(let c=0;c<s.submenu.length;c++)c!==u&&!s.submenu[c].directMatch&&(s.submenu[c].active=!1);s.active=!0,s.directMatch=!0;break}}}if(!a)for(let t=0;t<e.length;t++){const s=e[t];if(!(s.type==="separator"||!s.url)&&N(s.url)){a=!0,o=t,s.active=!0,s.directMatch=!0;break}}if(a&&o>=0)for(let t=0;t<e.length;t++)t!==o&&e[t].type!=="separator"&&(e[t].directMatch||(e[t].active=!1,Array.isArray(e[t].submenu)&&e[t].submenu.forEach(s=>{s.directMatch||(s.active=!1)})));return{processedMenu:[...e],dashIcons:w.value}};let $;const me=O(()=>{$||($=R());const n=[["dashboard","dashboard"],["admin-post","keep"],["admin-media","photo_library"],["admin-page","description"],["admin-comments","forum"],["admin-appearance","palette"],["admin-plugins","extension"],["admin-users","group"],["admin-tools","build"],["admin-settings","tune"],["archive","inventory"],["chart-bar","equalizer"]],r=$.state.pluginBase;return n.map(([e,a])=>`
  .dashicons-${e}:before {
	content: '';
	height: 1.2rem;
	width: 1.2rem;
	min-height: 1.2rem;
	min-width: 1.2rem;
	background-color: currentColor;
	-webkit-mask: url(${r}assets/icons/${a}.svg) no-repeat center;
	-webkit-mask-size: contain;
	mask: url(${r}assets/icons/${a}.svg) no-repeat center;
	mask-size: contain;
	font-size: 1.2rem;
  }
`).join("")}),ne={class:"w-[260px] grid grid-cols-5 gap-4 max-h-[400px] overflow-auto"},se={class:"col-span-5 text-sm p-2"},oe={key:0,class:"w-full flex flex-col items-center"},fe={__name:"index",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(n){const r=T(n,"modelValue"),e=d(null),a=d(null),o=d(""),t=i=>{const l=a.value.getBoundingClientRect();return{clientX:l.left,clientY:l.bottom}},s=i=>{r.value=i,e.value.close()},u=["grid","search","list","information","user","person","home","logout","pb-logo-fill","github","north_east","sparkles","pb-logo-lines","lock","link","cloud_upload","at","return","bolt","layers","arrow_up","tif-svgrepo-com","dashboard","chevron_right","tick","chevron_left","close-pane","open-pane","warning","sites","add","close","more_horiz","pages","copy","refresh","folder-open-2","image","save","align-arrow-up","sidebar","arrow_down","photos","redo","google","trash","gif-svgrepo-com","edit","credit-card","delete","command","reorder","gift","png-file-type-svgrepo-com","sort","undo","filter","jpeg-svgrepo-com","tune","error","logo","pdf-svgrepo-com","unfold","bmp-file-format-symbol-svgrepo-com","open_new","users","moon"];return(i,c)=>(y(),v(V,null,[C("div",{ref_key:"trigger",ref:a,onClick:c[0]||(c[0]=l=>e.value.show(l,t())),class:"p-2 border border-zinc-200 dark:border-zinc-700 rounded-lg transition-all outline outline-transparent outline-offset-[-2px] focus:outline-indigo-300 focus:shadow-xs"},[g(q,{icon:r.value?r.value:"home",class:U(["text-xl",r.value?"":"opacity-50"])},null,8,["icon","class"])],512),g(J,{ref_key:"contextmenu",ref:e},{default:z(()=>[C("div",ne,[C("div",se,[g(K,{modelValue:o.value,"onUpdate:modelValue":c[1]||(c[1]=l=>o.value=l),type:"text",placeholder:i.__("Search icons","uixpress")},null,8,["modelValue","placeholder"])]),(y(),v(V,null,W(u,l=>(y(),v(V,null,[G(Y)(o.value,l)?(y(),v("div",oe,[g(X,{onClick:m=>s(l),type:"transparent"},{default:z(()=>[g(q,{icon:l,class:"text-2xl"},null,8,["icon"])]),_:2},1032,["onClick"])])):E("",!0)],64))),64))])]),_:1},512)],64))}};export{ue as O,fe as _,w as d,N as i,Q as l,le as m,de as p,me as r};
//# sourceMappingURL=index-BaSe7vMO.js.map
