{"version":3,"file":"role-details-view-CHLtJMGj.js","sources":["../../src/pages/role-editor/src/role-details-view.vue"],"sourcesContent":["<script setup>\nimport { ref, computed, onMounted, watch, inject } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\n\n// Store\nimport { useAppStore } from '@/store/app/app.js';\nconst appStore = useAppStore();\n\n// Funcs\nimport { lmnFetch } from '@/assets/js/functions/lmnFetch.js';\nimport { notify } from '@/assets/js/functions/notify.js';\nimport { useDarkMode } from './useDarkMode.js';\nconst { isDark } = useDarkMode();\n\n// Comps\nimport AppIcon from '@/components/utility/icons/index.vue';\nimport AppButton from '@/components/utility/app-button/index.vue';\nimport AppInput from '@/components/utility/text-input/index.vue';\nimport AppCheckbox from '@/components/utility/checkbox-basic/index.vue';\nimport Confirm from '@/components/utility/confirm/index.vue';\n\nconst route = useRoute();\nconst router = useRouter();\n\n// Inject refresh function from parent\nconst refreshRolesList = inject('refreshRolesList', null);\n\n// Refs\nconst loading = ref(false);\nconst roleData = ref(null);\nconst allCapabilities = ref([]);\nconst groupedCapabilities = ref({});\nconst selectedCapabilities = ref([]);\nconst hasChanges = ref(false);\nconst isSaving = ref(false);\nconst searchQuery = ref('');\nconst expandedCategories = ref({});\nconst confirmDialog = ref(null);\nconst isEditingRoleName = ref(false);\nconst roleNameInput = ref('');\nconst isSavingRoleName = ref(false);\nconst isDeletingRole = ref(false);\n\n// Computed properties\nconst isAdministrator = computed(() => {\n  return roleData.value?.slug === 'administrator';\n});\n\nconst selectedCount = computed(() => {\n  return selectedCapabilities.value.length;\n});\n\nconst totalCapabilitiesCount = computed(() => {\n  return allCapabilities.value.length;\n});\n\nconst selectedPercentage = computed(() => {\n  if (totalCapabilitiesCount.value === 0) return 0;\n  return Math.round((selectedCount.value / totalCapabilitiesCount.value) * 100);\n});\n\n// Filtered capabilities based on search\nconst filteredCapabilities = computed(() => {\n  if (!searchQuery.value) {\n    return groupedCapabilities.value;\n  }\n\n  const query = searchQuery.value.toLowerCase();\n  const filtered = {};\n\n  Object.keys(groupedCapabilities.value).forEach((category) => {\n    const caps = groupedCapabilities.value[category].filter((cap) =>\n      cap.toLowerCase().includes(query)\n    );\n    if (caps.length > 0) {\n      filtered[category] = caps;\n    }\n  });\n\n  return filtered;\n});\n\n// Category labels\nconst categoryLabels = {\n  general: __('General', 'uixpress'),\n  posts: __('Posts', 'uixpress'),\n  pages: __('Pages', 'uixpress'),\n  media: __('Media', 'uixpress'),\n  users: __('Users', 'uixpress'),\n  plugins: __('Plugins', 'uixpress'),\n  themes: __('Themes', 'uixpress'),\n  settings: __('Settings', 'uixpress'),\n  other: __('Other', 'uixpress'),\n};\n\n/**\n * Validates role slug format\n *\n * @param {string} slug - The role slug to validate\n * @returns {boolean} True if valid, false otherwise\n */\nconst isValidRoleSlug = (slug) => {\n  if (!slug || typeof slug !== 'string') return false;\n  // WordPress role slugs: lowercase letters, numbers, hyphens, underscores\n  return /^[a-z0-9_-]+$/.test(slug);\n};\n\n/**\n * Fetches role details from WordPress REST API\n */\nconst getRoleDetails = async () => {\n  if (!route.params.roleSlug) return;\n\n  // Validate role slug format before making API call\n  if (!isValidRoleSlug(route.params.roleSlug)) {\n    notify({\n      title: __('Invalid role format', 'uixpress'),\n      type: 'error',\n    });\n    router.push({ name: 'role-editor' });\n    return;\n  }\n\n  loading.value = true;\n  appStore.updateState('loading', true);\n\n  try {\n    const args = {\n      endpoint: `uixpress/v1/role-editor/role/${route.params.roleSlug}`,\n      params: {},\n    };\n\n    const data = await lmnFetch(args);\n\n    if (!data?.data) {\n      notify({\n        title: __('Role not found', 'uixpress'),\n        type: 'error',\n      });\n      router.push({ name: 'role-editor' });\n      return;\n    }\n\n    roleData.value = data.data;\n    roleNameInput.value = data.data.name;\n    selectedCapabilities.value = [...(data.data.capabilities || [])];\n\n    // Fetch all available capabilities\n    await getAllCapabilities();\n  } catch (error) {\n    notify({\n      title: __('Failed to load role', 'uixpress'),\n      type: 'error',\n    });\n  } finally {\n    loading.value = false;\n    appStore.updateState('loading', false);\n  }\n};\n\n/**\n * Fetches all available capabilities\n */\nconst getAllCapabilities = async () => {\n  try {\n    const args = {\n      endpoint: 'uixpress/v1/role-editor/capabilities',\n      params: {},\n    };\n\n    const data = await lmnFetch(args);\n\n    if (data?.data) {\n      allCapabilities.value = data.data.all || [];\n      groupedCapabilities.value = data.data.grouped || {};\n\n      // Categories are collapsed by default\n      Object.keys(groupedCapabilities.value).forEach((category) => {\n        expandedCategories.value[category] = false;\n      });\n    }\n  } catch (error) {\n    console.error('Failed to fetch capabilities:', error);\n  }\n};\n\n/**\n * Toggles a capability selection\n */\nconst toggleCapability = (capability) => {\n  const index = selectedCapabilities.value.indexOf(capability);\n  if (index > -1) {\n    selectedCapabilities.value.splice(index, 1);\n  } else {\n    selectedCapabilities.value.push(capability);\n  }\n  hasChanges.value = true;\n};\n\n/**\n * Checks if a capability is selected\n */\nconst isCapabilitySelected = (capability) => {\n  return selectedCapabilities.value.includes(capability);\n};\n\n/**\n * Toggles category expansion\n */\nconst toggleCategory = (category) => {\n  expandedCategories.value[category] = !expandedCategories.value[category];\n};\n\n/**\n * Checks if category is expanded\n */\nconst isCategoryExpanded = (category) => {\n  return expandedCategories.value[category] === true;\n};\n\n/**\n * Starts editing role name\n */\nconst startEditingRoleName = () => {\n  isEditingRoleName.value = true;\n  roleNameInput.value = roleData.value.name;\n};\n\n/**\n * Cancels editing role name\n */\nconst cancelEditingRoleName = () => {\n  isEditingRoleName.value = false;\n  roleNameInput.value = roleData.value.name;\n};\n\n/**\n * Validates role name format\n *\n * @param {string} name - The role name to validate\n * @returns {boolean} True if valid, false otherwise\n */\nconst isValidRoleName = (name) => {\n  if (!name || typeof name !== 'string') return false;\n  const trimmed = name.trim();\n  return trimmed.length > 0 && trimmed.length <= 100;\n};\n\n/**\n * Saves role name\n */\nconst saveRoleName = async () => {\n  const trimmedName = roleNameInput.value.trim();\n  \n  if (!trimmedName || trimmedName === roleData.value.name) {\n    cancelEditingRoleName();\n    return;\n  }\n\n  // Validate role name format\n  if (!isValidRoleName(trimmedName)) {\n    notify({\n      title: __('Invalid role name', 'uixpress'),\n      message: __('Role name must be between 1 and 100 characters.', 'uixpress'),\n      type: 'error',\n    });\n    return;\n  }\n\n  isSavingRoleName.value = true;\n\n  try {\n    const args = {\n      endpoint: `uixpress/v1/role-editor/role/${roleData.value.slug}/name`,\n      type: 'POST',\n      data: {\n        name: trimmedName,\n      },\n    };\n\n    const data = await lmnFetch(args);\n\n    if (data?.data) {\n      roleData.value.name = data.data.name;\n      isEditingRoleName.value = false;\n      notify({\n        title: __('Role name updated', 'uixpress'),\n        type: 'success',\n      });\n      // Refresh the roles list to reflect the name change\n      if (refreshRolesList) {\n        await refreshRolesList();\n      }\n    }\n  } catch (error) {\n    notify({\n      title: __('Failed to update role name', 'uixpress'),\n      type: 'error',\n    });\n  } finally {\n    isSavingRoleName.value = false;\n  }\n};\n\n/**\n * Selects all capabilities in a category\n */\nconst selectAllInCategory = (category) => {\n  const caps = groupedCapabilities.value[category] || [];\n  caps.forEach((cap) => {\n    if (!selectedCapabilities.value.includes(cap)) {\n      selectedCapabilities.value.push(cap);\n    }\n  });\n  hasChanges.value = true;\n};\n\n/**\n * Deselects all capabilities in a category\n */\nconst deselectAllInCategory = (category) => {\n  const caps = groupedCapabilities.value[category] || [];\n  caps.forEach((cap) => {\n    const index = selectedCapabilities.value.indexOf(cap);\n    if (index > -1) {\n      selectedCapabilities.value.splice(index, 1);\n    }\n  });\n  hasChanges.value = true;\n};\n\n/**\n * Checks if all capabilities in category are selected\n */\nconst areAllSelectedInCategory = (category) => {\n  const caps = groupedCapabilities.value[category] || [];\n  return caps.length > 0 && caps.every((cap) => isCapabilitySelected(cap));\n};\n\n/**\n * Validates capabilities array format\n *\n * @param {Array} capabilities - Array of capability strings\n * @returns {boolean} True if valid, false otherwise\n */\nconst isValidCapabilitiesArray = (capabilities) => {\n  if (!Array.isArray(capabilities)) return false;\n  return capabilities.every(\n    (cap) => typeof cap === 'string' && /^[a-z0-9_]+$/.test(cap)\n  );\n};\n\n/**\n * Saves role capabilities\n */\nconst saveCapabilities = async () => {\n  if (!hasChanges.value || !roleData.value) return;\n\n  // Validate capabilities format\n  if (!isValidCapabilitiesArray(selectedCapabilities.value)) {\n    notify({\n      title: __('Invalid capabilities format', 'uixpress'),\n      type: 'error',\n    });\n    return;\n  }\n\n  // Extra confirmation for administrator role\n  if (isAdministrator.value) {\n    const confirmed = await confirmDialog.value.show({\n      title: __('Warning: Administrator Role', 'uixpress'),\n      message: __(\n        'You are about to modify the administrator role capabilities. This is extremely dangerous and could lock you out of your site permanently. Are you absolutely sure you want to proceed?',\n        'uixpress'\n      ),\n      okButton: __('Yes, I understand the risk', 'uixpress'),\n      cancelButton: __('Cancel', 'uixpress'),\n      icon: 'warning',\n    });\n\n    if (!confirmed) {\n      return;\n    }\n  }\n\n  isSaving.value = true;\n\n  try {\n    const args = {\n      endpoint: `uixpress/v1/role-editor/role/${roleData.value.slug}`,\n      type: 'POST',\n      data: {\n        capabilities: selectedCapabilities.value,\n      },\n    };\n\n    const data = await lmnFetch(args);\n\n    if (data?.data) {\n      notify({\n        title: __('Capabilities updated', 'uixpress'),\n        type: 'success',\n      });\n      hasChanges.value = false;\n      await getRoleDetails(); // Refresh role data\n    }\n  } catch (error) {\n    notify({\n      title: __('Failed to update capabilities', 'uixpress'),\n      type: 'error',\n    });\n  } finally {\n    isSaving.value = false;\n  }\n};\n\n/**\n * Formats capability name for display\n */\nconst formatCapabilityName = (capability) => {\n  // Convert snake_case to Title Case\n  return capability\n    .split('_')\n    .map((word) => word.charAt(0).toUpperCase() + word.slice(1))\n    .join(' ');\n};\n\n/**\n * Checks if role can be deleted\n */\nconst canDeleteRole = computed(() => {\n  if (!roleData.value) return false;\n\n  // Cannot delete default WordPress roles\n  const defaultRoles = [\n    'administrator',\n    'editor',\n    'author',\n    'contributor',\n    'subscriber',\n  ];\n  if (defaultRoles.includes(roleData.value.slug)) {\n    return false;\n  }\n\n  // Cannot delete if role has users\n  if (roleData.value.userCount > 0) {\n    return false;\n  }\n\n  return true;\n});\n\n/**\n * Deletes the current role\n */\nconst deleteRole = async () => {\n  if (!roleData.value || !canDeleteRole.value) return;\n\n  // Validate role slug before deletion\n  if (!isValidRoleSlug(roleData.value.slug)) {\n    notify({\n      title: __('Invalid role format', 'uixpress'),\n      type: 'error',\n    });\n    return;\n  }\n\n  const confirmed = await confirmDialog.value.show({\n    title: __('Delete Role', 'uixpress'),\n    message: __(\n      'Are you sure you want to delete the role \"%s\"? This action cannot be undone.',\n      'uixpress'\n    ).replace('%s', roleData.value.name),\n    okButton: __('Delete', 'uixpress'),\n    cancelButton: __('Cancel', 'uixpress'),\n    icon: 'warning',\n  });\n\n  if (!confirmed) return;\n\n  isDeletingRole.value = true;\n\n  try {\n    const args = {\n      endpoint: `uixpress/v1/role-editor/role/${roleData.value.slug}`,\n      type: 'DELETE',\n    };\n\n    const data = await lmnFetch(args);\n\n    if (data?.data) {\n      notify({\n        title: __('Role deleted successfully', 'uixpress'),\n        type: 'success',\n      });\n      // Refresh the roles list before navigating\n      if (refreshRolesList) {\n        await refreshRolesList();\n      }\n      router.push({ name: 'role-editor' });\n    }\n  } catch (error) {\n    notify({\n      title: __('Failed to delete role', 'uixpress'),\n      type: 'error',\n    });\n  } finally {\n    isDeletingRole.value = false;\n  }\n};\n\n// Watchers\nwatch(\n  () => route.params.roleSlug,\n  () => {\n    getRoleDetails();\n  },\n  { immediate: true }\n);\n</script>\n\n<template>\n  <div class=\"flex-1 flex flex-col h-full max-h-full overflow-hidden\">\n    <!-- Loading State -->\n    <div v-if=\"loading\" class=\"flex-1 flex items-center justify-center\">\n      <div class=\"text-center\">\n        <div\n          class=\"w-12 h-12 rounded-full bg-zinc-100 dark:bg-zinc-900 flex items-center justify-center mx-auto mb-3\"\n        >\n          <AppIcon icon=\"people\" class=\"text-xl text-zinc-400 animate-pulse\" />\n        </div>\n        <p class=\"text-sm text-zinc-500 dark:text-zinc-400\">\n          {{ __('Loading...', 'uixpress') }}\n        </p>\n      </div>\n    </div>\n\n    <!-- Content -->\n    <template v-else-if=\"roleData\">\n      <!-- Administrator Warning Banner -->\n      <Transition\n        enter-active-class=\"transition-all duration-300 ease-out\"\n        enter-from-class=\"opacity-0 -translate-y-2\"\n        enter-to-class=\"opacity-100 translate-y-0\"\n      >\n        <div\n          v-if=\"isAdministrator\"\n          class=\"mx-6 mt-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200/50 dark:border-red-800/30 rounded-xl flex items-start gap-3\"\n        >\n          <div class=\"flex-shrink-0 mt-0.5\">\n            <AppIcon\n              icon=\"warning\"\n              class=\"text-red-600 dark:text-red-400 text-xl\"\n            />\n          </div>\n          <div class=\"flex-1 min-w-0\">\n            <h3\n              class=\"text-sm font-semibold text-red-900 dark:text-red-100 mb-1\"\n            >\n              {{ __('Extreme Caution Required', 'uixpress') }}\n            </h3>\n            <p class=\"text-sm text-red-800 dark:text-red-200 leading-relaxed\">\n              {{\n                __(\n                  'You are editing the Administrator role. Modifying capabilities incorrectly could permanently lock you out of your WordPress site. Only make changes if you are absolutely certain of what you are doing. It is strongly recommended to test changes on a staging site first.',\n                  'uixpress'\n                )\n              }}\n            </p>\n          </div>\n        </div>\n      </Transition>\n\n      <!-- Header -->\n      <div\n        class=\"px-6 pt-6 pb-4 border-b border-zinc-200/50 dark:border-zinc-700/30\"\n      >\n        <div class=\"flex items-start justify-between mb-4\">\n          <div class=\"flex-1\">\n            <div class=\"flex items-center gap-3 mb-2\">\n              <div\n                v-if=\"!isEditingRoleName\"\n                class=\"flex items-center gap-2 group\"\n              >\n                <h2\n                  class=\"text-2xl font-semibold text-zinc-900 dark:text-zinc-100\"\n                >\n                  {{ roleData.name }}\n                </h2>\n                <button\n                  @click=\"startEditingRoleName\"\n                  class=\"opacity-0 group-hover:opacity-100 transition-opacity p-1 rounded hover:bg-zinc-100 dark:hover:bg-zinc-800\"\n                  :title=\"__('Edit role name', 'uixpress')\"\n                >\n                  <AppIcon\n                    icon=\"edit\"\n                    class=\"text-sm text-zinc-500 dark:text-zinc-400\"\n                  />\n                </button>\n              </div>\n              <div v-else class=\"flex items-center gap-2 flex-1 max-w-md\">\n                <AppInput\n                  v-model=\"roleNameInput\"\n                  @keyup.enter=\"saveRoleName\"\n                  @keyup.escape=\"cancelEditingRoleName\"\n                  class=\"flex-1\"\n                  :disabled=\"isSavingRoleName\"\n                />\n                <AppButton\n                  @click=\"saveRoleName\"\n                  :loading=\"isSavingRoleName\"\n                  type=\"primary\"\n                  class=\"text-sm px-2 py-1\"\n                >\n                  {{ __('Save', 'uixpress') }}\n                </AppButton>\n                <AppButton\n                  @click=\"cancelEditingRoleName\"\n                  type=\"default\"\n                  class=\"text-sm px-2 py-1\"\n                  :disabled=\"isSavingRoleName\"\n                >\n                  {{ __('Cancel', 'uixpress') }}\n                </AppButton>\n              </div>\n              <span\n                v-if=\"isAdministrator\"\n                class=\"px-2 py-0.5 text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-md\"\n              >\n                {{ __('Admin', 'uixpress') }}\n              </span>\n            </div>\n            <p class=\"text-sm text-zinc-500 dark:text-zinc-400\">\n              {{ roleData.userCount }}\n              {{\n                roleData.userCount === 1\n                  ? __('user', 'uixpress')\n                  : __('users', 'uixpress')\n              }}\n              {{ __('with this role', 'uixpress') }}\n            </p>\n          </div>\n          <div class=\"flex items-center gap-3\">\n            <AppButton\n              v-if=\"canDeleteRole\"\n              @click=\"deleteRole\"\n              :disabled=\"isDeletingRole || isSaving\"\n              :loading=\"isDeletingRole\"\n              type=\"danger\"\n              class=\"text-sm\"\n            >\n              <AppIcon icon=\"delete\" class=\"text-base\" />\n              {{ __('Delete Role', 'uixpress') }}\n            </AppButton>\n            <AppButton\n              @click=\"saveCapabilities\"\n              :disabled=\"!hasChanges || isSaving\"\n              :loading=\"isSaving\"\n              type=\"primary\"\n              :class=\"\n                isAdministrator ? 'border-red-300 dark:border-red-700' : ''\n              \"\n            >\n              {{ __('Save Changes', 'uixpress') }}\n            </AppButton>\n          </div>\n        </div>\n\n        <!-- Capabilities Summary -->\n        <div\n          class=\"flex items-center gap-6 pt-4 border-t border-zinc-200/50 dark:border-zinc-700/30\"\n        >\n          <div class=\"flex items-center gap-2\">\n            <div\n              class=\"w-2 h-2 rounded-full\"\n              :class=\"\n                hasChanges ? 'bg-amber-500 animate-pulse' : 'bg-green-500'\n              \"\n            ></div>\n            <span class=\"text-xs font-medium text-zinc-600 dark:text-zinc-400\">\n              {{ selectedCount }} / {{ totalCapabilitiesCount }}\n              {{ __('capabilities selected', 'uixpress') }}\n            </span>\n          </div>\n          <div class=\"flex-1 max-w-xs\">\n            <div class=\"w-full bg-zinc-200 dark:bg-zinc-700 rounded-full h-1.5\">\n              <div\n                class=\"bg-zinc-900 dark:bg-zinc-100 h-1.5 rounded-full transition-all duration-300\"\n                :style=\"{ width: `${selectedPercentage}%` }\"\n              ></div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Search Bar -->\n      <div\n        class=\"px-6 py-4 border-b border-zinc-200/50 dark:border-zinc-700/30 bg-zinc-50/50 dark:bg-zinc-900/20\"\n      >\n        <div class=\"relative\">\n          <AppIcon\n            icon=\"search\"\n            class=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-zinc-400 dark:text-zinc-500 text-base pointer-events-none\"\n          />\n          <input\n            v-model=\"searchQuery\"\n            type=\"text\"\n            :placeholder=\"__('Search capabilities...', 'uixpress')\"\n            class=\"w-full bg-white dark:bg-zinc-800 border border-zinc-200/50 dark:border-zinc-700/30 rounded-lg pl-10 pr-3 py-2.5 text-sm placeholder-zinc-400 dark:placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-zinc-900 dark:focus:ring-zinc-100 focus:border-transparent transition-all\"\n          />\n          <button\n            v-if=\"searchQuery\"\n            @click=\"searchQuery = ''\"\n            class=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-zinc-400 dark:text-zinc-500 hover:text-zinc-600 dark:hover:text-zinc-400 transition-colors\"\n          >\n            <AppIcon icon=\"close\" class=\"text-sm\" />\n          </button>\n        </div>\n      </div>\n\n      <!-- Capabilities List -->\n      <div class=\"flex-1 overflow-auto px-6 py-6 custom-scrollbar\">\n        <div\n          v-if=\"Object.keys(filteredCapabilities).length === 0\"\n          class=\"text-center py-12\"\n        >\n          <div\n            class=\"w-12 h-12 bg-zinc-100 dark:bg-zinc-800 rounded-full flex items-center justify-center mx-auto mb-3\"\n          >\n            <AppIcon icon=\"search\" class=\"text-zinc-400 text-xl\" />\n          </div>\n          <p class=\"text-sm font-medium text-zinc-900 dark:text-zinc-100 mb-1\">\n            {{ __('No capabilities found', 'uixpress') }}\n          </p>\n          <p class=\"text-xs text-zinc-500 dark:text-zinc-400\">\n            {{ __('Try adjusting your search terms', 'uixpress') }}\n          </p>\n        </div>\n\n        <div v-else class=\"space-y-4\">\n          <div\n            v-for=\"(capabilities, category) in filteredCapabilities\"\n            :key=\"category\"\n            class=\"border border-zinc-200/50 dark:border-zinc-700/30 rounded-xl overflow-hidden bg-white dark:bg-zinc-800/30\"\n          >\n            <!-- Category Header -->\n            <button\n              @click=\"toggleCategory(category)\"\n              class=\"w-full px-4 py-3.5 bg-zinc-50 dark:bg-zinc-900/50 flex items-center justify-between hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors group\"\n            >\n              <div class=\"flex items-center gap-3\">\n                <AppIcon\n                  :icon=\"\n                    isCategoryExpanded(category) ? 'expand_less' : 'expand_more'\n                  \"\n                  class=\"text-zinc-400 dark:text-zinc-500 transition-transform group-hover:text-zinc-600 dark:group-hover:text-zinc-400\"\n                />\n                <span\n                  class=\"font-semibold text-sm text-zinc-900 dark:text-zinc-100\"\n                >\n                  {{ categoryLabels[category] || category }}\n                </span>\n                <span\n                  class=\"text-xs font-medium text-zinc-500 dark:text-zinc-400 bg-zinc-200 dark:bg-zinc-700 px-2 py-0.5 rounded\"\n                >\n                  {{ capabilities.length }}\n                </span>\n                <span\n                  v-if=\"areAllSelectedInCategory(category)\"\n                  class=\"text-xs font-medium text-green-600 dark:text-green-400 flex items-center gap-1\"\n                >\n                  <AppIcon icon=\"check_circle\" class=\"text-xs\" />\n                  {{ __('All selected', 'uixpress') }}\n                </span>\n              </div>\n              <div class=\"flex items-center gap-2\">\n                <button\n                  @click.stop=\"selectAllInCategory(category)\"\n                  :disabled=\"areAllSelectedInCategory(category)\"\n                  class=\"text-xs font-medium text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 px-2.5 py-1 rounded-md hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  {{ __('Select All', 'uixpress') }}\n                </button>\n                <button\n                  @click.stop=\"deselectAllInCategory(category)\"\n                  class=\"text-xs font-medium text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 px-2.5 py-1 rounded-md hover:bg-zinc-200 dark:hover:bg-zinc-700 transition-colors\"\n                >\n                  {{ __('Deselect All', 'uixpress') }}\n                </button>\n              </div>\n            </button>\n\n            <!-- Capabilities List -->\n            <Transition\n              enter-active-class=\"transition-all duration-200 ease-out\"\n              enter-from-class=\"opacity-0 max-h-0\"\n              enter-to-class=\"opacity-100 max-h-[2000px]\"\n              leave-active-class=\"transition-all duration-200 ease-in\"\n              leave-from-class=\"opacity-100 max-h-[2000px]\"\n              leave-to-class=\"opacity-0 max-h-0\"\n            >\n              <div\n                v-if=\"isCategoryExpanded(category)\"\n                class=\"divide-y divide-zinc-100/50 dark:divide-zinc-800/30\"\n              >\n                <label\n                  v-for=\"capability in capabilities\"\n                  :key=\"capability\"\n                  class=\"flex items-center gap-3 px-4 py-3 hover:bg-zinc-50 dark:hover:bg-zinc-900/50 transition-colors cursor-pointer group\"\n                  @click=\"toggleCapability(capability)\"\n                >\n                  <AppCheckbox\n                    :checked=\"isCapabilitySelected(capability)\"\n                    class=\"flex-shrink-0\"\n                  />\n                  <div class=\"flex-1 min-w-0\">\n                    <div\n                      class=\"text-sm font-medium text-zinc-900 dark:text-zinc-100 group-hover:text-zinc-700 dark:group-hover:text-zinc-200 transition-colors\"\n                    >\n                      {{ formatCapabilityName(capability) }}\n                    </div>\n                    <div\n                      class=\"text-xs text-zinc-500 dark:text-zinc-400 font-mono mt-1 opacity-70\"\n                    >\n                      {{ capability }}\n                    </div>\n                  </div>\n                  <AppIcon\n                    v-if=\"isCapabilitySelected(capability)\"\n                    icon=\"check_circle\"\n                    class=\"text-green-500 dark:text-green-400 flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity\"\n                  />\n                </label>\n              </div>\n            </Transition>\n          </div>\n        </div>\n      </div>\n\n      <!-- Footer -->\n      <Transition\n        enter-active-class=\"transition-all duration-200 ease-out\"\n        enter-from-class=\"opacity-0 translate-y-2\"\n        enter-to-class=\"opacity-100 translate-y-0\"\n        leave-active-class=\"transition-all duration-200 ease-in\"\n        leave-from-class=\"opacity-100 translate-y-0\"\n        leave-to-class=\"opacity-0 translate-y-2\"\n      >\n        <div\n          v-if=\"hasChanges\"\n          class=\"px-6 py-4 border-t border-zinc-200/50 dark:border-zinc-700/30 bg-zinc-50 dark:bg-zinc-900/50 flex items-center justify-between shadow-lg\"\n        >\n          <div class=\"flex items-center gap-3\">\n            <div class=\"w-2 h-2 bg-amber-500 rounded-full animate-pulse\"></div>\n            <p class=\"text-sm font-medium text-zinc-700 dark:text-zinc-300\">\n              {{ __('You have unsaved changes', 'uixpress') }}\n            </p>\n            <span\n              v-if=\"isAdministrator\"\n              class=\"px-2 py-0.5 text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded\"\n            >\n              {{ __('Admin Role', 'uixpress') }}\n            </span>\n          </div>\n          <div class=\"flex items-center gap-3\">\n            <AppButton\n              @click=\"getRoleDetails\"\n              type=\"default\"\n              :disabled=\"isSaving\"\n            >\n              {{ __('Cancel', 'uixpress') }}\n            </AppButton>\n            <AppButton\n              @click=\"saveCapabilities\"\n              type=\"primary\"\n              :loading=\"isSaving\"\n              :class=\"\n                isAdministrator\n                  ? 'bg-red-600 hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-800'\n                  : ''\n              \"\n            >\n              {{ __('Save Changes', 'uixpress') }}\n            </AppButton>\n          </div>\n        </div>\n      </Transition>\n    </template>\n\n    <Confirm ref=\"confirmDialog\" />\n  </div>\n</template>\n\n<style scoped>\n/* Modern scrollbar styling */\n.custom-scrollbar {\n  scrollbar-width: thin;\n  scrollbar-color: rgb(161 161 170 / 0.5) transparent;\n}\n\n.custom-scrollbar::-webkit-scrollbar {\n  width: 8px;\n}\n\n.custom-scrollbar::-webkit-scrollbar-track {\n  background: transparent;\n  border-radius: 4px;\n}\n\n.custom-scrollbar::-webkit-scrollbar-thumb {\n  background: rgb(161 161 170 / 0.5);\n  border-radius: 4px;\n  transition: background 0.2s ease;\n}\n\n.custom-scrollbar::-webkit-scrollbar-thumb:hover {\n  background: rgb(161 161 170 / 0.8);\n}\n\n/* Dark mode scrollbar */\n.dark .custom-scrollbar {\n  scrollbar-color: rgb(113 113 122 / 0.5) transparent;\n}\n\n.dark .custom-scrollbar::-webkit-scrollbar-thumb {\n  background: rgb(113 113 122 / 0.5);\n}\n\n.dark .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n  background: rgb(113 113 122 / 0.8);\n}\n</style>\n"],"names":["appStore","useAppStore","useDarkMode","route","useRoute","router","useRouter","refreshRolesList","inject","loading","ref","roleData","allCapabilities","groupedCapabilities","selectedCapabilities","hasChanges","isSaving","searchQuery","expandedCategories","confirmDialog","isEditingRoleName","roleNameInput","isSavingRoleName","isDeletingRole","isAdministrator","computed","_a","selectedCount","totalCapabilitiesCount","selectedPercentage","filteredCapabilities","query","filtered","category","caps","cap","categoryLabels","isValidRoleSlug","slug","getRoleDetails","notify","args","data","lmnFetch","getAllCapabilities","error","toggleCapability","capability","index","isCapabilitySelected","toggleCategory","isCategoryExpanded","startEditingRoleName","cancelEditingRoleName","isValidRoleName","name","trimmed","saveRoleName","trimmedName","selectAllInCategory","deselectAllInCategory","areAllSelectedInCategory","isValidCapabilitiesArray","capabilities","saveCapabilities","formatCapabilityName","word","canDeleteRole","deleteRole","watch","_openBlock","_createElementBlock","_hoisted_1","_hoisted_2","_createElementVNode","_hoisted_3","_hoisted_4","_createVNode","AppIcon","_hoisted_5","_toDisplayString","__","_Fragment","_Transition","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_18","AppInput","$event","AppButton","_hoisted_15","_hoisted_16","_hoisted_19","_hoisted_20","_hoisted_21","_createBlock","_createTextVNode","_normalizeClass","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_renderList","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_withModifiers","_hoisted_42","_hoisted_43","_hoisted_44","AppCheckbox","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","Confirm"],"mappings":"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"}