{"version":3,"file":"index-BaSe7vMO.js","sources":["../../src/components/app/menu/src/constants.js","../../src/components/app/menu/src/extractNumberFromHtml.js","../../src/components/app/menu/src/processSubmenu.js","../../src/components/app/menu/src/getBeforeContent.js","../../src/components/app/menu/src/getDashiconClass.js","../../src/components/app/menu/src/isCurrentLocationMatch.js","../../src/components/app/menu/src/processMenu.js","../../src/components/app/menu/src/returnIconOverrides.js","../../src/components/utility/icon-select/index.vue"],"sourcesContent":["import { ref } from \"vue\";\n\nexport const loading = ref(false);\nexport const menu = ref([]);\nexport const dashIconsList = ref([]);\nexport const OGmenu = ref([]);\n","/**\n * Extracts a number from a given html string\n *\n * @param {node} html\n *\n * @return {number|null} number on success, null on failure\n * @since 3.2.13\n */\nexport const extractNumberFromHtml = (node) => {\n  if (!node || typeof DOMParser === \"undefined\") {\n    return null;\n  }\n\n  const nodes = node.getElementsByTagName(\"*\"); // get all elements\n\n  for (let node of nodes) {\n    const nodeValue = node.textContent.trim();\n    if (!isNaN(nodeValue)) {\n      return parseInt(nodeValue, 10);\n    }\n  }\n\n  return null;\n};\n","import { extractNumberFromHtml } from './extractNumberFromHtml.js';\n\n/**\n * Processes the submenu items of a given link node.\n * @param {HTMLElement} linknode - The parent link node containing submenu items.\n * @returns {Array|undefined} An array of submenu items or undefined if no submenu items are found.\n */\nexport const processSubmenu = (linknode) => {\n  const submenuitems = linknode.querySelectorAll(':scope .wp-submenu > li');\n\n  // No submenu items so bail\n  if (!submenuitems) return;\n\n  let submenu = [];\n\n  for (let li of submenuitems) {\n    const sublink = li.querySelector(':scope > a');\n\n    // No sub link\n    if (!sublink) continue;\n\n    if (sublink.classList.contains('hide-if-js')) {\n      continue;\n    }\n\n    const url = sublink.getAttribute('href');\n    const target = sublink.getAttribute('target');\n\n    // Check for current link - WordPress native detection only\n    // Direct location matching and precedence is handled in processMenu.js\n    let active = false;\n    if (\n      sublink.classList.contains('current') ||\n      li.classList.contains('current')\n    ) {\n      active = true;\n    }\n\n    // Handle naming\n    let name = sublink.innerHTML;\n\n    const nameParts = name.split('<');\n    const strippedName = nameParts[0] !== '' ? nameParts[0] : name;\n\n    // Extract notifications\n    const notifications = extractNumberFromHtml(sublink);\n    const parentid = linknode.getAttribute('id');\n    const id = `${parentid}-${url}`;\n    const sub_id = sublink.getAttribute('id');\n    const og_node = sublink;\n\n    submenu.push({\n      name: strippedName,\n      url,\n      target,\n      active,\n      id,\n      notifications,\n      sub_id,\n      og_node,\n    });\n  }\n\n  return submenu;\n};\n","/**\n * Retrieves the content and font-family of an element's :before pseudo-element.\n * @param {HTMLElement} tempElement - The element to check for :before pseudo-element styles.\n * @returns {Object} An object containing the content and font-family of the :before pseudo-element.\n */\nexport const getBeforeContent = (tempElement) => {\n  // Get the computed styles\n  const styles = window.getComputedStyle(tempElement, \":before\");\n\n  // Get the content\n  let content = styles.getPropertyValue(\"content\");\n  const font = styles.getPropertyValue(\"font-family\");\n  let backGroundImage = styles.getPropertyValue(\"background-image\");\n  backGroundImage = backGroundImage != \"none\" ? backGroundImage : false;\n\n  if (content == \"none\") content = \"\";\n\n  // Return the content (removing quotes if present)\n  return { content: content.replace(/^[\"']|[\"']$/g, \"\"), font, backGroundImage };\n};\n","/**\n * Retrieves the Dashicon class from an element's class list.\n * @param {HTMLElement} element - The element to check for Dashicon classes.\n * @returns {string|null} The Dashicon class if found, null otherwise.\n */\nexport const getDashiconClass = (element) => {\n  // Get the list of classes\n  const classes = element.classList;\n\n  // Check for dashicons-* class\n  for (let className of classes) {\n    if (className.startsWith(\"dashicons-\") && className !== \"dashicons-before\") {\n      return className;\n    }\n  }\n\n  // Return null if no matching class is found\n  return null;\n};\n","/**\n * Formats a URL by decoding it if it contains encoded characters\n * @param {string} url - The URL to format\n * @returns {string} The formatted URL\n */\nconst formatUrl = (url) => {\n  if (!url) return '';\n  \n  // Check if URL contains encoded characters\n  if (url.includes('%')) {\n    try {\n      return decodeURIComponent(url);\n    } catch (e) {\n      return url;\n    }\n  }\n  \n  return url;\n};\n\n/**\n * Checks if the current window location matches or ends with the given URL\n * Checks against both encoded and decoded versions of both the link URL and window.location\n * to handle cases where scripts (like WooCommerce) encode URLs in the address bar\n * @param {string} linkUrl - The menu item URL to check\n * @returns {boolean} True if the current location matches the link URL\n */\nexport const isCurrentLocationMatch = (linkUrl) => {\n  if (!linkUrl) return false;\n  \n  // Get current location variations (both encoded and decoded)\n  const currentLocationHref = window.location.href;\n  const currentLocationDecoded = formatUrl(currentLocationHref);\n  \n  const currentPath = window.location.pathname + window.location.search;\n  const currentPathDecoded = formatUrl(currentPath);\n  \n  const currentPathWithHash = window.location.pathname + window.location.search + window.location.hash;\n  const currentPathWithHashDecoded = formatUrl(currentPathWithHash);\n  \n  // Create array of current location variations\n  const currentLocationVariations = [\n    currentLocationHref,\n    currentLocationDecoded,\n    currentPath,\n    currentPathDecoded,\n    currentPathWithHash,\n    currentPathWithHashDecoded,\n  ];\n  \n  // Remove duplicates\n  const uniqueCurrentLocations = [...new Set(currentLocationVariations)];\n  \n  // Format the link URL\n  const formattedLinkUrl = formatUrl(linkUrl);\n  \n  // Create array of URL variations to check (both encoded and decoded)\n  const urlVariations = [\n    linkUrl, // Original (potentially encoded)\n    formattedLinkUrl, // Decoded version\n    encodeURI(linkUrl), // Explicitly encoded version\n    encodeURI(formattedLinkUrl), // Encoded version of decoded URL\n  ];\n  \n  // Remove duplicates\n  const uniqueUrlVariations = [...new Set(urlVariations)];\n  \n  // Check each URL variation against each current location variation\n  for (const urlVariation of uniqueUrlVariations) {\n    for (const currentLocation of uniqueCurrentLocations) {\n      // Check if current location ends with the URL variation\n      if (currentLocation.endsWith(urlVariation)) {\n        return true;\n      }\n      \n      // Check if the URL variation matches the current location exactly\n      if (currentLocation === urlVariation) {\n        return true;\n      }\n    }\n  }\n  \n  return false;\n};\n\n","import { loading, menu, dashIconsList } from './constants.js';\nimport { processSubmenu } from './processSubmenu.js';\nimport { extractNumberFromHtml } from './extractNumberFromHtml.js';\nimport { getBeforeContent } from './getBeforeContent.js';\nimport { getDashiconClass } from './getDashiconClass.js';\nimport { isCurrentLocationMatch } from './isCurrentLocationMatch.js';\n\n/**\n * Parses the admin menu from the DOM and sets the menu state.\n * @async\n * @param {HTMLElement} menuNode - The root node of the admin menu.\n */\nexport const processMenu = async (menuNode) => {\n  if (menuNode) menuNode = menuNode.querySelector('#adminmenu');\n\n  // There is no menu node so bail\n  if (!menuNode) return (loading.value = false);\n\n  const topLevelItems = menuNode.children;\n  const menuHolder = [];\n  dashIconsList.value = [];\n\n  // First pass: Process all items and mark them as active based on WordPress detection\n  for (let item of topLevelItems) {\n    // Separator\n    if (item.classList.contains('wp-menu-separator')) {\n      const seps = menuHolder.filter((sep) => sep.type == 'separator');\n      const id = `separator-${seps.length}`;\n      menuHolder.push({ type: 'separator', id });\n      continue;\n    }\n\n    const linkNode = item.querySelector(':scope > a');\n    const nameNode = item.querySelector(':scope .wp-menu-name');\n    const image = item.querySelector(':scope .wp-menu-image');\n    const image_as_icon = image ? image.querySelector(':scope img') : false;\n\n    // Probably a separator\n    if (!linkNode) continue;\n\n    const id = item.getAttribute('id');\n    const url = linkNode.getAttribute('href');\n    const target = linkNode.getAttribute('target');\n    const notifications = extractNumberFromHtml(nameNode);\n\n    // Check for current link - WordPress native detection first\n    let active = false;\n    if (\n      linkNode.classList.contains('current') ||\n      linkNode.getAttribute('aria-current') == 'page' ||\n      item.classList.contains('wp-menu-open')\n    ) {\n      active = true;\n    }\n\n    // Handle naming\n    let name = nameNode.innerHTML;\n    const nameParts = name.split('<');\n    const strippedName = nameParts[0] !== '' ? nameParts[0] : name;\n\n    // Get icon classes\n    let classes = image.classList ? [...image.classList] : [];\n    //classes = classes.filter((subclass) => !subclass.includes(\"wp-menu-image\"));\n    let iconStyles = classes.includes('svg') ? image.getAttribute('style') : '';\n\n    if (image_as_icon) {\n      let href = image_as_icon.getAttribute('src');\n      iconStyles = href\n        ? `background-image: url(\"${href}\");height:1.2rem;background-size:contain;`\n        : '';\n    }\n\n    const { content, font, backGroundImage } = getBeforeContent(image);\n\n    const dashClass = getDashiconClass(image);\n    if (dashClass)\n      dashIconsList.value.push({\n        class: `.${dashClass}`,\n        before: content,\n        font,\n        backGroundImage,\n      });\n\n    if (!dashClass && (backGroundImage || content))\n      dashIconsList.value.push({\n        class: `#${id} .wp-menu-image`,\n        before: content,\n        font,\n        backGroundImage,\n      });\n\n    const submenu = processSubmenu(item);\n\n    // Push to menu\n    menuHolder.push({\n      url,\n      target,\n      name: strippedName,\n      notifications,\n      imageClasses: classes,\n      iconStyles,\n      submenu,\n      active,\n      id,\n    });\n  }\n\n  // Second pass: Check for direct location matches and apply precedence\n  let directMatchFound = false;\n  let directMatchParentIndex = -1;\n\n  // First, check all submenu items for direct matches (they take precedence)\n  for (let i = 0; i < menuHolder.length; i++) {\n    const item = menuHolder[i];\n    if (item.type === 'separator' || !Array.isArray(item.submenu)) continue;\n\n    // Check submenu items for direct matches\n    for (let j = 0; j < item.submenu.length; j++) {\n      const submenuItem = item.submenu[j];\n      if (isCurrentLocationMatch(submenuItem.url)) {\n        // Found a direct match in submenu\n        directMatchFound = true;\n        directMatchParentIndex = i;\n        submenuItem.active = true;\n        submenuItem.directMatch = true;\n\n        // Deactivate other submenu items in this parent\n        for (let k = 0; k < item.submenu.length; k++) {\n          if (k !== j && !item.submenu[k].directMatch) {\n            item.submenu[k].active = false;\n          }\n        }\n\n        // Activate parent and mark it\n        item.active = true;\n        item.directMatch = true;\n        break; // Only one submenu item should match per parent\n      }\n    }\n  }\n\n  // If no submenu match found, check top-level items for direct matches\n  if (!directMatchFound) {\n    for (let i = 0; i < menuHolder.length; i++) {\n      const item = menuHolder[i];\n      if (item.type === 'separator' || !item.url) continue;\n\n      // Check if this top-level item matches directly\n      if (isCurrentLocationMatch(item.url)) {\n        directMatchFound = true;\n        directMatchParentIndex = i;\n        item.active = true;\n        item.directMatch = true;\n        break; // Only one top-level item should match\n      }\n    }\n  }\n\n  // If a direct match was found, deactivate other top-level items\n  if (directMatchFound && directMatchParentIndex >= 0) {\n    for (let i = 0; i < menuHolder.length; i++) {\n      if (i !== directMatchParentIndex && menuHolder[i].type !== 'separator') {\n        // Only deactivate if it wasn't a direct match itself\n        if (!menuHolder[i].directMatch) {\n          menuHolder[i].active = false;\n          // Also deactivate all submenu items in non-matching parents\n          if (Array.isArray(menuHolder[i].submenu)) {\n            menuHolder[i].submenu.forEach((subItem) => {\n              if (!subItem.directMatch) {\n                subItem.active = false;\n              }\n            });\n          }\n        }\n      }\n    }\n  }\n\n  return { processedMenu: [...menuHolder], dashIcons: dashIconsList.value };\n};\n","import { computed } from \"vue\";\nimport { useAppStore } from \"@/store/app/app.js\";\nlet appStore;\n/**\n * Generates CSS styles for icon overrides.\n * @param {string} dashicon - The dashicon class (unused in the function body).\n * @param {string} icon - The icon name (unused in the function body).\n * @returns {string} A string of CSS styles for icon overrides.\n */\nexport const returnIconOverrides = computed(() => {\n  if (!appStore) appStore = useAppStore();\n\n  const overrides = [\n    [\"dashboard\", \"dashboard\"],\n    [\"admin-post\", \"keep\"],\n    [\"admin-media\", \"photo_library\"],\n    [\"admin-page\", \"description\"],\n    [\"admin-comments\", \"forum\"],\n    [\"admin-appearance\", \"palette\"],\n    [\"admin-plugins\", \"extension\"],\n    [\"admin-users\", \"group\"],\n    [\"admin-tools\", \"build\"],\n    [\"admin-settings\", \"tune\"],\n    [\"archive\", \"inventory\"],\n    [\"chart-bar\", \"equalizer\"],\n  ];\n\n  const base = appStore.state.pluginBase;\n\n  return overrides\n    .map(\n      ([dashicon, icon]) => `\n  .dashicons-${dashicon}:before {\n\tcontent: '';\n\theight: 1.2rem;\n\twidth: 1.2rem;\n\tmin-height: 1.2rem;\n\tmin-width: 1.2rem;\n\tbackground-color: currentColor;\n\t-webkit-mask: url(${base}assets/icons/${icon}.svg) no-repeat center;\n\t-webkit-mask-size: contain;\n\tmask: url(${base}assets/icons/${icon}.svg) no-repeat center;\n\tmask-size: contain;\n\tfont-size: 1.2rem;\n  }\n`\n    )\n    .join(\"\");\n});\n","<script setup>\nimport { ref, defineModel } from \"vue\";\n\n// Import function\nimport { inSearch } from \"@/assets/js/functions/inSearch.js\";\n\n// Import comps\nimport AppIcon from \"@/components/utility/icons/index.vue\";\nimport ContextMenu from \"@/components/utility/context-menu/index.vue\";\nimport AppButton from \"@/components/utility/app-button/index.vue\";\nimport AppInput from \"@/components/utility/text-input/index.vue\";\n\n// Refs\nconst icon = defineModel();\nconst contextmenu = ref(null);\nconst trigger = ref(null);\nconst search = ref(\"\");\n\nconst returnThisPos = (evt) => {\n  const target = trigger.value;\n  const rect = target.getBoundingClientRect();\n  return { clientX: rect.left, clientY: rect.bottom };\n};\n\nconst selectIcon = (iconoption) => {\n  icon.value = iconoption;\n  contextmenu.value.close();\n};\n\nconst icons = [\n  \"grid\",\n  \"search\",\n  \"list\",\n  \"information\",\n  \"user\",\n  \"person\",\n  \"home\",\n  \"logout\",\n  \"pb-logo-fill\",\n  \"github\",\n  \"north_east\",\n  \"sparkles\",\n  \"pb-logo-lines\",\n  \"lock\",\n  \"link\",\n  \"cloud_upload\",\n  \"at\",\n  \"return\",\n  \"bolt\",\n  \"layers\",\n  \"arrow_up\",\n  \"tif-svgrepo-com\",\n  \"dashboard\",\n  \"chevron_right\",\n  \"tick\",\n  \"chevron_left\",\n  \"close-pane\",\n  \"open-pane\",\n  \"warning\",\n  \"sites\",\n  \"add\",\n  \"close\",\n  \"more_horiz\",\n  \"pages\",\n  \"copy\",\n  \"refresh\",\n  \"folder-open-2\",\n  \"image\",\n  \"save\",\n  \"align-arrow-up\",\n  \"sidebar\",\n  \"arrow_down\",\n  \"photos\",\n  \"redo\",\n  \"google\",\n  \"trash\",\n  \"gif-svgrepo-com\",\n  \"edit\",\n  \"credit-card\",\n  \"delete\",\n  \"command\",\n  \"reorder\",\n  \"gift\",\n  \"png-file-type-svgrepo-com\",\n  \"sort\",\n  \"undo\",\n  \"filter\",\n  \"jpeg-svgrepo-com\",\n  \"tune\",\n  \"error\",\n  \"logo\",\n  \"pdf-svgrepo-com\",\n  \"unfold\",\n  \"bmp-file-format-symbol-svgrepo-com\",\n  \"open_new\",\n  \"users\",\n  \"moon\",\n];\n</script>\n\n<template>\n  <div\n    ref=\"trigger\"\n    @click=\"contextmenu.show($event, returnThisPos($event))\"\n    class=\"p-2 border border-zinc-200 dark:border-zinc-700 rounded-lg transition-all outline outline-transparent outline-offset-[-2px] focus:outline-indigo-300 focus:shadow-xs\"\n  >\n    <AppIcon :icon=\"icon ? icon : 'home'\" class=\"text-xl\" :class=\"!icon ? 'opacity-50' : ''\" />\n  </div>\n\n  <ContextMenu ref=\"contextmenu\">\n    <div class=\"w-[260px] grid grid-cols-5 gap-4 max-h-[400px] overflow-auto\">\n      <div class=\"col-span-5 text-sm p-2\">\n        <AppInput v-model=\"search\" type=\"text\" :placeholder=\"__('Search icons', 'uixpress')\" />\n      </div>\n      <template v-for=\"iconoption in icons\">\n        <div class=\"w-full flex flex-col items-center\" v-if=\"inSearch(search, iconoption)\">\n          <AppButton @click=\"selectIcon(iconoption)\" type=\"transparent\">\n            <AppIcon :icon=\"iconoption\" class=\"text-2xl\" />\n          </AppButton>\n        </div>\n      </template>\n    </div>\n  </ContextMenu>\n</template>\n"],"names":["loading","ref","menu","dashIconsList","OGmenu","extractNumberFromHtml","node","nodes","nodeValue","processSubmenu","linknode","submenuitems","submenu","li","sublink","url","target","active","name","nameParts","strippedName","notifications","id","sub_id","og_node","getBeforeContent","tempElement","styles","content","font","backGroundImage","getDashiconClass","element","classes","className","formatUrl","isCurrentLocationMatch","linkUrl","currentLocationHref","currentLocationDecoded","currentPath","currentPathDecoded","currentPathWithHash","currentPathWithHashDecoded","currentLocationVariations","uniqueCurrentLocations","formattedLinkUrl","urlVariations","uniqueUrlVariations","urlVariation","currentLocation","processMenu","menuNode","topLevelItems","menuHolder","item","sep","linkNode","nameNode","image","image_as_icon","iconStyles","href","dashClass","directMatchFound","directMatchParentIndex","i","j","submenuItem","k","subItem","appStore","returnIconOverrides","computed","useAppStore","overrides","base","dashicon","icon","_useModel","contextmenu","trigger","search","returnThisPos","evt","rect","selectIcon","iconoption","icons","_createElementVNode","_cache","$event","_createVNode","AppIcon","_normalizeClass","ContextMenu","_hoisted_1","_hoisted_2","AppInput","__","_createElementBlock","_Fragment","_renderList","_unref","inSearch","_openBlock","_hoisted_3","AppButton"],"mappings":"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"}