import{u as Qe,r as v,c as Ze,a as ee,e as V,d,g as M,b as m,k as y,j as t,f as o,t as c,D as N,_ as b,C as z,F as U,m as B,I as ce,a9 as pe,h as T,l as G,n as S,W as Oe,E,aa as He,O as Q}from"./_plugin-vue_export-helper-y4Xv5kKr.js";import{_ as le}from"./index-BaxaBONX.js";import{_ as te}from"./index-xR3ssTK5.js";import{_ as We}from"./checkbox-OW0WsXcV.js";import{_ as Pe}from"./index-B-3JnImM.js";import{_ as ve}from"./index-C-cYCD9B.js";import{_ as Re}from"./index-DghDHKPv.js";import{f as Be}from"./formatDateString-CpJBBOOJ.js";const we="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IS0tIFVwbG9hZGVkIHRvOiBTVkcgUmVwbywgd3d3LnN2Z3JlcG8uY29tLCBHZW5lcmF0b3I6IFNWRyBSZXBvIE1peGVyIFRvb2xzIC0tPg0KPHN2ZyB3aWR0aD0iODAwcHgiIGhlaWdodD0iODAwcHgiIHZpZXdCb3g9IjAgMCAxMjAgMTIwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPg0KPHJlY3Qgd2lkdGg9IjEyMCIgaGVpZ2h0PSIxMjAiIGZpbGw9IiNFRkYxRjMiLz4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMzMuMjUwMyAzOC40ODE2QzMzLjI2MDMgMzcuMDQ3MiAzNC40MTk5IDM1Ljg4NjQgMzUuODU0MyAzNS44NzVIODMuMTQ2M0M4NC41ODQ4IDM1Ljg3NSA4NS43NTAzIDM3LjA0MzEgODUuNzUwMyAzOC40ODE2VjgwLjUxODRDODUuNzQwMyA4MS45NTI4IDg0LjU4MDcgODMuMTEzNiA4My4xNDYzIDgzLjEyNUgzNS44NTQzQzM0LjQxNTggODMuMTIzNiAzMy4yNTAzIDgxLjk1NyAzMy4yNTAzIDgwLjUxODRWMzguNDgxNlpNODAuNTAwNiA0MS4xMjUxSDM4LjUwMDZWNzcuODc1MUw2Mi44OTIxIDUzLjQ3ODNDNjMuOTE3MiA1Mi40NTM2IDY1LjU3ODggNTIuNDUzNiA2Ni42MDM5IDUzLjQ3ODNMODAuNTAwNiA2Ny40MDEzVjQxLjEyNTFaTTQzLjc1IDUxLjYyNDlDNDMuNzUgNTQuNTI0NCA0Ni4xMDA1IDU2Ljg3NDkgNDkgNTYuODc0OUM1MS44OTk1IDU2Ljg3NDkgNTQuMjUgNTQuNTI0NCA1NC4yNSA1MS42MjQ5QzU0LjI1IDQ4LjcyNTQgNTEuODk5NSA0Ni4zNzQ5IDQ5IDQ2LjM3NDlDNDYuMTAwNSA0Ni4zNzQ5IDQzLjc1IDQ4LjcyNTQgNDMuNzUgNTEuNjI0OVoiIGZpbGw9IiM2ODc3ODciLz4NCjwvc3ZnPg==",Ge="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IS0tIFVwbG9hZGVkIHRvOiBTVkcgUmVwbywgd3d3LnN2Z3JlcG8uY29tLCBHZW5lcmF0b3I6IFNWRyBSZXBvIE1peGVyIFRvb2xzIC0tPg0KPHN2ZyBmaWxsPSJjdXJyZW50Q29sb3IiIHdpZHRoPSI4MDBweCIgaGVpZ2h0PSI4MDBweCIgdmlld0JveD0iLTEyIC0xMiA1MCA1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMiwyMUg2YTEsMSwwLDAsMCwwLTJINS4zNzZsMS45NTEtNmg1LjM0NmwxLjk1LDZIMTRhMSwxLDAsMCwwLDAsMmg0YTEsMSwwLDAsMCwwLTJIMTYuNzI3TDExLjc1MSwzLjY5QTEsMSwwLDAsMCwxMC44LDNIOS4yYTEsMSwwLDAsMC0uOTUxLjY5TDMuMjczLDE5SDJhMSwxLDAsMCwwLDAsMlpNOS45MjcsNWguMTQ2bDEuOTUsNkg3Ljk3N1pNMjMsMTZhMSwxLDAsMCwxLTEsMUgxOWExLDEsMCwwLDEsMC0yaC4zNjVsLS41ODYtMS42OTJIMTdhMSwxLDAsMCwxLDAtMmgxLjA4N0wxNy4yODgsOWgtLjU3NmwtLjExMy4zMjdhMSwxLDAsMCwxLTEuODkxLS42NTRsLjM0Ni0xQTEsMSwwLDAsMSwxNiw3aDJhMSwxLDAsMCwxLC45NDUuNjczTDIxLjQ4MSwxNUgyMkExLDEsMCwwLDEsMjMsMTZaIi8+PC9zdmc+",Ye="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9Ii0xMiAtMTIgNTAgNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik00Ljc1IDE1LjI1VjEyLjI1TTQuNzUgMTIuMjVWOC43NUg2LjI1QzYuODAyMjggOC43NSA3LjI1IDkuMTk3NzIgNy4yNSA5Ljc1VjExLjI1QzcuMjUgMTEuODAyMyA2LjgwMjI4IDEyLjI1IDYuMjUgMTIuMjVINC43NVoiIHN0cm9rZT0iY3VycmVudENvbG9yIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMS4yNSA4Ljc1SDkuNzVWMTUuMjVIMTEuMjVDMTIuMzU0NiAxNS4yNSAxMy4yNSAxNC4zNTQ2IDEzLjI1IDEzLjI1VjEwLjc1QzEzLjI1IDkuNjQ1NDMgMTIuMzU0NiA4Ljc1IDExLjI1IDguNzVaIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMTguMjUgOC43NUgxNS43NVYxMS43NU0xNS43NSAxNS4yNVYxMS43NU0xNS43NSAxMS43NUgxOC4yNSIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+Cg==",Je="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9Ii0xMiAtMTIgNTAgNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xNy4yNSA0Ljc1SDYuNzVDNS42NDU0MyA0Ljc1IDQuNzUgNS42NDU0MyA0Ljc1IDYuNzVWMTcuMjVDNC43NSAxOC4zNTQ2IDUuNjQ1NDMgMTkuMjUgNi43NSAxOS4yNUgxNy4yNUMxOC4zNTQ2IDE5LjI1IDE5LjI1IDE4LjM1NDYgMTkuMjUgMTcuMjVWNi43NUMxOS4yNSA1LjY0NTQzIDE4LjM1NDYgNC43NSAxNy4yNSA0Ljc1WiIgc3Ryb2tlPSJjdXJyZW50Q29sb3IiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTEyIDE1LjI1VjEzLjc1IiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMTIgMTEuMjVWMTAuNzUiIHN0cm9rZT0iY3VycmVudENvbG9yIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMiA4LjI1VjcuNzUiIHN0cm9rZT0iY3VycmVudENvbG9yIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMiA1LjI1VjQuNzUiIHN0cm9rZT0iY3VycmVudENvbG9yIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo=",Fe="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAtOTYwIDk2MCA5NjAiIHdpZHRoPSIyNHB4IiBmaWxsPSIjZThlYWVkIj48cGF0aCBkPSJNMzYwLTI0MGgyNDBxMTcgMCAyOC41LTExLjVUNjQwLTI4MHEwLTE3LTExLjUtMjguNVQ2MDAtMzIwSDM2MHEtMTcgMC0yOC41IDExLjVUMzIwLTI4MHEwIDE3IDExLjUgMjguNVQzNjAtMjQwWm0wLTE2MGgyNDBxMTcgMCAyOC41LTExLjVUNjQwLTQ0MHEwLTE3LTExLjUtMjguNVQ2MDAtNDgwSDM2MHEtMTcgMC0yOC41IDExLjVUMzIwLTQ0MHEwIDE3IDExLjUgMjguNVQzNjAtNDAwWk0yNDAtODBxLTMzIDAtNTYuNS0yMy41VDE2MC0xNjB2LTY0MHEwLTMzIDIzLjUtNTYuNVQyNDAtODgwaDI4N3ExNiAwIDMwLjUgNnQyNS41IDE3bDE5NCAxOTRxMTEgMTEgMTcgMjUuNXQ2IDMwLjV2NDQ3cTAgMzMtMjMuNSA1Ni41VDcyMC04MEgyNDBabTI4MC01NjB2LTE2MEgyNDB2NjQwaDQ4MHYtNDQwSDU2MHEtMTcgMC0yOC41LTExLjVUNTIwLTY0MFpNMjQwLTgwMHYyMDAtMjAwIDY0MC02NDBaIi8+PC9zdmc+",ge=(I,D)=>{if(!I)return we;const Z=I.mime_type,j=I.media_type;let h=Xe(Z);if(j&&j!="image")return h;if(!("media_details"in I)||!("sizes"in I.media_details))return I.source_url;const w=I.media_details.sizes;if(D&&D in w)return w[D].source_url;if("medium"in w)return w.medium.source_url;if("medium_large"in w)return w.medium_large.source_url;if("large"in w)return w.large.source_url;if("full"in w)return w.full.source_url;if("thumbnail"in w)return w.thumbnail.source_url;const g=w[Object.keys(w)[0]]||I.source_url;return g||h},Xe=I=>{let D=we;return I&&(I.includes("font")&&(D=Ge),I.includes("zip")&&(D=Je),I.includes("pdf")&&(D=Ye),I.includes("text")&&(D=Fe)),D},$e={class:"flex flex-row items-center place-content-between p-6 pb-0"},Ke={class:"font-semibold"},qe={class:"flex flex-row gap-3 p-6 border-b border-zinc-200 dark:border-zinc-700 items-center"},el={class:"grow flex place-items-start gap-3"},ll={class:"flex flex-row gap-2"},tl={key:0,class:"flex flex-row items-center gap-3"},al={class:"text-sm"},sl={key:1,class:"flex flex-row items-center gap-3"},il={class:"text-sm"},nl={class:"flex flex-col gap-2 p-3"},ol=["onClick"],ul=["id","value"],rl={class:"flex flex-row items-center gap-3"},dl={class:"flex flex-col gap-2 p-3"},cl=["onClick"],pl=["id","value"],vl=["accept"],gl={class:"flex flex-col gap-3 items-center p-3"},wl=["onClick"],xl={class:"w-full h-full aspect-square rounded-lg overflow-hidden relative border border-zinc-200 dark:border-zinc-700 p-1 bg-white dark:bg-zinc-900"},ml={class:"bg-zinc-100 dark:bg-zinc-800 rounded-lg relative max-h-full overflow-hidden max-w-full h-full"},fl=["src"],Ml={key:1,class:"absolute top-0 left-0 right-0 bottom-0 bg-zinc-900/30 pointer-events-none rounded-lg flex flex-col place-content-center justify-center items-center"},Il={key:2,class:"absolute p-3 right-0 bottom-0 opacity-0 group-hover/media:opacity-100 transition-opacity"},yl=["onClick"],Nl=["innerHTML"],Dl={key:2,class:"@[300px]:col-span-3 @[500px]:col-span-4 @[700px]:col-span-6 p-6 flex flex-row place-content-center"},_l={key:0,class:"flex flex-col place-content-center justify-center items-center gap-2 text-center h-full"},bl={class:"font-semibold text-xl"},jl={class:"text-zinc-500"},zl={class:"flex flex-row items-center place-content-between"},Ll={key:0,class:"grid grid-cols-3 pl-3 pt-6 gap-3"},Tl={class:"text-zinc-500 pt-2"},hl={class:"col-span-2"},Cl={class:"text-zinc-500 pt-2"},kl={class:"col-span-2"},Sl={class:"text-zinc-500 pt-2"},Al={class:"col-span-2"},Vl={class:"text-zinc-500 pt-2"},Ul={class:"col-span-2"},El={class:"text-zinc-500 pt-2"},Ql={class:"col-span-2"},Zl={class:"col-span-3 flex flex-row place-content-end"},Ol={class:"flex min-h-0 my-6 flex items-center flex-row gap-1 place-content-between grow"},Hl={class:"h-fit w-fit rounded-xl overflow-hidden border border-zinc-200 dark:border-zinc-700 p-2 bg-white dark:bg-zinc-900"},Wl={class:"bg-zinc-100 dark:bg-zinc-800 rounded-xl"},Pl=["src"],Rl={class:"flex-none flex flex-col"},Bl=["innerHTML"],Gl={class:"flex flex-row gap-2"},Yl={class:"text-sm text-zinc-500"},Jl={key:0,class:"text-sm text-zinc-500"},Fl={key:1,class:"text-sm text-zinc-500"},Xl={class:"text-sm text-zinc-500"},$l={class:"flex flex-row items-center place-content-between gap-3 p-6 border-t border-zinc-200 dark:border-zinc-700"},Kl={class:"grow flex flex-row items-center gap-3 text-sm"},ut={__name:"index",setup(I,{expose:D}){const Z=Qe(),j=v(!1),h=v(!1),w=v(!1),g=v([]),r=v([]),s=v(null),ae=v(null),se=v(null),O=v(null),Y=v(0),H=v("preview"),J=v(null),C=v(!1),ie=v(null),F=v(!1),X=v(null),xe=v(null),W=v(null),A=v(null),$=v(!1),L=v({dragging:!1,fileCount:0,dragCounter:0}),n=v({search:"",per_page:30,page:1,pages:0,total:0,context:"edit",media_type:null,orderby:"date",order:"desc"}),me=[{label:(0,window.wp.i18n.__)("Date","uixpress"),value:"date"},{label:(0,window.wp.i18n.__)("ID","uixpress"),value:"id"},{label:(0,window.wp.i18n.__)("Modified","uixpress"),value:"modified"},{label:(0,window.wp.i18n.__)("Slug","uixpress"),value:"slug"},{label:(0,window.wp.i18n.__)("Title","uixpress"),value:"title"}],ne=[{label:"All Media",value:null},{label:"Images",value:"image"},{label:"Video",value:"video"},{label:"Text",value:"text"},{label:"Applications",value:"application"},{label:"Audio",value:"audio"}],fe={preview:{label:"Preview",value:"preview"},details:{label:"Details",value:"details"}},Me=({single:l=!1,chosen:e=[]})=>(k(),w.value=!0,new Promise((i,u)=>{X.value=i,xe.value=u})),k=async l=>{var u;l?h.value=!0:j.value=!0,Y.value++;const e={endpoint:"wp/v2/media",params:n.value,signal:(u=O.value)==null?void 0:u.signal},i=await E(e);Y.value--,Y.value===0&&(j.value=!1),h.value=!1,i&&(r.value=[...r.value,...i.data],n.value.pages=i.totalPages,n.value.total=i.totalItems)},Ie=async({target:l})=>{const e=l.scrollTop,i=l.clientHeight,u=l.scrollHeight;e+i>=u-5&&!j.value&&ye()},ye=()=>{n.value.page!=n.value.pages&&(n.value.page+=1,k(!0))},P=l=>(Array.isArray(g.value)||(g.value=[]),!!g.value.find(e=>e.id==l.id)),Ne=(l,e)=>{const i=r.value.findIndex(u=>u.id===l.id);if(e.shiftKey&&A.value!==null){const u=Math.min(A.value,i),x=Math.max(A.value,i),p=r.value.slice(u,x+1);g.value=[...new Set([...g.value,...p])]}else P(l)?g.value=g.value.filter(u=>u.id!==l.id):g.value=[...g.value,l],A.value=i},oe=()=>{g.value=[],A.value=null},De=l=>{s.value=l},_e=()=>{const l=r.value.findIndex(e=>e.id==s.value.id);if(l>=1){const e=l-1;s.value=r.value[e]}},be=()=>{const l=r.value.findIndex(e=>e.id==s.value.id);if(l<r.value.length-1){const e=l+1;s.value=r.value[e]}},je=l=>{const e=ne.find(i=>i.value==l);return e?e.label:l},R=async()=>{const l={title:s.value.title.raw,description:s.value.description.raw,caption:s.value.caption.raw,alt_text:s.value.alt_text},e={endpoint:`wp/v2/media/${s.value.id}`,params:{},data:l,type:"POST"};await E(e),Q({title:(0,window.wp.i18n.__)("File updated","uixpress"),type:"success"})},ze=async()=>{await J.value.show({title:(0,window.wp.i18n.__)("Are you sure?","uixpress"),message:(0,window.wp.i18n.__)("Are you sure you want to delete this item? This action cannot be undone.","uixpress"),okButton:(0,window.wp.i18n.__)("Yes delete it","uixpress")})&&(C.value=!0,await ue(s.value.id),C.value=!1,s.value=null,Q({title:(0,window.wp.i18n.__)("File deleted","uixpress"),type:"success"}))},ue=async l=>{const e={endpoint:`wp/v2/media/${l}`,params:{force:!0},type:"DELETE"};if(!await E(e))return;const u=r.value.findIndex(x=>x.id==l);u>=0&&r.value.splice(u,1)},Le=async()=>{$.value=!0;for(let l of g.value){const e=l.source_url.split(".").pop().toLowerCase(),i=`${l.title.rendered}.${e}`,x=await(await fetch(l.source_url)).blob(),p=`image/${e==="jpg"?"jpeg":e}`,a=new Blob([x],{type:p}),_=new File([a],i,{type:p}),f=new FormData;f.append("file",_),f.append("title",l.title.rendered),f.append("alt_text",l.alt_text),f.append("caption",l.caption.rendered),f.append("description",l.description.rendered);const de=await E({endpoint:"wp/v2/media",params:{},type:"POST",data:f,isFormData:!0});de&&(r.value=[de.data,...r.value])}$.value=!1,oe(),Q({title:(0,window.wp.i18n.__)("Files duplicated","uixpress"),type:"success"})},Te=async()=>{if(await J.value.show({title:(0,window.wp.i18n.__)("Are you sure?","uixpress"),message:(0,window.wp.i18n.__)("Are you sure you want to delete these files? This action cannot be undone.","uixpress"),okButton:(0,window.wp.i18n.__)("Yes delete them","uixpress")})){C.value=!0;for(let e of g.value)await ue(e.id);C.value=!1,g.value=[],Q({title:(0,window.wp.i18n.__)("Files deleted","uixpress"),type:"success"})}},re=async(l,e)=>{L.value.dragging=!1,F.value=!0;const i=e?he(l):l.target.files,u=[];for(let x=0;x<i.length;x++){const p=i[x];if(!Z.state.mimeTypes.includes(p.type))continue;const _={id:He(),name:p.name,size:p.size,type:p.type,mime_type:p.type,lastModified:p.lastModified,uploading:!0,title:{rendered:p.name,raw:p.name},rawFile:p};if(p.type.startsWith("image/")){const f=await ke(p);_.source_url=f}u.push(_)}r.value=[...u,...r.value];for(let x of u)await Ce(x.rawFile,x.id);F.value=!1},he=l=>{let e=[];if(l.dataTransfer.items)for(let i=0;i<l.dataTransfer.items.length;i++)l.dataTransfer.items[i].kind==="file"&&e.push(l.dataTransfer.items[i].getAsFile());else event.dataTransfer.files&&(e=l.dataTransfer.files);return e},Ce=async(l,e)=>{const i=new FormData;i.append("file",l);const x=await E({endpoint:"wp/v2/media",params:{},type:"POST",data:i,isFormData:!0});if(!x)return;const p=r.value.findIndex(a=>a.id===e);p>=0&&r.value.splice(p,1,x.data),Q({title:(0,window.wp.i18n.__)("File uploaded","uixpress"),message:l.name,type:"success"})},ke=l=>new Promise(e=>{const i=new FileReader;i.onload=u=>e(u.target.result),i.readAsDataURL(l)}),Se=l=>{L.value.dragging=!0,L.value.dragCounter++,L.value.dragCounter},Ae=l=>{L.value.dragCounter--,L.value.dragCounter===0&&(L.value.dragging=!1)},Ve=()=>{X.value(g.value),g.value=[],w.value=!1,s.value=null},K=()=>{X.value(!1),g.value=[],w.value=!1,s.value=null},Ue=l=>{W.value&&(W.value.contains(l.target)||W.value==l.target||K())},q=Ze(()=>g.value?g.value.length:!1),Ee=()=>{n.value.order==="asc"?n.value.order="desc":n.value.order="asc",r.value=[],s.value=null,n.value.page=1,n.value.pages=0,k()};return ee(()=>n.value.search,(l,e)=>{O.value&&O.value.abort(),O.value=new AbortController,j.value=!0,s.value=null,n.value.page=1,n.value.pages=0,r.value=[],k()}),ee(()=>n.value.orderby,(l,e)=>{r.value=[],s.value=null,n.value.page=1,n.value.pages=0,k()}),ee(()=>n.value.media_type,(l,e)=>{r.value=[],s.value=null,n.value.page=1,n.value.pages=0,k()}),D({select:Me}),(l,e)=>(d(),V(Oe,null,{default:M(()=>{var i,u,x,p;return[w.value?(d(),m("div",{key:0,class:"fixed top-0 left-0 right-0 h-dvh max-h-dvh max-w-dvw bg-zinc-900/40 flex flex-row z-[99999] items-center place-content-center",onClick:Ue},[t("div",{class:"w-[900px] max-w-full rounded-xl shadow-lg bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 flex flex-col h-[700px] max-h-[100dvh]",ref_key:"mediapanel",ref:W},[t("div",$e,[t("div",Ke,c(l.__("Media Library","uixpress")),1),o(N,{type:"transparent",onClick:K},{default:M(()=>[o(b,{icon:"close"})]),_:1})]),t("div",qe,[t("div",el,[o(le,{type:"text",modelValue:n.value.search,"onUpdate:modelValue":e[0]||(e[0]=a=>n.value.search=a),icon:"search",placeholder:l.__("Search","uixpress")},null,8,["modelValue","placeholder"])]),t("div",ll,[o(N,{type:"default",onClick:e[2]||(e[2]=a=>se.value.show(a))},{default:M(()=>[n.value.media_type?(d(),m("div",sl,[t("span",il,c(je(n.value.media_type)),1),o(b,{icon:"close",class:"cursor-pointer",onClick:e[1]||(e[1]=z(a=>n.value.media_type=null,["stop","prevent"]))})])):(d(),m("div",tl,[t("span",al,c(l.__("File type","uixpress")),1),o(b,{icon:"unfold"})]))]),_:1}),o(ve,{ref_key:"typesPanel",ref:se},{default:M(()=>[t("fieldset",nl,[(d(),m(U,null,B(ne,(a,_)=>t("label",{key:_,class:"flex flex-row gap-2 items-center",onClick:f=>n.value.media_type=a.value},[ce(t("input",{type:"radio",id:a.value,name:"orderby",value:a.value,"onUpdate:modelValue":e[3]||(e[3]=f=>n.value.media_type=f)},null,8,ul),[[pe,n.value.media_type]]),t("span",null,c(a.label),1)],8,ol)),64))])]),_:1},512),o(N,{type:"default",onClick:Ee},{default:M(()=>[t("div",rl,[o(b,{icon:n.value.order=="asc"?"arrow_up":"arrow_down"},null,8,["icon"])])]),_:1}),o(N,{type:"default",onClick:e[4]||(e[4]=a=>ae.value.show(a))},{default:M(()=>[o(b,{icon:"sort",class:"text-lg"})]),_:1}),o(ve,{ref_key:"filterPanel",ref:ae},{default:M(()=>[t("fieldset",dl,[(d(),m(U,null,B(me,(a,_)=>t("label",{key:_,class:"flex flex-row gap-2 items-center",onClick:f=>n.value.orderby=a.value},[ce(t("input",{type:"radio",id:a.value,name:"orderby",value:a.value,"onUpdate:modelValue":e[5]||(e[5]=f=>n.value.orderby=f)},null,8,pl),[[pe,n.value.orderby]]),t("span",null,c(a.label),1)],8,cl)),64))])]),_:1},512),o(N,{type:"default",class:"text-sm",onClick:e[7]||(e[7]=a=>ie.value.click(a)),loading:F.value},{default:M(()=>[T(c(l.__("Upload","uixpress"))+" ",1),t("input",{type:"file",ref_key:"imageupload",ref:ie,multiple:"",accept:G(Z).state.mimeTypes.join(","),onChange:e[6]||(e[6]=a=>re(a,!1)),class:"hidden"},null,40,vl)]),_:1},8,["loading"])])]),t("div",{class:S(["grow overflow-hidden",s.value?"flex flex-row":""])},[t("div",{class:S(["@container max-h-full h-full",s.value?"w-1/2 flex-shrink-0":""])},[t("div",{class:S(["grid gap-3 max-h-full overflow-auto @[300px]:grid-cols-3 @[500px]:grid-cols-4 @[700px]:grid-cols-6 px-6 py-4",L.value.dragging?"bg-indigo-900/20":""]),onScroll:Ie,onDragenter:z(Se,["prevent"]),onDragover:e[8]||(e[8]=z(()=>{},["prevent"])),onDragleave:Ae,onDrop:e[9]||(e[9]=z(a=>re(a,!0),["prevent"]))},[j.value?(d(),m(U,{key:0},B(24,a=>t("div",gl,[...e[17]||(e[17]=[t("div",{class:"w-full aspect-square rounded-lg bg-zinc-100 dark:bg-zinc-800 animate-pulse"},null,-1),t("div",{class:"w-2/3 h-6 rounded-lg bg-zinc-100 dark:bg-zinc-800 animate-pulse"},null,-1)])])),64)):(d(!0),m(U,{key:1},B(r.value,(a,_)=>(d(),m("div",{class:S(["flex flex-col gap-3 items-center p-3 rounded hover:bg-zinc-100 hover:dark:bg-zinc-800 transition-colors rounded-lg cursor-pointer group/media",P(a)?"bg-zinc-100 dark:bg-zinc-800":""]),onClick:f=>Ne(a,f),key:_},[t("div",xl,[t("div",ml,[t("img",{src:G(ge)(a),class:"w-full object-contain object-center h-full rounded-lg"},null,8,fl),e[18]||(e[18]=t("div",{class:"absolute top-0 left-0 right-0 bottom-0 bg-zinc-900/30 opacity-0 group-hover/media:opacity-100 transition-opacity pointer-events-none rounded-lg"},null,-1))]),a.uploading?y("",!0):(d(),m("div",{key:0,class:S(["absolute p-3 top-0 left-0 group-hover/media:opacity-100 transition-opacity",P(a)?"opacity-100":"opacity-0"])},[(d(),V(We,{isactive:P(a),key:_},null,8,["isactive"]))],2)),a.uploading?(d(),m("div",Ml,[...e[19]||(e[19]=[t("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-indigo-800",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):y("",!0),a.uploading?y("",!0):(d(),m("div",Il,[t("div",{class:"rounded bg-indigo-700 p-1 text-white cursor-pointer",onClick:z(f=>De(a),["stop","prevent"])},[o(b,{icon:"preview"})],8,yl)]))]),t("div",{class:"text-sm truncate max-w-full w-full text-center",innerHTML:a.title.rendered},null,8,Nl)],10,wl))),128)),h.value?(d(),m("div",Dl,[...e[20]||(e[20]=[t("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-indigo-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):y("",!0)],34),!j.value&&!r.value.length?(d(),m("div",_l,[o(b,{icon:"search",class:"text-4xl"}),t("div",bl,c(l.__("No results found","uixpress")),1),t("div",jl,c(l.__("Edit your search criteria, or upload a new file.","uixpress")),1)])):y("",!0)],2),s.value?(d(),m("div",{key:0,class:S(["bg-zinc-100 dark:bg-zinc-800 h-full max-h-full overflow-hidden flex flex-col p-6",s.value?"w-1/2 flex-shrink-0":""])},[t("div",zl,[o(Pe,{options:fe,modelValue:H.value,"onUpdate:modelValue":e[10]||(e[10]=a=>H.value=a),style:{width:"auto"}},null,8,["modelValue"]),o(N,{type:"transparent",onClick:e[11]||(e[11]=z(a=>s.value=null,["stop"]))},{default:M(()=>[o(b,{icon:"close"})]),_:1})]),H.value=="details"?(d(),m("div",Ll,[t("div",Tl,[t("span",null,c(l.__("Title","uixpress")),1)]),t("div",hl,[o(le,{type:"text",modelValue:s.value.title.raw,"onUpdate:modelValue":e[12]||(e[12]=a=>s.value.title.raw=a),onChange:R},null,8,["modelValue"])]),t("div",Cl,[t("span",null,c(l.__("Alt text","uixpress")),1)]),t("div",kl,[o(te,{type:"text",modelValue:s.value.alt_text,"onUpdate:modelValue":e[13]||(e[13]=a=>s.value.alt_text=a),onChange:R},null,8,["modelValue"])]),t("div",Sl,[t("span",null,c(l.__("Caption","uixpress")),1)]),t("div",Al,[o(te,{type:"text",modelValue:s.value.caption.raw,"onUpdate:modelValue":e[14]||(e[14]=a=>s.value.caption.raw=a),onChange:R},null,8,["modelValue"])]),t("div",Vl,[t("span",null,c(l.__("Description","uixpress")),1)]),t("div",Ul,[o(te,{type:"text",modelValue:s.value.description.raw,"onUpdate:modelValue":e[15]||(e[15]=a=>s.value.description.raw=a),onChange:R},null,8,["modelValue"])]),t("div",El,[t("span",null,c(l.__("URL","uixpress")),1)]),t("div",Ql,[o(le,{type:"text",modelValue:s.value.link,"onUpdate:modelValue":e[16]||(e[16]=a=>s.value.link=a),disabled:!0,copy:!0},null,8,["modelValue"])]),t("div",Zl,[o(N,{type:"danger",onClick:ze,class:"text-sm",loading:C.value},{default:M(()=>[T(c(l.__("Delete file","uixpress")),1)]),_:1},8,["loading"])])])):y("",!0),H.value=="preview"?(d(),m(U,{key:1},[t("div",Ol,[o(N,{type:"transparent",class:"shrink-0 flex-nowrap",onClick:_e},{default:M(()=>[o(b,{icon:"chevron_left"})]),_:1}),t("div",Hl,[t("div",Wl,[t("img",{src:G(ge)(s.value,"large"),class:"max-w-full max-h-[240px] object-contain object-center rounded-lg"},null,8,Pl)])]),o(N,{type:"transparent",class:"shrink-0 flex-nowrap",onClick:be},{default:M(()=>[o(b,{icon:"chevron_right"})]),_:1})]),t("div",Rl,[t("div",{class:"font-semibold",innerHTML:s.value.title.rendered},null,8,Bl),t("div",Gl,[t("div",Yl,c(G(Be)(s.value.date)),1),(i=s.value.media_details)!=null&&i.width?(d(),m("div",Jl,"|")):y("",!0),(u=s.value.media_details)!=null&&u.width?(d(),m("div",Fl,c((x=s.value.media_details)==null?void 0:x.width)+" x "+c((p=s.value.media_details)==null?void 0:p.height),1)):y("",!0),e[21]||(e[21]=t("div",{class:"text-sm text-zinc-500"},"|",-1)),t("div",Xl,"ID: "+c(s.value.id),1)])])],64)):y("",!0)],2)):y("",!0)],2),t("div",$l,[t("div",Kl,[q.value?(d(),V(N,{key:0,type:"danger",onClick:z(Te,["stop"]),loading:C.value},{default:M(()=>[T(c(l.__("Delete selected","uixpress")),1)]),_:1},8,["loading"])):y("",!0),q.value?(d(),V(N,{key:1,type:"default",onClick:z(Le,["stop"]),loading:$.value},{default:M(()=>[T(c(l.__("Duplicate selected","uixpress")),1)]),_:1},8,["loading"])):y("",!0),q.value?(d(),V(N,{key:2,type:"transparent",onClick:z(oe,["stop"])},{default:M(()=>[T(c(l.__("Clear selection","uixpress")),1)]),_:1})):y("",!0)]),o(Re,{ref_key:"confirm",ref:J},null,512),o(N,{type:"default",onClick:K},{default:M(()=>[T(c(l.__("Cancel","uixpress")),1)]),_:1}),o(N,{type:"primary",onClick:Ve},{default:M(()=>[T(c(l.__("Done","uixpress")),1)]),_:1})])],512)])):y("",!0)]}),_:1}))}};export{ut as _};
//# sourceMappingURL=index-CeMQa9Zn.js.map
