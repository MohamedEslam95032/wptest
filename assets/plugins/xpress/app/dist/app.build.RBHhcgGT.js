import{r as q,u as M,c as u,w as F,o as L,a as p,b,d,e as y,f as m,g as x,h as E,i as _,j as w,k as H,t as G,l as g,n as v,F as O,m as Y,S as K,p as J,q as Q,s as W,v as X,x as Z}from"./assets/_plugin-vue_export-helper-y4Xv5kKr.js";import{L as ee,_ as te}from"./assets/index-C_FNz6s0.js";import{A as se,T as ae}from"./assets/index-27NpNvnn.js";import{h as T}from"./assets/hexToRgb-v71kCAmo.js";import{i as ne}from"./assets/isObject-CInHxCpH.js";import{s as re,u as oe}from"./assets/useColorScheme-CSURGKQC.js";import"./assets/HooksSystem-DXZs27Nq.js";import"./assets/_commonjsHelpers-CqkleIqs.js";import"./assets/vue-router-mJSwnJkd.js";import"./assets/inSearch-uRPV3sBV.js";import"./assets/index-DghDHKPv.js";import"./assets/index-BaSe7vMO.js";import"./assets/index-C-cYCD9B.js";import"./assets/index-BaxaBONX.js";import"./assets/vue-draggable-next.esm-bundler-BRtBwvW6.js";import"./assets/index-BKyH2sbb.js";const ie=Symbol("adoptedStyleSheets"),de={class:"bg-white dark:bg-zinc-900 fixed top-0 left-0 z-[2] h-screen text-zinc-700 dark:text-zinc-300"},le={class:"uipx-normalize fixed top-0 left-0 right-0 z-[999999]"},ce=["id","href"],ue={__name:"menu-wrapper",setup(n){re();const{prefersDark:o}=oe(),i=q(new CSSStyleSheet);Q(ie,i);const a=M(),D=()=>{let e=document.querySelector("#uixpress-css");if(!e)e=N(),e.onload=()=>{const t=e.sheet;for(const s of[...t.cssRules].reverse())i.value.insertRule(s.cssText);z()};else{const t=e.sheet;for(const s of[...t.cssRules].reverse())i.value.insertRule(s.cssText);z()}},N=()=>{var e=document.createElement("link");return e.rel="stylesheet",e.href=`${a.state.pluginBase}app/dist/assets/styles/app.css`,document.head.appendChild(e),e},k=u(()=>{var e;return((e=a.state.uixpress_settings)==null?void 0:e.custom_css)||""}),c=u(()=>{var e;return(e=a.state.uixpress_settings)==null?void 0:e.layout}),R=()=>{var C;const e=new URL(window.location.href),t=new URLSearchParams(e.search);if(t.has("page"))return t.get("page");const s=e.pathname,r=((C=a.state.adminUrl)==null?void 0:C.replace(window.location.origin,""))||"/wp-admin/";return s.includes(r)?s.replace(r,"")||"index.php":s},V=()=>{var s;const e=((s=a.state.uixpress_settings)==null?void 0:s.magic_dark_mode_pages)||[],t=R();return e.includes(t)},S=u(()=>o.value&&V()),z=()=>{if(Array.isArray(a.state.uixpress_settings.base_theme_scale)){const e=a.state.uixpress_settings.base_theme_scale;for(let t of e){const s=T(t.color),r=`--uix-base-${t.step}`;document.documentElement.style.setProperty(r,s.join(" "))}}if(Array.isArray(a.state.uixpress_settings.accent_theme_scale)){const e=a.state.uixpress_settings.accent_theme_scale;for(let t of e){const s=T(t.color),r=`--uix-accent-${t.step}`;document.documentElement.style.setProperty(r,s.join(" "))}}},I=async()=>{if(!document.startViewTransition)return;let e=!1;window.navigation.addEventListener("navigate",t=>{const s=new URL(t.destination.url);location.origin===s.origin&&(t.navigationType==="reload"||t.navigationType==="replace"||e||s&&s.hash||(a.updateState("loading",!0),setTimeout(()=>{a.updateState("loading",!1)},5e3)))})};F(()=>{o.value?document.body.classList.add("dark"):document.body.classList.remove("dark")}),document.body.classList.add("uipc-body"),D(),L(I),window.addEventListener("pagehide",e=>{a.updateState("loading",!1)}),document.addEventListener("uipx-settings-update",e=>{ne(e.detail)&&a.updateState("uixpress_settings",{...a.state.uixpress_settings,...e.detail})});const U=u(()=>{const e="shrink-0 uipx-normalize";switch(c.value){case"rounded  ":return`${e} bg-white dark:bg-zinc-900`;case"bubble  ":return`${e} p-6 bg-zinc-100/50 dark:bg-zinc-900 max-h-[100dvh]`;default:return e}}),j=u(()=>{const e="uipx-normalize box-border font-sans",t=o.value?"dark":"";switch(c.value){case"rounded":return`${e} ${t} max-h-screen h-screen`;case"bubble":return`${e} ${t} border border-zinc-100 dark:border-zinc-700/30 bg-white dark:bg-zinc-800/40 rounded-2xl shadow-lg z-[3] top-4 left-4 bottom-4 fixed overflow-hidden `;default:return`${e} ${t} border-r border-zinc-200 dark:border-zinc-700/30 bg-white dark:bg-zinc-900 max-h-screen h-screen`}});p(()=>o.value,e=>{e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},{immediate:!0}),p(()=>c.value,e=>{e==="rounded"?document.documentElement.classList.add("uixp-rounded"):document.documentElement.classList.remove("uixp-rounded")},{immediate:!0});const h=()=>{J(()=>{const e=document.getElementById("wpbody-content"),t=document.getElementById("wpcontent");let s=e||t;s&&(S.value?s.classList.add("dark-mode-magic"):s.classList.remove("dark-mode-magic"))})};return p(S,e=>{h()},{immediate:!0}),p(()=>window.location.href,()=>{h()}),p(()=>{var e;return(e=a.state.uixpress_settings)==null?void 0:e.magic_dark_mode_pages},()=>{h()},{deep:!0}),L(()=>{setTimeout(()=>{h()},100)}),(e,t)=>(d(),b("div",de,[(d(),y(_("style"),null,{default:x(()=>[...t[0]||(t[0]=[E(" :root{font-size:14px}table.fixed {position: static}#wpcontent{margin-left:var(--uixp-menu-width)}#adminmenu, #adminmenuback, #wpadminbar{z-index:-1;display:none !important}#adminmenuwrap{z-index:2; display:block !important} html.wp-toolbar { padding-top: var(--uixp-toolbar-height) !important } body.is-fullscreen-mode .block-editor__container{ z-index: 3 !important; } ",-1)])]),_:1})),(d(),y(_("style"),{innerHTML:k.value},null,8,["innerHTML"])),m(g(K),{tag:"div","adopted-style-sheets":[i.value],class:v(U.value)},{default:x(()=>[(d(),y(_("style"),null,{default:x(()=>[E(G(k.value),1)]),_:1})),w("div",le,[m(g(ee),{height:3,class:"z-[999999]"})]),w("div",{class:v([j.value,"hidden md:flex"])},[m(se,{id:"uixp-menu",class:""})],2),w("div",{class:v(["fixed right-0 top-0 md:left-[var(--uixp-menu-width)] left-0 z-[2] bg-white dark:bg-zinc-900 uipx-normalize border-zinc-200 dark:border-zinc-700/30",[g(o)?"dark":"",c.value==="bubble"||c.value==="rounded"?"":"border-b"]])},[m(ae,{id:"uixp-toolbar"})],2),Array.isArray(g(a).state.uixpress_settings.external_stylesheets)?(d(!0),b(O,{key:0},Y(g(a).state.uixpress_settings.external_stylesheets,(s,r)=>(d(),b("link",{rel:"stylesheet",id:`uix-external-${r}-css`,href:s,media:"all"},null,8,ce))),256)):H("",!0),m(te)]),_:1},8,["adopted-style-sheets","class"])]))}},f=W(ue),pe=X();f.use(pe);const l=M();Z(l);let $=new Map;l&&l.state&&l.state.uixpress_settings&&Array.isArray(l.state.uixpress_settings.text_replacements)&&($=new Map(l.state.uixpress_settings.text_replacements.filter(n=>Array.isArray(n)&&n.length===2&&typeof n[0]=="string"&&typeof n[1]=="string").map(n=>[n[0],n[1]])));const me=window.wp.i18n.__,B=(n,o)=>{let i=$.get(n)||n;return me(i,o)};window.__=B;f.config.globalProperties.__=B;f.config.globalProperties.sprintf=window.wp.i18n.sprintf;const A=document.getElementById("uipx-favicon");A&&document.getElementsByTagName("head")[0].appendChild(A);const ge=document.querySelector("#adminmenumain");if(ge){const n=document.createElement("div");n.id="uixpress-app-wrapper",document.body.prepend(n),f.mount(n)}const P=document.querySelector("#uipc-temporary-body-hider");P&&P.remove();
//# sourceMappingURL=app.build.RBHhcgGT.js.map
