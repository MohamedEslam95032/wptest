{"version":3,"file":"analytics.build.DPoehzz2.js","sources":["../src/apps/js/uixpressAnalytics.js"],"sourcesContent":["/**\n * UiXpress Analytics Tracking Script\n *\n * Lightweight frontend analytics tracking that logs page views and user interactions\n * with minimal performance impact.\n */\n\nclass UiXpressAnalytics {\n  constructor() {\n    this.config = {\n      endpoint: '/wp-json/uixpress/v1/analytics/track',\n      batchSize: 5,\n      flushInterval: 30000, // 30 seconds\n      maxRetries: 3,\n      retryDelay: 1000,\n      alwaysUseKeepalive: true, // Use keepalive for all requests for better reliability\n    };\n\n    this.queue = [];\n    this.isInitialized = false;\n    this.sessionId = this.getOrCreateSessionId();\n    this.lastTrackTime = 0;\n    this.minTrackInterval = 1000; // Minimum 1 second between tracks for same page\n    this.isProcessingUnload = false;\n\n    // Store instance globally for unload handlers\n    window.uixpressAnalytics = this;\n\n    this.init();\n  }\n\n  /**\n   * Initialize analytics tracking\n   */\n  init() {\n    // Only initialize if analytics is enabled and we're on frontend\n    if (!this.shouldTrack()) {\n      return;\n    }\n\n    this.isInitialized = true;\n\n    // Track initial page load\n    this.trackPageView();\n\n    // Set up event listeners for frontend interactions\n    this.setupEventListeners();\n\n    // Set up batch processing\n    this.startBatchProcessor();\n\n    // Track page visibility changes\n    this.trackVisibilityChanges();\n\n    // Track navigation changes (for SPAs)\n    this.trackNavigationChanges();\n  }\n\n  /**\n   * Check if analytics should be tracked\n   */\n  shouldTrack() {\n    // Only track on frontend (not admin)\n    if (window.location.href.includes('/wp-admin/')) {\n      return false;\n    }\n\n    // Check if analytics is enabled in settings\n    // We'll need to get this from a global variable or make an API call\n    return this.isAnalyticsEnabled();\n  }\n\n  /**\n   * Check if analytics is enabled (simplified check)\n   */\n  isAnalyticsEnabled() {\n    // For now, we'll assume analytics is enabled if the script is loaded\n    // In a real implementation, you might want to check this via an API call\n    // or pass it as a data attribute on the script tag\n    return true;\n  }\n\n  /**\n   * Get or create session ID\n   */\n  getOrCreateSessionId() {\n    let sessionId = sessionStorage.getItem('uixp_analytics_session');\n    if (!sessionId) {\n      sessionId = this.generateId();\n      sessionStorage.setItem('uixp_analytics_session', sessionId);\n    }\n    return sessionId;\n  }\n\n  /**\n   * Generate unique ID\n   */\n  generateId() {\n    return Math.random().toString(36).substr(2, 9) + Date.now().toString(36);\n  }\n\n  /**\n   * Track page view\n   */\n  trackPageView() {\n    const now = Date.now();\n\n    // Prevent duplicate tracking within minimum interval\n    if (now - this.lastTrackTime < this.minTrackInterval) {\n      return;\n    }\n\n    this.lastTrackTime = now;\n\n    const data = {\n      page_url: window.location.href,\n      page_title: document.title,\n      referrer: document.referrer || null,\n      user_agent: navigator.userAgent,\n      timestamp: now,\n    };\n\n    this.queue.push(data);\n  }\n\n  /**\n   * Set up event listeners for frontend interactions\n   */\n  setupEventListeners() {\n    // Track clicks on external links\n    document.addEventListener('click', (e) => {\n      const target = e.target.closest('a');\n      if (target && this.isExternalLink(target.href)) {\n        this.trackClick(target.href, 'external_link');\n      }\n    });\n\n    // Track form submissions on frontend\n    document.addEventListener('submit', (e) => {\n      const form = e.target;\n      if (form.tagName === 'FORM' && !form.action.includes('/wp-admin/')) {\n        this.trackFormSubmission(form);\n      }\n    });\n\n    // Track time on page\n    this.trackTimeOnPage();\n  }\n\n  /**\n   * Track click events\n   */\n  trackClick(url, type = 'click') {\n    const data = {\n      page_url: url,\n      page_title: document.title,\n      referrer: window.location.href,\n      event_type: type,\n      timestamp: Date.now(),\n    };\n\n    this.queue.push(data);\n  }\n\n  /**\n   * Track form submissions\n   */\n  trackFormSubmission(form) {\n    const action = form.action || 'unknown';\n    const method = form.method || 'POST';\n\n    const data = {\n      page_url: action,\n      page_title: document.title,\n      referrer: window.location.href,\n      event_type: 'form_submission',\n      form_method: method,\n      timestamp: Date.now(),\n    };\n\n    this.queue.push(data);\n  }\n\n  /**\n   * Track time on page\n   */\n  trackTimeOnPage() {\n    const startTime = Date.now();\n\n    window.addEventListener('beforeunload', () => {\n      const timeOnPage = Date.now() - startTime;\n      if (timeOnPage > 1000) {\n        // Only track if user spent more than 1 second\n        this.trackTimeOnPageEvent(timeOnPage);\n      }\n    });\n  }\n\n  /**\n   * Track time on page event\n   */\n  trackTimeOnPageEvent(timeOnPage) {\n    const data = {\n      page_url: window.location.href,\n      page_title: document.title,\n      referrer: document.referrer || null,\n      event_type: 'time_on_page',\n      time_on_page: timeOnPage,\n      timestamp: Date.now(),\n    };\n\n    this.queue.push(data);\n  }\n\n  /**\n   * Track navigation changes (for SPAs)\n   */\n  trackNavigationChanges() {\n    // Track popstate events (back/forward navigation)\n    window.addEventListener('popstate', () => {\n      setTimeout(() => {\n        this.trackPageView();\n      }, 100);\n    });\n\n    // Track pushstate/replacestate (for SPAs that use history API)\n    const originalPushState = history.pushState;\n    const originalReplaceState = history.replaceState;\n\n    history.pushState = function (...args) {\n      originalPushState.apply(history, args);\n      setTimeout(() => {\n        this.trackPageView();\n      }, 100);\n    };\n\n    history.replaceState = function (...args) {\n      originalReplaceState.apply(history, args);\n      setTimeout(() => {\n        this.trackPageView();\n      }, 100);\n    };\n  }\n\n  /**\n   * Check if link is external\n   */\n  isExternalLink(url) {\n    try {\n      const link = new URL(url);\n      const current = new URL(window.location.href);\n      return link.hostname !== current.hostname;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  /**\n   * Throttle function for performance\n   */\n  throttle(func, delay) {\n    let timeoutId;\n    let lastExecTime = 0;\n\n    return function (...args) {\n      const currentTime = Date.now();\n\n      if (currentTime - lastExecTime > delay) {\n        func.apply(this, args);\n        lastExecTime = currentTime;\n      } else {\n        clearTimeout(timeoutId);\n        timeoutId = setTimeout(() => {\n          func.apply(this, args);\n          lastExecTime = Date.now();\n        }, delay - (currentTime - lastExecTime));\n      }\n    };\n  }\n\n  /**\n   * Track page visibility changes\n   */\n  trackVisibilityChanges() {\n    document.addEventListener('visibilitychange', () => {\n      if (document.visibilityState === 'visible') {\n        this.trackPageView();\n      }\n    });\n  }\n\n  /**\n   * Start batch processor to send queued events\n   */\n  startBatchProcessor() {\n    // Process queue immediately\n    this.processQueue();\n\n    // Set up interval for batch processing\n    setInterval(() => {\n      this.processQueue();\n    }, this.config.flushInterval);\n\n    // Process queue before page unload - multiple event listeners for reliability\n    this.setupUnloadHandlers();\n  }\n\n  /**\n   * Set up multiple unload event handlers for maximum reliability\n   */\n  setupUnloadHandlers() {\n    // Primary beforeunload handler\n    window.addEventListener('beforeunload', () => {\n      this.processQueue(true);\n    });\n\n    // Backup handlers for different scenarios\n    window.addEventListener('pagehide', () => {\n      this.processQueue(true);\n    });\n\n    // For browsers that support visibilitychange\n    document.addEventListener('visibilitychange', () => {\n      if (document.visibilityState === 'hidden') {\n        this.processQueue(true);\n      }\n    });\n\n    // For SPA navigation (if using history API)\n    const originalPushState = history.pushState;\n    const originalReplaceState = history.replaceState;\n\n    history.pushState = function (...args) {\n      // Process queue before navigation\n      if (window.uixpressAnalytics) {\n        window.uixpressAnalytics.processQueue(true);\n      }\n      originalPushState.apply(history, args);\n    };\n\n    history.replaceState = function (...args) {\n      // Process queue before navigation\n      if (window.uixpressAnalytics) {\n        window.uixpressAnalytics.processQueue(true);\n      }\n      originalReplaceState.apply(history, args);\n    };\n  }\n\n  /**\n   * Process the analytics queue\n   */\n  async processQueue(isUnload = false) {\n    if (this.queue.length === 0) {\n      return;\n    }\n\n    console.log('Processing queue', this.queue);\n\n    // Prevent multiple unload processing\n    if (isUnload && this.isProcessingUnload) {\n      return;\n    }\n\n    if (isUnload) {\n      this.isProcessingUnload = true;\n    }\n\n    // For unload, process all events immediately\n    const batchSize = isUnload ? this.queue.length : this.config.batchSize;\n    const events = this.queue.splice(0, batchSize);\n\n    // For unload events, use Promise.allSettled for parallel processing\n    if (isUnload) {\n      const promises = events.map((event) => this.sendEvent(event, true));\n      const results = await Promise.allSettled(promises);\n\n      // Log any failures but don't re-queue for unload\n      results.forEach((result, index) => {\n        if (result.status === 'rejected') {\n          console.warn(\n            'UiXpress Analytics: Failed to send unload event',\n            result.reason\n          );\n        }\n      });\n    } else {\n      // Normal batch processing\n      for (const event of events) {\n        try {\n          await this.sendEvent(event);\n        } catch (error) {\n          console.warn('UiXpress Analytics: Failed to send event', error);\n          // Re-queue failed events (up to max retries)\n          if (event.retryCount < this.config.maxRetries) {\n            event.retryCount = (event.retryCount || 0) + 1;\n            this.queue.unshift(event);\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * Send analytics event to server\n   */\n  async sendEvent(event, isUnload = false) {\n    // Get REST configuration from WordPress\n    const restBase = window.wpApiSettings?.root || '/wp-json/';\n    const restNonce = window.wpApiSettings?.nonce || this.getNonceFromMeta();\n\n    // Build payload, excluding null/undefined values to avoid REST API validation errors\n    const payload = {\n      page_url: event.page_url,\n      session_id: this.sessionId, // Include session ID from client\n    };\n\n    // Only include optional fields if they have values\n    if (event.page_title) {\n      payload.page_title = event.page_title;\n    }\n    if (event.referrer) {\n      payload.referrer = event.referrer;\n    }\n    if (event.user_agent) {\n      payload.user_agent = event.user_agent;\n    }\n\n    const fetchOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(payload),\n    };\n\n    // Only add nonce if available (for logged-in users)\n    // Unauthenticated users can still track analytics without nonce\n    if (restNonce) {\n      fetchOptions.headers['X-WP-Nonce'] = restNonce;\n    }\n\n    // Always use keepalive for unload events, and for normal events too for reliability\n    if (isUnload || this.config.alwaysUseKeepalive) {\n      fetchOptions.keepalive = true;\n    }\n\n    const response = await fetch(\n      `${restBase}uixpress/v1/analytics/track`,\n      fetchOptions\n    );\n\n    if (!response.ok) {\n      // Try to get error details from response\n      let errorMessage = `HTTP ${response.status}: ${response.statusText}`;\n      try {\n        const errorData = await response.json();\n        if (errorData.message) {\n          errorMessage = errorData.message;\n        } else if (errorData.code) {\n          errorMessage = `${errorData.code}: ${\n            errorData.message || response.statusText\n          }`;\n        }\n      } catch (e) {\n        // If response is not JSON, use default error message\n      }\n      console.error(\n        'UiXpress Analytics: Failed to send event',\n        errorMessage,\n        payload\n      );\n      throw new Error(errorMessage);\n    }\n\n    return response.json();\n  }\n\n  /**\n   * Get nonce from meta tag if wpApiSettings is not available\n   */\n  getNonceFromMeta() {\n    const metaTag = document.querySelector('meta[name=\"wp-api-nonce\"]');\n    return metaTag ? metaTag.getAttribute('content') : null;\n  }\n}\n\n// Initialize analytics when DOM is ready\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', () => {\n    new UiXpressAnalytics();\n  });\n} else {\n  new UiXpressAnalytics();\n}\n"],"names":["UiXpressAnalytics","sessionId","now","data","target","form","url","type","action","method","startTime","timeOnPage","originalPushState","originalReplaceState","args","link","current","func","delay","timeoutId","lastExecTime","currentTime","isUnload","batchSize","events","promises","event","result","index","error","_a","_b","restBase","restNonce","payload","fetchOptions","response","errorMessage","errorData","metaTag"],"mappings":"AAOA,MAAMA,CAAkB,CACtB,aAAc,CACZ,KAAK,OAAS,CACZ,SAAU,uCACV,UAAW,EACX,cAAe,IACf,WAAY,EACZ,WAAY,IACZ,mBAAoB,EAC1B,EAEI,KAAK,MAAQ,CAAA,EACb,KAAK,cAAgB,GACrB,KAAK,UAAY,KAAK,qBAAoB,EAC1C,KAAK,cAAgB,EACrB,KAAK,iBAAmB,IACxB,KAAK,mBAAqB,GAG1B,OAAO,kBAAoB,KAE3B,KAAK,KAAI,CACX,CAKA,MAAO,CAEA,KAAK,gBAIV,KAAK,cAAgB,GAGrB,KAAK,cAAa,EAGlB,KAAK,oBAAmB,EAGxB,KAAK,oBAAmB,EAGxB,KAAK,uBAAsB,EAG3B,KAAK,uBAAsB,EAC7B,CAKA,aAAc,CAEZ,OAAI,OAAO,SAAS,KAAK,SAAS,YAAY,EACrC,GAKF,KAAK,mBAAkB,CAChC,CAKA,oBAAqB,CAInB,MAAO,EACT,CAKA,sBAAuB,CACrB,IAAIC,EAAY,eAAe,QAAQ,wBAAwB,EAC/D,OAAKA,IACHA,EAAY,KAAK,WAAU,EAC3B,eAAe,QAAQ,yBAA0BA,CAAS,GAErDA,CACT,CAKA,YAAa,CACX,OAAO,KAAK,OAAM,EAAG,SAAS,EAAE,EAAE,OAAO,EAAG,CAAC,EAAI,KAAK,IAAG,EAAG,SAAS,EAAE,CACzE,CAKA,eAAgB,CACd,MAAMC,EAAM,KAAK,IAAG,EAGpB,GAAIA,EAAM,KAAK,cAAgB,KAAK,iBAClC,OAGF,KAAK,cAAgBA,EAErB,MAAMC,EAAO,CACX,SAAU,OAAO,SAAS,KAC1B,WAAY,SAAS,MACrB,SAAU,SAAS,UAAY,KAC/B,WAAY,UAAU,UACtB,UAAWD,CACjB,EAEI,KAAK,MAAM,KAAKC,CAAI,CACtB,CAKA,qBAAsB,CAEpB,SAAS,iBAAiB,QAAU,GAAM,CACxC,MAAMC,EAAS,EAAE,OAAO,QAAQ,GAAG,EAC/BA,GAAU,KAAK,eAAeA,EAAO,IAAI,GAC3C,KAAK,WAAWA,EAAO,KAAM,eAAe,CAEhD,CAAC,EAGD,SAAS,iBAAiB,SAAW,GAAM,CACzC,MAAMC,EAAO,EAAE,OACXA,EAAK,UAAY,QAAU,CAACA,EAAK,OAAO,SAAS,YAAY,GAC/D,KAAK,oBAAoBA,CAAI,CAEjC,CAAC,EAGD,KAAK,gBAAe,CACtB,CAKA,WAAWC,EAAKC,EAAO,QAAS,CAC9B,MAAMJ,EAAO,CACX,SAAUG,EACV,WAAY,SAAS,MACrB,SAAU,OAAO,SAAS,KAC1B,WAAYC,EACZ,UAAW,KAAK,IAAG,CACzB,EAEI,KAAK,MAAM,KAAKJ,CAAI,CACtB,CAKA,oBAAoBE,EAAM,CACxB,MAAMG,EAASH,EAAK,QAAU,UACxBI,EAASJ,EAAK,QAAU,OAExBF,EAAO,CACX,SAAUK,EACV,WAAY,SAAS,MACrB,SAAU,OAAO,SAAS,KAC1B,WAAY,kBACZ,YAAaC,EACb,UAAW,KAAK,IAAG,CACzB,EAEI,KAAK,MAAM,KAAKN,CAAI,CACtB,CAKA,iBAAkB,CAChB,MAAMO,EAAY,KAAK,IAAG,EAE1B,OAAO,iBAAiB,eAAgB,IAAM,CAC5C,MAAMC,EAAa,KAAK,IAAG,EAAKD,EAC5BC,EAAa,KAEf,KAAK,qBAAqBA,CAAU,CAExC,CAAC,CACH,CAKA,qBAAqBA,EAAY,CAC/B,MAAMR,EAAO,CACX,SAAU,OAAO,SAAS,KAC1B,WAAY,SAAS,MACrB,SAAU,SAAS,UAAY,KAC/B,WAAY,eACZ,aAAcQ,EACd,UAAW,KAAK,IAAG,CACzB,EAEI,KAAK,MAAM,KAAKR,CAAI,CACtB,CAKA,wBAAyB,CAEvB,OAAO,iBAAiB,WAAY,IAAM,CACxC,WAAW,IAAM,CACf,KAAK,cAAa,CACpB,EAAG,GAAG,CACR,CAAC,EAGD,MAAMS,EAAoB,QAAQ,UAC5BC,EAAuB,QAAQ,aAErC,QAAQ,UAAY,YAAaC,EAAM,CACrCF,EAAkB,MAAM,QAASE,CAAI,EACrC,WAAW,IAAM,CACf,KAAK,cAAa,CACpB,EAAG,GAAG,CACR,EAEA,QAAQ,aAAe,YAAaA,EAAM,CACxCD,EAAqB,MAAM,QAASC,CAAI,EACxC,WAAW,IAAM,CACf,KAAK,cAAa,CACpB,EAAG,GAAG,CACR,CACF,CAKA,eAAeR,EAAK,CAClB,GAAI,CACF,MAAMS,EAAO,IAAI,IAAIT,CAAG,EAClBU,EAAU,IAAI,IAAI,OAAO,SAAS,IAAI,EAC5C,OAAOD,EAAK,WAAaC,EAAQ,QACnC,MAAY,CACV,MAAO,EACT,CACF,CAKA,SAASC,EAAMC,EAAO,CACpB,IAAIC,EACAC,EAAe,EAEnB,OAAO,YAAaN,EAAM,CACxB,MAAMO,EAAc,KAAK,IAAG,EAExBA,EAAcD,EAAeF,GAC/BD,EAAK,MAAM,KAAMH,CAAI,EACrBM,EAAeC,IAEf,aAAaF,CAAS,EACtBA,EAAY,WAAW,IAAM,CAC3BF,EAAK,MAAM,KAAMH,CAAI,EACrBM,EAAe,KAAK,IAAG,CACzB,EAAGF,GAASG,EAAcD,EAAa,EAE3C,CACF,CAKA,wBAAyB,CACvB,SAAS,iBAAiB,mBAAoB,IAAM,CAC9C,SAAS,kBAAoB,WAC/B,KAAK,cAAa,CAEtB,CAAC,CACH,CAKA,qBAAsB,CAEpB,KAAK,aAAY,EAGjB,YAAY,IAAM,CAChB,KAAK,aAAY,CACnB,EAAG,KAAK,OAAO,aAAa,EAG5B,KAAK,oBAAmB,CAC1B,CAKA,qBAAsB,CAEpB,OAAO,iBAAiB,eAAgB,IAAM,CAC5C,KAAK,aAAa,EAAI,CACxB,CAAC,EAGD,OAAO,iBAAiB,WAAY,IAAM,CACxC,KAAK,aAAa,EAAI,CACxB,CAAC,EAGD,SAAS,iBAAiB,mBAAoB,IAAM,CAC9C,SAAS,kBAAoB,UAC/B,KAAK,aAAa,EAAI,CAE1B,CAAC,EAGD,MAAMR,EAAoB,QAAQ,UAC5BC,EAAuB,QAAQ,aAErC,QAAQ,UAAY,YAAaC,EAAM,CAEjC,OAAO,mBACT,OAAO,kBAAkB,aAAa,EAAI,EAE5CF,EAAkB,MAAM,QAASE,CAAI,CACvC,EAEA,QAAQ,aAAe,YAAaA,EAAM,CAEpC,OAAO,mBACT,OAAO,kBAAkB,aAAa,EAAI,EAE5CD,EAAqB,MAAM,QAASC,CAAI,CAC1C,CACF,CAKA,MAAM,aAAaQ,EAAW,GAAO,CAQnC,GAPI,KAAK,MAAM,SAAW,IAI1B,QAAQ,IAAI,mBAAoB,KAAK,KAAK,EAGtCA,GAAY,KAAK,oBACnB,OAGEA,IACF,KAAK,mBAAqB,IAI5B,MAAMC,EAAYD,EAAW,KAAK,MAAM,OAAS,KAAK,OAAO,UACvDE,EAAS,KAAK,MAAM,OAAO,EAAGD,CAAS,EAG7C,GAAID,EAAU,CACZ,MAAMG,EAAWD,EAAO,IAAKE,GAAU,KAAK,UAAUA,EAAO,EAAI,CAAC,GAClD,MAAM,QAAQ,WAAWD,CAAQ,GAGzC,QAAQ,CAACE,EAAQC,IAAU,CAC7BD,EAAO,SAAW,YACpB,QAAQ,KACN,kDACAA,EAAO,MACnB,CAEM,CAAC,CACH,KAEE,WAAWD,KAASF,EAClB,GAAI,CACF,MAAM,KAAK,UAAUE,CAAK,CAC5B,OAASG,EAAO,CACd,QAAQ,KAAK,2CAA4CA,CAAK,EAE1DH,EAAM,WAAa,KAAK,OAAO,aACjCA,EAAM,YAAcA,EAAM,YAAc,GAAK,EAC7C,KAAK,MAAM,QAAQA,CAAK,EAE5B,CAGN,CAKA,MAAM,UAAUA,EAAOJ,EAAW,GAAO,CAtZ3C,IAAAQ,EAAAC,EAwZI,MAAMC,IAAWF,EAAA,OAAO,gBAAP,YAAAA,EAAsB,OAAQ,YACzCG,IAAYF,EAAA,OAAO,gBAAP,YAAAA,EAAsB,QAAS,KAAK,iBAAgB,EAGhEG,EAAU,CACd,SAAUR,EAAM,SAChB,WAAY,KAAK,SACvB,EAGQA,EAAM,aACRQ,EAAQ,WAAaR,EAAM,YAEzBA,EAAM,WACRQ,EAAQ,SAAWR,EAAM,UAEvBA,EAAM,aACRQ,EAAQ,WAAaR,EAAM,YAG7B,MAAMS,EAAe,CACnB,OAAQ,OACR,QAAS,CACP,eAAgB,kBACxB,EACM,KAAM,KAAK,UAAUD,CAAO,CAClC,EAIQD,IACFE,EAAa,QAAQ,YAAY,EAAIF,IAInCX,GAAY,KAAK,OAAO,sBAC1Ba,EAAa,UAAY,IAG3B,MAAMC,EAAW,MAAM,MACrB,GAAGJ,CAAQ,8BACXG,CACN,EAEI,GAAI,CAACC,EAAS,GAAI,CAEhB,IAAIC,EAAe,QAAQD,EAAS,MAAM,KAAKA,EAAS,UAAU,GAClE,GAAI,CACF,MAAME,EAAY,MAAMF,EAAS,KAAI,EACjCE,EAAU,QACZD,EAAeC,EAAU,QAChBA,EAAU,OACnBD,EAAe,GAAGC,EAAU,IAAI,KAC9BA,EAAU,SAAWF,EAAS,UAC1C,GAEM,MAAY,CAEZ,CACA,cAAQ,MACN,2CACAC,EACAH,CACR,EACY,IAAI,MAAMG,CAAY,CAC9B,CAEA,OAAOD,EAAS,KAAI,CACtB,CAKA,kBAAmB,CACjB,MAAMG,EAAU,SAAS,cAAc,2BAA2B,EAClE,OAAOA,EAAUA,EAAQ,aAAa,SAAS,EAAI,IACrD,CACF,CAGI,SAAS,aAAe,UAC1B,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,IAAIvC,CACN,CAAC,EAED,IAAIA"}